{"version":3,"file":"index.js","sources":["../../../../../node_modules/@babel/runtime/helpers/esm/extends.js","../../../../../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../../../../../node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../../../../../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","../../../../../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../../../../../node_modules/@babel/runtime/helpers/esm/isNativeFunction.js","../../../../../node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","../../../../../node_modules/@babel/runtime/helpers/esm/construct.js","../../../../../node_modules/@babel/runtime/helpers/esm/wrapNativeSuper.js","../../../../../node_modules/polished/dist/polished.esm.js","../../../src/theme/components.tsx","../../../src/theme/index.tsx","../../../src/utils/getLibrary.ts","../../../src/connectors/Fortmatic.ts","../../../../../node_modules/tiny-invariant/dist/tiny-invariant.esm.js","../../../src/connectors/NetworkConnector.ts","../../../src/connectors/index.ts","../../../src/constants/index.ts","../../../src/hooks/index.ts","../../../src/components/common/Loader.tsx","../../../src/components/pages/Web3ReactManager.tsx","../../../src/state/transactions/hooks.tsx","../../../../../node_modules/@ethersproject/logger/lib.esm/_version.js","../../../../../node_modules/@ethersproject/logger/lib.esm/index.js","../../../../../node_modules/@ethersproject/address/lib.esm/_version.js","../../../../../node_modules/@ethersproject/address/lib.esm/index.js","../../../src/utils/index.ts","../../../src/components/common/Row.tsx","../../../src/components/common/Button.tsx","../../../src/components/common/Identicon.tsx","../../../public/assets/images/x.svg","../../../src/hooks/usePrevious.tsx","../../../src/hooks/useCopyClipboard.tsx","../../../src/components/WalletModal/Copy.tsx","../../../src/components/WalletModal/Transaction.tsx","../../../src/components/WalletModal/AccountDetails.tsx","../../../src/state/state.provider.tsx","../../../../../node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","../../../../../node_modules/react-spring/web.js","../../../../../node_modules/react-use-gesture/dist/reactusegesture.esm.js","../../../src/components/common/Modal.tsx","../../../src/components/WalletModal/Option.tsx","../../../src/components/WalletModal/PendingView.tsx","../../../src/components/WalletModal/index.tsx","../../../src/components/pages/Web3Status.tsx","../../../src/components/pages/Header.tsx","../../../src/components/pages/Layout.tsx","../../../src/index.tsx"],"sourcesContent":["export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  setPrototypeOf(subClass, superClass);\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","export default function _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nimport isNativeReflectConstruct from \"./isNativeReflectConstruct.js\";\nexport default function _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    _construct = Reflect.construct;\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}","import getPrototypeOf from \"./getPrototypeOf.js\";\nimport setPrototypeOf from \"./setPrototypeOf.js\";\nimport isNativeFunction from \"./isNativeFunction.js\";\nimport construct from \"./construct.js\";\nexport default function _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return construct(Class, arguments, getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}","import _extends from '@babel/runtime/helpers/esm/extends';\nimport _assertThisInitialized from '@babel/runtime/helpers/esm/assertThisInitialized';\nimport _inheritsLoose from '@babel/runtime/helpers/esm/inheritsLoose';\nimport _wrapNativeSuper from '@babel/runtime/helpers/esm/wrapNativeSuper';\nimport _taggedTemplateLiteralLoose from '@babel/runtime/helpers/esm/taggedTemplateLiteralLoose';\n\nfunction last() {\n  var _ref;\n\n  return _ref = arguments.length - 1, _ref < 0 || arguments.length <= _ref ? undefined : arguments[_ref];\n}\n\nfunction negation(a) {\n  return -a;\n}\n\nfunction addition(a, b) {\n  return a + b;\n}\n\nfunction subtraction(a, b) {\n  return a - b;\n}\n\nfunction multiplication(a, b) {\n  return a * b;\n}\n\nfunction division(a, b) {\n  return a / b;\n}\n\nfunction max() {\n  return Math.max.apply(Math, arguments);\n}\n\nfunction min() {\n  return Math.min.apply(Math, arguments);\n}\n\nfunction comma() {\n  return Array.of.apply(Array, arguments);\n}\n\nvar defaultSymbols = {\n  symbols: {\n    '*': {\n      infix: {\n        symbol: '*',\n        f: multiplication,\n        notation: 'infix',\n        precedence: 4,\n        rightToLeft: 0,\n        argCount: 2\n      },\n      symbol: '*',\n      regSymbol: '\\\\*'\n    },\n    '/': {\n      infix: {\n        symbol: '/',\n        f: division,\n        notation: 'infix',\n        precedence: 4,\n        rightToLeft: 0,\n        argCount: 2\n      },\n      symbol: '/',\n      regSymbol: '/'\n    },\n    '+': {\n      infix: {\n        symbol: '+',\n        f: addition,\n        notation: 'infix',\n        precedence: 2,\n        rightToLeft: 0,\n        argCount: 2\n      },\n      prefix: {\n        symbol: '+',\n        f: last,\n        notation: 'prefix',\n        precedence: 3,\n        rightToLeft: 0,\n        argCount: 1\n      },\n      symbol: '+',\n      regSymbol: '\\\\+'\n    },\n    '-': {\n      infix: {\n        symbol: '-',\n        f: subtraction,\n        notation: 'infix',\n        precedence: 2,\n        rightToLeft: 0,\n        argCount: 2\n      },\n      prefix: {\n        symbol: '-',\n        f: negation,\n        notation: 'prefix',\n        precedence: 3,\n        rightToLeft: 0,\n        argCount: 1\n      },\n      symbol: '-',\n      regSymbol: '-'\n    },\n    ',': {\n      infix: {\n        symbol: ',',\n        f: comma,\n        notation: 'infix',\n        precedence: 1,\n        rightToLeft: 0,\n        argCount: 2\n      },\n      symbol: ',',\n      regSymbol: ','\n    },\n    '(': {\n      prefix: {\n        symbol: '(',\n        f: last,\n        notation: 'prefix',\n        precedence: 0,\n        rightToLeft: 0,\n        argCount: 1\n      },\n      symbol: '(',\n      regSymbol: '\\\\('\n    },\n    ')': {\n      postfix: {\n        symbol: ')',\n        f: undefined,\n        notation: 'postfix',\n        precedence: 0,\n        rightToLeft: 0,\n        argCount: 1\n      },\n      symbol: ')',\n      regSymbol: '\\\\)'\n    },\n    min: {\n      func: {\n        symbol: 'min',\n        f: min,\n        notation: 'func',\n        precedence: 0,\n        rightToLeft: 0,\n        argCount: 1\n      },\n      symbol: 'min',\n      regSymbol: 'min\\\\b'\n    },\n    max: {\n      func: {\n        symbol: 'max',\n        f: max,\n        notation: 'func',\n        precedence: 0,\n        rightToLeft: 0,\n        argCount: 1\n      },\n      symbol: 'max',\n      regSymbol: 'max\\\\b'\n    }\n  }\n};\n\n// based on https://github.com/styled-components/styled-components/blob/fcf6f3804c57a14dd7984dfab7bc06ee2edca044/src/utils/error.js\n\n/**\n * Parse errors.md and turn it into a simple hash of code: message\n * @private\n */\nvar ERRORS = {\n  \"1\": \"Passed invalid arguments to hsl, please pass multiple numbers e.g. hsl(360, 0.75, 0.4) or an object e.g. rgb({ hue: 255, saturation: 0.4, lightness: 0.75 }).\\n\\n\",\n  \"2\": \"Passed invalid arguments to hsla, please pass multiple numbers e.g. hsla(360, 0.75, 0.4, 0.7) or an object e.g. rgb({ hue: 255, saturation: 0.4, lightness: 0.75, alpha: 0.7 }).\\n\\n\",\n  \"3\": \"Passed an incorrect argument to a color function, please pass a string representation of a color.\\n\\n\",\n  \"4\": \"Couldn't generate valid rgb string from %s, it returned %s.\\n\\n\",\n  \"5\": \"Couldn't parse the color string. Please provide the color as a string in hex, rgb, rgba, hsl or hsla notation.\\n\\n\",\n  \"6\": \"Passed invalid arguments to rgb, please pass multiple numbers e.g. rgb(255, 205, 100) or an object e.g. rgb({ red: 255, green: 205, blue: 100 }).\\n\\n\",\n  \"7\": \"Passed invalid arguments to rgba, please pass multiple numbers e.g. rgb(255, 205, 100, 0.75) or an object e.g. rgb({ red: 255, green: 205, blue: 100, alpha: 0.75 }).\\n\\n\",\n  \"8\": \"Passed invalid argument to toColorString, please pass a RgbColor, RgbaColor, HslColor or HslaColor object.\\n\\n\",\n  \"9\": \"Please provide a number of steps to the modularScale helper.\\n\\n\",\n  \"10\": \"Please pass a number or one of the predefined scales to the modularScale helper as the ratio.\\n\\n\",\n  \"11\": \"Invalid value passed as base to modularScale, expected number or em string but got \\\"%s\\\"\\n\\n\",\n  \"12\": \"Expected a string ending in \\\"px\\\" or a number passed as the first argument to %s(), got \\\"%s\\\" instead.\\n\\n\",\n  \"13\": \"Expected a string ending in \\\"px\\\" or a number passed as the second argument to %s(), got \\\"%s\\\" instead.\\n\\n\",\n  \"14\": \"Passed invalid pixel value (\\\"%s\\\") to %s(), please pass a value like \\\"12px\\\" or 12.\\n\\n\",\n  \"15\": \"Passed invalid base value (\\\"%s\\\") to %s(), please pass a value like \\\"12px\\\" or 12.\\n\\n\",\n  \"16\": \"You must provide a template to this method.\\n\\n\",\n  \"17\": \"You passed an unsupported selector state to this method.\\n\\n\",\n  \"18\": \"minScreen and maxScreen must be provided as stringified numbers with the same units.\\n\\n\",\n  \"19\": \"fromSize and toSize must be provided as stringified numbers with the same units.\\n\\n\",\n  \"20\": \"expects either an array of objects or a single object with the properties prop, fromSize, and toSize.\\n\\n\",\n  \"21\": \"expects the objects in the first argument array to have the properties `prop`, `fromSize`, and `toSize`.\\n\\n\",\n  \"22\": \"expects the first argument object to have the properties `prop`, `fromSize`, and `toSize`.\\n\\n\",\n  \"23\": \"fontFace expects a name of a font-family.\\n\\n\",\n  \"24\": \"fontFace expects either the path to the font file(s) or a name of a local copy.\\n\\n\",\n  \"25\": \"fontFace expects localFonts to be an array.\\n\\n\",\n  \"26\": \"fontFace expects fileFormats to be an array.\\n\\n\",\n  \"27\": \"radialGradient requries at least 2 color-stops to properly render.\\n\\n\",\n  \"28\": \"Please supply a filename to retinaImage() as the first argument.\\n\\n\",\n  \"29\": \"Passed invalid argument to triangle, please pass correct pointingDirection e.g. 'right'.\\n\\n\",\n  \"30\": \"Passed an invalid value to `height` or `width`. Please provide a pixel based unit.\\n\\n\",\n  \"31\": \"The animation shorthand only takes 8 arguments. See the specification for more information: http://mdn.io/animation\\n\\n\",\n  \"32\": \"To pass multiple animations please supply them in arrays, e.g. animation(['rotate', '2s'], ['move', '1s'])\\nTo pass a single animation please supply them in simple values, e.g. animation('rotate', '2s')\\n\\n\",\n  \"33\": \"The animation shorthand arrays can only have 8 elements. See the specification for more information: http://mdn.io/animation\\n\\n\",\n  \"34\": \"borderRadius expects a radius value as a string or number as the second argument.\\n\\n\",\n  \"35\": \"borderRadius expects one of \\\"top\\\", \\\"bottom\\\", \\\"left\\\" or \\\"right\\\" as the first argument.\\n\\n\",\n  \"36\": \"Property must be a string value.\\n\\n\",\n  \"37\": \"Syntax Error at %s.\\n\\n\",\n  \"38\": \"Formula contains a function that needs parentheses at %s.\\n\\n\",\n  \"39\": \"Formula is missing closing parenthesis at %s.\\n\\n\",\n  \"40\": \"Formula has too many closing parentheses at %s.\\n\\n\",\n  \"41\": \"All values in a formula must have the same unit or be unitless.\\n\\n\",\n  \"42\": \"Please provide a number of steps to the modularScale helper.\\n\\n\",\n  \"43\": \"Please pass a number or one of the predefined scales to the modularScale helper as the ratio.\\n\\n\",\n  \"44\": \"Invalid value passed as base to modularScale, expected number or em/rem string but got %s.\\n\\n\",\n  \"45\": \"Passed invalid argument to hslToColorString, please pass a HslColor or HslaColor object.\\n\\n\",\n  \"46\": \"Passed invalid argument to rgbToColorString, please pass a RgbColor or RgbaColor object.\\n\\n\",\n  \"47\": \"minScreen and maxScreen must be provided as stringified numbers with the same units.\\n\\n\",\n  \"48\": \"fromSize and toSize must be provided as stringified numbers with the same units.\\n\\n\",\n  \"49\": \"Expects either an array of objects or a single object with the properties prop, fromSize, and toSize.\\n\\n\",\n  \"50\": \"Expects the objects in the first argument array to have the properties prop, fromSize, and toSize.\\n\\n\",\n  \"51\": \"Expects the first argument object to have the properties prop, fromSize, and toSize.\\n\\n\",\n  \"52\": \"fontFace expects either the path to the font file(s) or a name of a local copy.\\n\\n\",\n  \"53\": \"fontFace expects localFonts to be an array.\\n\\n\",\n  \"54\": \"fontFace expects fileFormats to be an array.\\n\\n\",\n  \"55\": \"fontFace expects a name of a font-family.\\n\\n\",\n  \"56\": \"linearGradient requries at least 2 color-stops to properly render.\\n\\n\",\n  \"57\": \"radialGradient requries at least 2 color-stops to properly render.\\n\\n\",\n  \"58\": \"Please supply a filename to retinaImage() as the first argument.\\n\\n\",\n  \"59\": \"Passed invalid argument to triangle, please pass correct pointingDirection e.g. 'right'.\\n\\n\",\n  \"60\": \"Passed an invalid value to `height` or `width`. Please provide a pixel based unit.\\n\\n\",\n  \"61\": \"Property must be a string value.\\n\\n\",\n  \"62\": \"borderRadius expects a radius value as a string or number as the second argument.\\n\\n\",\n  \"63\": \"borderRadius expects one of \\\"top\\\", \\\"bottom\\\", \\\"left\\\" or \\\"right\\\" as the first argument.\\n\\n\",\n  \"64\": \"The animation shorthand only takes 8 arguments. See the specification for more information: http://mdn.io/animation.\\n\\n\",\n  \"65\": \"To pass multiple animations please supply them in arrays, e.g. animation(['rotate', '2s'], ['move', '1s'])\\\\nTo pass a single animation please supply them in simple values, e.g. animation('rotate', '2s').\\n\\n\",\n  \"66\": \"The animation shorthand arrays can only have 8 elements. See the specification for more information: http://mdn.io/animation.\\n\\n\",\n  \"67\": \"You must provide a template to this method.\\n\\n\",\n  \"68\": \"You passed an unsupported selector state to this method.\\n\\n\",\n  \"69\": \"Expected a string ending in \\\"px\\\" or a number passed as the first argument to %s(), got %s instead.\\n\\n\",\n  \"70\": \"Expected a string ending in \\\"px\\\" or a number passed as the second argument to %s(), got %s instead.\\n\\n\",\n  \"71\": \"Passed invalid pixel value %s to %s(), please pass a value like \\\"12px\\\" or 12.\\n\\n\",\n  \"72\": \"Passed invalid base value %s to %s(), please pass a value like \\\"12px\\\" or 12.\\n\\n\",\n  \"73\": \"Please provide a valid CSS variable.\\n\\n\",\n  \"74\": \"CSS variable not found and no default was provided.\\n\\n\",\n  \"75\": \"important requires a valid style object, got a %s instead.\\n\\n\",\n  \"76\": \"fromSize and toSize must be provided as stringified numbers with the same units as minScreen and maxScreen.\\n\\n\",\n  \"77\": \"remToPx expects a value in \\\"rem\\\" but you provided it in \\\"%s\\\".\\n\\n\",\n  \"78\": \"base must be set in \\\"px\\\" or \\\"%\\\" but you set it in \\\"%s\\\".\\n\"\n};\n/**\n * super basic version of sprintf\n * @private\n */\n\nfunction format() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  var a = args[0];\n  var b = [];\n  var c;\n\n  for (c = 1; c < args.length; c += 1) {\n    b.push(args[c]);\n  }\n\n  b.forEach(function (d) {\n    a = a.replace(/%[a-z]/, d);\n  });\n  return a;\n}\n/**\n * Create an error file out of errors.md for development and a simple web link to the full errors\n * in production mode.\n * @private\n */\n\n\nvar PolishedError = /*#__PURE__*/function (_Error) {\n  _inheritsLoose(PolishedError, _Error);\n\n  function PolishedError(code) {\n    var _this;\n\n    if (process.env.NODE_ENV === 'production') {\n      _this = _Error.call(this, \"An error occurred. See https://github.com/styled-components/polished/blob/main/src/internalHelpers/errors.md#\" + code + \" for more information.\") || this;\n    } else {\n      for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        args[_key2 - 1] = arguments[_key2];\n      }\n\n      _this = _Error.call(this, format.apply(void 0, [ERRORS[code]].concat(args))) || this;\n    }\n\n    return _assertThisInitialized(_this);\n  }\n\n  return PolishedError;\n}( /*#__PURE__*/_wrapNativeSuper(Error));\n\nvar unitRegExp = /((?!\\w)a|na|hc|mc|dg|me[r]?|xe|ni(?![a-zA-Z])|mm|cp|tp|xp|q(?!s)|hv|xamv|nimv|wv|sm|s(?!\\D|$)|ged|darg?|nrut)/g; // Merges additional math functionality into the defaults.\n\nfunction mergeSymbolMaps(additionalSymbols) {\n  var symbolMap = {};\n  symbolMap.symbols = additionalSymbols ? _extends({}, defaultSymbols.symbols, additionalSymbols.symbols) : _extends({}, defaultSymbols.symbols);\n  return symbolMap;\n}\n\nfunction exec(operators, values) {\n  var _ref;\n\n  var op = operators.pop();\n  values.push(op.f.apply(op, (_ref = []).concat.apply(_ref, values.splice(-op.argCount))));\n  return op.precedence;\n}\n\nfunction calculate(expression, additionalSymbols) {\n  var symbolMap = mergeSymbolMaps(additionalSymbols);\n  var match;\n  var operators = [symbolMap.symbols['('].prefix];\n  var values = [];\n  var pattern = new RegExp( // Pattern for numbers\n  \"\\\\d+(?:\\\\.\\\\d+)?|\" + // ...and patterns for individual operators/function names\n  Object.keys(symbolMap.symbols).map(function (key) {\n    return symbolMap.symbols[key];\n  }) // longer symbols should be listed first\n  // $FlowFixMe\n  .sort(function (a, b) {\n    return b.symbol.length - a.symbol.length;\n  }) // $FlowFixMe\n  .map(function (val) {\n    return val.regSymbol;\n  }).join('|') + \"|(\\\\S)\", 'g');\n  pattern.lastIndex = 0; // Reset regular expression object\n\n  var afterValue = false;\n\n  do {\n    match = pattern.exec(expression);\n\n    var _ref2 = match || [')', undefined],\n        token = _ref2[0],\n        bad = _ref2[1];\n\n    var notNumber = symbolMap.symbols[token];\n    var notNewValue = notNumber && !notNumber.prefix && !notNumber.func;\n    var notAfterValue = !notNumber || !notNumber.postfix && !notNumber.infix; // Check for syntax errors:\n\n    if (bad || (afterValue ? notAfterValue : notNewValue)) {\n      throw new PolishedError(37, match ? match.index : expression.length, expression);\n    }\n\n    if (afterValue) {\n      // We either have an infix or postfix operator (they should be mutually exclusive)\n      var curr = notNumber.postfix || notNumber.infix;\n\n      do {\n        var prev = operators[operators.length - 1];\n        if ((curr.precedence - prev.precedence || prev.rightToLeft) > 0) break; // Apply previous operator, since it has precedence over current one\n      } while (exec(operators, values)); // Exit loop after executing an opening parenthesis or function\n\n\n      afterValue = curr.notation === 'postfix';\n\n      if (curr.symbol !== ')') {\n        operators.push(curr); // Postfix always has precedence over any operator that follows after it\n\n        if (afterValue) exec(operators, values);\n      }\n    } else if (notNumber) {\n      // prefix operator or function\n      operators.push(notNumber.prefix || notNumber.func);\n\n      if (notNumber.func) {\n        // Require an opening parenthesis\n        match = pattern.exec(expression);\n\n        if (!match || match[0] !== '(') {\n          throw new PolishedError(38, match ? match.index : expression.length, expression);\n        }\n      }\n    } else {\n      // number\n      values.push(+token);\n      afterValue = true;\n    }\n  } while (match && operators.length);\n\n  if (operators.length) {\n    throw new PolishedError(39, match ? match.index : expression.length, expression);\n  } else if (match) {\n    throw new PolishedError(40, match ? match.index : expression.length, expression);\n  } else {\n    return values.pop();\n  }\n}\n\nfunction reverseString(str) {\n  return str.split('').reverse().join('');\n}\n/**\n * Helper for doing math with CSS Units. Accepts a formula as a string. All values in the formula must have the same unit (or be unitless). Supports complex formulas utliziing addition, subtraction, multiplication, division, square root, powers, factorial, min, max, as well as parentheses for order of operation.\n *\n *In cases where you need to do calculations with mixed units where one unit is a [relative length unit](https://developer.mozilla.org/en-US/docs/Web/CSS/length#Relative_length_units), you will want to use [CSS Calc](https://developer.mozilla.org/en-US/docs/Web/CSS/calc).\n *\n * *warning* While we've done everything possible to ensure math safely evalutes formulas expressed as strings, you should always use extreme caution when passing `math` user provided values.\n * @example\n * // Styles as object usage\n * const styles = {\n *   fontSize: math('12rem + 8rem'),\n *   fontSize: math('(12px + 2px) * 3'),\n *   fontSize: math('3px^2 + sqrt(4)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   fontSize: ${math('12rem + 8rem')};\n *   fontSize: ${math('(12px + 2px) * 3')};\n *   fontSize: ${math('3px^2 + sqrt(4)')};\n * `\n *\n * // CSS as JS Output\n *\n * div: {\n *   fontSize: '20rem',\n *   fontSize: '42px',\n *   fontSize: '11px',\n * }\n */\n\n\nfunction math(formula, additionalSymbols) {\n  var reversedFormula = reverseString(formula);\n  var formulaMatch = reversedFormula.match(unitRegExp); // Check that all units are the same\n\n  if (formulaMatch && !formulaMatch.every(function (unit) {\n    return unit === formulaMatch[0];\n  })) {\n    throw new PolishedError(41);\n  }\n\n  var cleanFormula = reverseString(reversedFormula.replace(unitRegExp, ''));\n  return \"\" + calculate(cleanFormula, additionalSymbols) + (formulaMatch ? reverseString(formulaMatch[0]) : '');\n}\n\nvar cssVariableRegex = /--[\\S]*/g;\n/**\n * Fetches the value of a passed CSS Variable in the :root scope, or otherwise returns a defaultValue if provided.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   'background': cssVar('--background-color'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${cssVar('--background-color')};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   'background': 'red'\n * }\n */\n\nfunction cssVar(cssVariable, defaultValue) {\n  if (!cssVariable || !cssVariable.match(cssVariableRegex)) {\n    throw new PolishedError(73);\n  }\n\n  var variableValue;\n  /* eslint-disable */\n\n  /* istanbul ignore next */\n\n  if (typeof document !== 'undefined' && document.documentElement !== null) {\n    variableValue = getComputedStyle(document.documentElement).getPropertyValue(cssVariable);\n  }\n  /* eslint-enable */\n\n\n  if (variableValue) {\n    return variableValue.trim();\n  } else if (defaultValue) {\n    return defaultValue;\n  }\n\n  throw new PolishedError(74);\n}\n\n// @private\nfunction capitalizeString(string) {\n  return string.charAt(0).toUpperCase() + string.slice(1);\n}\n\nvar positionMap = ['Top', 'Right', 'Bottom', 'Left'];\n\nfunction generateProperty(property, position) {\n  if (!property) return position.toLowerCase();\n  var splitProperty = property.split('-');\n\n  if (splitProperty.length > 1) {\n    splitProperty.splice(1, 0, position);\n    return splitProperty.reduce(function (acc, val) {\n      return \"\" + acc + capitalizeString(val);\n    });\n  }\n\n  var joinedProperty = property.replace(/([a-z])([A-Z])/g, \"$1\" + position + \"$2\");\n  return property === joinedProperty ? \"\" + property + position : joinedProperty;\n}\n\nfunction generateStyles(property, valuesWithDefaults) {\n  var styles = {};\n\n  for (var i = 0; i < valuesWithDefaults.length; i += 1) {\n    if (valuesWithDefaults[i] || valuesWithDefaults[i] === 0) {\n      styles[generateProperty(property, positionMap[i])] = valuesWithDefaults[i];\n    }\n  }\n\n  return styles;\n}\n/**\n * Enables shorthand for direction-based properties. It accepts a property (hyphenated or camelCased) and up to four values that map to top, right, bottom, and left, respectively. You can optionally pass an empty string to get only the directional values as properties. You can also optionally pass a null argument for a directional value to ignore it.\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...directionalProperty('padding', '12px', '24px', '36px', '48px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${directionalProperty('padding', '12px', '24px', '36px', '48px')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'paddingTop': '12px',\n *   'paddingRight': '24px',\n *   'paddingBottom': '36px',\n *   'paddingLeft': '48px'\n * }\n */\n\n\nfunction directionalProperty(property) {\n  for (var _len = arguments.length, values = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    values[_key - 1] = arguments[_key];\n  }\n\n  //  prettier-ignore\n  var firstValue = values[0],\n      _values$ = values[1],\n      secondValue = _values$ === void 0 ? firstValue : _values$,\n      _values$2 = values[2],\n      thirdValue = _values$2 === void 0 ? firstValue : _values$2,\n      _values$3 = values[3],\n      fourthValue = _values$3 === void 0 ? secondValue : _values$3;\n  var valuesWithDefaults = [firstValue, secondValue, thirdValue, fourthValue];\n  return generateStyles(property, valuesWithDefaults);\n}\n\n/**\n * Check if a string ends with something\n * @private\n */\nfunction endsWith(string, suffix) {\n  return string.substr(-suffix.length) === suffix;\n}\n\nvar cssRegex = /^([+-]?(?:\\d+|\\d*\\.\\d+))([a-z]*|%)$/;\n/**\n * Returns a given CSS value minus its unit of measure.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   '--dimension': stripUnit('100px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   --dimension: ${stripUnit('100px')};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   '--dimension': 100\n * }\n */\n\nfunction stripUnit(value) {\n  if (typeof value !== 'string') return value;\n  var matchedValue = value.match(cssRegex);\n  return matchedValue ? parseFloat(value) : value;\n}\n\n/**\n * Factory function that creates pixel-to-x converters\n * @private\n */\n\nvar pxtoFactory = function pxtoFactory(to) {\n  return function (pxval, base) {\n    if (base === void 0) {\n      base = '16px';\n    }\n\n    var newPxval = pxval;\n    var newBase = base;\n\n    if (typeof pxval === 'string') {\n      if (!endsWith(pxval, 'px')) {\n        throw new PolishedError(69, to, pxval);\n      }\n\n      newPxval = stripUnit(pxval);\n    }\n\n    if (typeof base === 'string') {\n      if (!endsWith(base, 'px')) {\n        throw new PolishedError(70, to, base);\n      }\n\n      newBase = stripUnit(base);\n    }\n\n    if (typeof newPxval === 'string') {\n      throw new PolishedError(71, pxval, to);\n    }\n\n    if (typeof newBase === 'string') {\n      throw new PolishedError(72, base, to);\n    }\n\n    return \"\" + newPxval / newBase + to;\n  };\n};\n\n/**\n * Convert pixel value to ems. The default base value is 16px, but can be changed by passing a\n * second argument to the function.\n * @function\n * @param {string|number} pxval\n * @param {string|number} [base='16px']\n * @example\n * // Styles as object usage\n * const styles = {\n *   'height': em('16px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   height: ${em('16px')}\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   'height': '1em'\n * }\n */\n\nvar em = /*#__PURE__*/pxtoFactory('em');\n\nvar cssRegex$1 = /^([+-]?(?:\\d+|\\d*\\.\\d+))([a-z]*|%)$/;\n/**\n * Returns a given CSS value and its unit as elements of an array.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   '--dimension': getValueAndUnit('100px')[0],\n *   '--unit': getValueAndUnit('100px')[1],\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   --dimension: ${getValueAndUnit('100px')[0]};\n *   --unit: ${getValueAndUnit('100px')[1]};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   '--dimension': 100,\n *   '--unit': 'px',\n * }\n */\n\nfunction getValueAndUnit(value) {\n  if (typeof value !== 'string') return [value, ''];\n  var matchedValue = value.match(cssRegex$1);\n  if (matchedValue) return [parseFloat(value), matchedValue[2]];\n  return [value, undefined];\n}\n\n/**\n * Helper for targeting rules in a style block generated by polished modules that need !important-level specificity. Can optionally specify a rule (or rules) to target specific rules.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...important(cover())\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${important(cover())}\n * `\n *\n * // CSS as JS Output\n *\n * div: {\n *   'position': 'absolute !important',\n *   'top': '0 !important',\n *   'right: '0 !important',\n *   'bottom': '0 !important',\n *   'left: '0 !important'\n * }\n */\n\nfunction important(styleBlock, rules) {\n  if (typeof styleBlock !== 'object' || styleBlock === null) {\n    throw new PolishedError(75, typeof styleBlock);\n  }\n\n  var newStyleBlock = {};\n  Object.keys(styleBlock).forEach(function (key) {\n    if (typeof styleBlock[key] === 'object' && styleBlock[key] !== null) {\n      newStyleBlock[key] = important(styleBlock[key], rules);\n    } else if (!rules || rules && (rules === key || rules.indexOf(key) >= 0)) {\n      newStyleBlock[key] = styleBlock[key] + \" !important\";\n    } else {\n      newStyleBlock[key] = styleBlock[key];\n    }\n  });\n  return newStyleBlock;\n}\n\nvar ratioNames = {\n  minorSecond: 1.067,\n  majorSecond: 1.125,\n  minorThird: 1.2,\n  majorThird: 1.25,\n  perfectFourth: 1.333,\n  augFourth: 1.414,\n  perfectFifth: 1.5,\n  minorSixth: 1.6,\n  goldenSection: 1.618,\n  majorSixth: 1.667,\n  minorSeventh: 1.778,\n  majorSeventh: 1.875,\n  octave: 2,\n  majorTenth: 2.5,\n  majorEleventh: 2.667,\n  majorTwelfth: 3,\n  doubleOctave: 4\n};\n\nfunction getRatio(ratioName) {\n  return ratioNames[ratioName];\n}\n/**\n * Establish consistent measurements and spacial relationships throughout your projects by incrementing an em or rem value up or down a defined scale. We provide a list of commonly used scales as pre-defined variables.\n * @example\n * // Styles as object usage\n * const styles = {\n *    // Increment two steps up the default scale\n *   'fontSize': modularScale(2)\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *    // Increment two steps up the default scale\n *   fontSize: ${modularScale(2)}\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   'fontSize': '1.77689em'\n * }\n */\n\n\nfunction modularScale(steps, base, ratio) {\n  if (base === void 0) {\n    base = '1em';\n  }\n\n  if (ratio === void 0) {\n    ratio = 1.333;\n  }\n\n  if (typeof steps !== 'number') {\n    throw new PolishedError(42);\n  }\n\n  if (typeof ratio === 'string' && !ratioNames[ratio]) {\n    throw new PolishedError(43);\n  }\n\n  var _ref = typeof base === 'string' ? getValueAndUnit(base) : [base, ''],\n      realBase = _ref[0],\n      unit = _ref[1];\n\n  var realRatio = typeof ratio === 'string' ? getRatio(ratio) : ratio;\n\n  if (typeof realBase === 'string') {\n    throw new PolishedError(44, base);\n  }\n\n  return \"\" + realBase * Math.pow(realRatio, steps) + (unit || '');\n}\n\n/**\n * Convert pixel value to rems. The default base value is 16px, but can be changed by passing a\n * second argument to the function.\n * @function\n * @param {string|number} pxval\n * @param {string|number} [base='16px']\n * @example\n * // Styles as object usage\n * const styles = {\n *   'height': rem('16px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   height: ${rem('16px')}\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   'height': '1rem'\n * }\n */\n\nvar rem = /*#__PURE__*/pxtoFactory('rem');\n\nvar defaultFontSize = 16;\n\nfunction convertBase(base) {\n  var deconstructedValue = getValueAndUnit(base);\n\n  if (deconstructedValue[1] === 'px') {\n    return parseFloat(base);\n  }\n\n  if (deconstructedValue[1] === '%') {\n    return parseFloat(base) / 100 * defaultFontSize;\n  }\n\n  throw new PolishedError(78, deconstructedValue[1]);\n}\n\nfunction getBaseFromDoc() {\n  /* eslint-disable */\n\n  /* istanbul ignore next */\n  if (typeof document !== 'undefined' && document.documentElement !== null) {\n    var rootFontSize = getComputedStyle(document.documentElement).fontSize;\n    return rootFontSize ? convertBase(rootFontSize) : defaultFontSize;\n  }\n  /* eslint-enable */\n\n  /* istanbul ignore next */\n\n\n  return defaultFontSize;\n}\n/**\n * Convert rem values to px. By default, the base value is pulled from the font-size property on the root element (if it is set in % or px). It defaults to 16px if not found on the root. You can also override the base value by providing your own base in % or px.\n * @example\n * // Styles as object usage\n * const styles = {\n *   'height': remToPx('1.6rem')\n *   'height': remToPx('1.6rem', '10px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   height: ${remToPx('1.6rem')}\n *   height: ${remToPx('1.6rem', '10px')}\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   'height': '25.6px',\n *   'height': '16px',\n * }\n */\n\n\nfunction remToPx(value, base) {\n  var deconstructedValue = getValueAndUnit(value);\n\n  if (deconstructedValue[1] !== 'rem' && deconstructedValue[1] !== '') {\n    throw new PolishedError(77, deconstructedValue[1]);\n  }\n\n  var newBase = base ? convertBase(base) : getBaseFromDoc();\n  return deconstructedValue[0] * newBase + \"px\";\n}\n\nvar functionsMap = {\n  back: 'cubic-bezier(0.600, -0.280, 0.735, 0.045)',\n  circ: 'cubic-bezier(0.600,  0.040, 0.980, 0.335)',\n  cubic: 'cubic-bezier(0.550,  0.055, 0.675, 0.190)',\n  expo: 'cubic-bezier(0.950,  0.050, 0.795, 0.035)',\n  quad: 'cubic-bezier(0.550,  0.085, 0.680, 0.530)',\n  quart: 'cubic-bezier(0.895,  0.030, 0.685, 0.220)',\n  quint: 'cubic-bezier(0.755,  0.050, 0.855, 0.060)',\n  sine: 'cubic-bezier(0.470,  0.000, 0.745, 0.715)'\n};\n/**\n * String to represent common easing functions as demonstrated here: (github.com/jaukia/easie).\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   'transitionTimingFunction': easeIn('quad')\n * }\n *\n * // styled-components usage\n *  const div = styled.div`\n *   transitionTimingFunction: ${easeIn('quad')};\n * `\n *\n * // CSS as JS Output\n *\n * 'div': {\n *   'transitionTimingFunction': 'cubic-bezier(0.550,  0.085, 0.680, 0.530)',\n * }\n */\n\nfunction easeIn(functionName) {\n  return functionsMap[functionName.toLowerCase().trim()];\n}\n\nvar functionsMap$1 = {\n  back: 'cubic-bezier(0.680, -0.550, 0.265, 1.550)',\n  circ: 'cubic-bezier(0.785,  0.135, 0.150, 0.860)',\n  cubic: 'cubic-bezier(0.645,  0.045, 0.355, 1.000)',\n  expo: 'cubic-bezier(1.000,  0.000, 0.000, 1.000)',\n  quad: 'cubic-bezier(0.455,  0.030, 0.515, 0.955)',\n  quart: 'cubic-bezier(0.770,  0.000, 0.175, 1.000)',\n  quint: 'cubic-bezier(0.860,  0.000, 0.070, 1.000)',\n  sine: 'cubic-bezier(0.445,  0.050, 0.550, 0.950)'\n};\n/**\n * String to represent common easing functions as demonstrated here: (github.com/jaukia/easie).\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   'transitionTimingFunction': easeInOut('quad')\n * }\n *\n * // styled-components usage\n *  const div = styled.div`\n *   transitionTimingFunction: ${easeInOut('quad')};\n * `\n *\n * // CSS as JS Output\n *\n * 'div': {\n *   'transitionTimingFunction': 'cubic-bezier(0.455,  0.030, 0.515, 0.955)',\n * }\n */\n\nfunction easeInOut(functionName) {\n  return functionsMap$1[functionName.toLowerCase().trim()];\n}\n\nvar functionsMap$2 = {\n  back: 'cubic-bezier(0.175,  0.885, 0.320, 1.275)',\n  cubic: 'cubic-bezier(0.215,  0.610, 0.355, 1.000)',\n  circ: 'cubic-bezier(0.075,  0.820, 0.165, 1.000)',\n  expo: 'cubic-bezier(0.190,  1.000, 0.220, 1.000)',\n  quad: 'cubic-bezier(0.250,  0.460, 0.450, 0.940)',\n  quart: 'cubic-bezier(0.165,  0.840, 0.440, 1.000)',\n  quint: 'cubic-bezier(0.230,  1.000, 0.320, 1.000)',\n  sine: 'cubic-bezier(0.390,  0.575, 0.565, 1.000)'\n};\n/**\n * String to represent common easing functions as demonstrated here: (github.com/jaukia/easie).\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   'transitionTimingFunction': easeOut('quad')\n * }\n *\n * // styled-components usage\n *  const div = styled.div`\n *   transitionTimingFunction: ${easeOut('quad')};\n * `\n *\n * // CSS as JS Output\n *\n * 'div': {\n *   'transitionTimingFunction': 'cubic-bezier(0.250,  0.460, 0.450, 0.940)',\n * }\n */\n\nfunction easeOut(functionName) {\n  return functionsMap$2[functionName.toLowerCase().trim()];\n}\n\n/**\n * Returns a CSS calc formula for linear interpolation of a property between two values. Accepts optional minScreen (defaults to '320px') and maxScreen (defaults to '1200px').\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   fontSize: between('20px', '100px', '400px', '1000px'),\n *   fontSize: between('20px', '100px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   fontSize: ${between('20px', '100px', '400px', '1000px')};\n *   fontSize: ${between('20px', '100px')}\n * `\n *\n * // CSS as JS Output\n *\n * h1: {\n *   'fontSize': 'calc(-33.33333333333334px + 13.333333333333334vw)',\n *   'fontSize': 'calc(-9.090909090909093px + 9.090909090909092vw)'\n * }\n */\n\nfunction between(fromSize, toSize, minScreen, maxScreen) {\n  if (minScreen === void 0) {\n    minScreen = '320px';\n  }\n\n  if (maxScreen === void 0) {\n    maxScreen = '1200px';\n  }\n\n  var _getValueAndUnit = getValueAndUnit(fromSize),\n      unitlessFromSize = _getValueAndUnit[0],\n      fromSizeUnit = _getValueAndUnit[1];\n\n  var _getValueAndUnit2 = getValueAndUnit(toSize),\n      unitlessToSize = _getValueAndUnit2[0],\n      toSizeUnit = _getValueAndUnit2[1];\n\n  var _getValueAndUnit3 = getValueAndUnit(minScreen),\n      unitlessMinScreen = _getValueAndUnit3[0],\n      minScreenUnit = _getValueAndUnit3[1];\n\n  var _getValueAndUnit4 = getValueAndUnit(maxScreen),\n      unitlessMaxScreen = _getValueAndUnit4[0],\n      maxScreenUnit = _getValueAndUnit4[1];\n\n  if (typeof unitlessMinScreen !== 'number' || typeof unitlessMaxScreen !== 'number' || !minScreenUnit || !maxScreenUnit || minScreenUnit !== maxScreenUnit) {\n    throw new PolishedError(47);\n  }\n\n  if (typeof unitlessFromSize !== 'number' || typeof unitlessToSize !== 'number' || fromSizeUnit !== toSizeUnit) {\n    throw new PolishedError(48);\n  }\n\n  if (fromSizeUnit !== minScreenUnit || toSizeUnit !== maxScreenUnit) {\n    throw new PolishedError(76);\n  }\n\n  var slope = (unitlessFromSize - unitlessToSize) / (unitlessMinScreen - unitlessMaxScreen);\n  var base = unitlessToSize - slope * unitlessMaxScreen;\n  return \"calc(\" + base.toFixed(2) + (fromSizeUnit || '') + \" + \" + (100 * slope).toFixed(2) + \"vw)\";\n}\n\n/**\n * CSS to contain a float (credit to CSSMojo).\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *    ...clearFix(),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${clearFix()}\n * `\n *\n * // CSS as JS Output\n *\n * '&::after': {\n *   'clear': 'both',\n *   'content': '\"\"',\n *   'display': 'table'\n * }\n */\nfunction clearFix(parent) {\n  var _ref;\n\n  if (parent === void 0) {\n    parent = '&';\n  }\n\n  var pseudoSelector = parent + \"::after\";\n  return _ref = {}, _ref[pseudoSelector] = {\n    clear: 'both',\n    content: '\"\"',\n    display: 'table'\n  }, _ref;\n}\n\n/**\n * CSS to fully cover an area. Can optionally be passed an offset to act as a \"padding\".\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...cover()\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${cover()}\n * `\n *\n * // CSS as JS Output\n *\n * div: {\n *   'position': 'absolute',\n *   'top': '0',\n *   'right: '0',\n *   'bottom': '0',\n *   'left: '0'\n * }\n */\nfunction cover(offset) {\n  if (offset === void 0) {\n    offset = 0;\n  }\n\n  return {\n    position: 'absolute',\n    top: offset,\n    right: offset,\n    bottom: offset,\n    left: offset\n  };\n}\n\n/**\n * CSS to represent truncated text with an ellipsis. You can optionally pass a max-width and number of lines before truncating.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...ellipsis('250px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${ellipsis('250px')}\n * `\n *\n * // CSS as JS Output\n *\n * div: {\n *   'display': 'inline-block',\n *   'maxWidth': '250px',\n *   'overflow': 'hidden',\n *   'textOverflow': 'ellipsis',\n *   'whiteSpace': 'nowrap',\n *   'wordWrap': 'normal'\n * }\n */\nfunction ellipsis(width, lines) {\n  if (lines === void 0) {\n    lines = 1;\n  }\n\n  var styles = {\n    display: 'inline-block',\n    maxWidth: width || '100%',\n    overflow: 'hidden',\n    textOverflow: 'ellipsis',\n    whiteSpace: 'nowrap',\n    wordWrap: 'normal'\n  };\n  return lines > 1 ? _extends({}, styles, {\n    WebkitBoxOrient: 'vertical',\n    WebkitLineClamp: lines,\n    display: '-webkit-box',\n    whiteSpace: 'normal'\n  }) : styles;\n}\n\nfunction _createForOfIteratorHelperLoose(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; return function () { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } it = o[Symbol.iterator](); return it.next.bind(it); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n/**\n * Returns a set of media queries that resizes a property (or set of properties) between a provided fromSize and toSize. Accepts optional minScreen (defaults to '320px') and maxScreen (defaults to '1200px') to constrain the interpolation.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...fluidRange(\n *    {\n *        prop: 'padding',\n *        fromSize: '20px',\n *        toSize: '100px',\n *      },\n *      '400px',\n *      '1000px',\n *    )\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${fluidRange(\n *      {\n *        prop: 'padding',\n *        fromSize: '20px',\n *        toSize: '100px',\n *      },\n *      '400px',\n *      '1000px',\n *    )}\n * `\n *\n * // CSS as JS Output\n *\n * div: {\n *   \"@media (min-width: 1000px)\": Object {\n *     \"padding\": \"100px\",\n *   },\n *   \"@media (min-width: 400px)\": Object {\n *     \"padding\": \"calc(-33.33333333333334px + 13.333333333333334vw)\",\n *   },\n *   \"padding\": \"20px\",\n * }\n */\nfunction fluidRange(cssProp, minScreen, maxScreen) {\n  if (minScreen === void 0) {\n    minScreen = '320px';\n  }\n\n  if (maxScreen === void 0) {\n    maxScreen = '1200px';\n  }\n\n  if (!Array.isArray(cssProp) && typeof cssProp !== 'object' || cssProp === null) {\n    throw new PolishedError(49);\n  }\n\n  if (Array.isArray(cssProp)) {\n    var mediaQueries = {};\n    var fallbacks = {};\n\n    for (var _iterator = _createForOfIteratorHelperLoose(cssProp), _step; !(_step = _iterator()).done;) {\n      var _extends2, _extends3;\n\n      var obj = _step.value;\n\n      if (!obj.prop || !obj.fromSize || !obj.toSize) {\n        throw new PolishedError(50);\n      }\n\n      fallbacks[obj.prop] = obj.fromSize;\n      mediaQueries[\"@media (min-width: \" + minScreen + \")\"] = _extends({}, mediaQueries[\"@media (min-width: \" + minScreen + \")\"], (_extends2 = {}, _extends2[obj.prop] = between(obj.fromSize, obj.toSize, minScreen, maxScreen), _extends2));\n      mediaQueries[\"@media (min-width: \" + maxScreen + \")\"] = _extends({}, mediaQueries[\"@media (min-width: \" + maxScreen + \")\"], (_extends3 = {}, _extends3[obj.prop] = obj.toSize, _extends3));\n    }\n\n    return _extends({}, fallbacks, mediaQueries);\n  } else {\n    var _ref, _ref2, _ref3;\n\n    if (!cssProp.prop || !cssProp.fromSize || !cssProp.toSize) {\n      throw new PolishedError(51);\n    }\n\n    return _ref3 = {}, _ref3[cssProp.prop] = cssProp.fromSize, _ref3[\"@media (min-width: \" + minScreen + \")\"] = (_ref = {}, _ref[cssProp.prop] = between(cssProp.fromSize, cssProp.toSize, minScreen, maxScreen), _ref), _ref3[\"@media (min-width: \" + maxScreen + \")\"] = (_ref2 = {}, _ref2[cssProp.prop] = cssProp.toSize, _ref2), _ref3;\n  }\n}\n\nvar dataURIRegex = /^\\s*data:([a-z]+\\/[a-z-]+(;[a-z-]+=[a-z-]+)?)?(;charset=[a-z0-9-]+)?(;base64)?,[a-z0-9!$&',()*+,;=\\-._~:@/?%\\s]*\\s*$/i;\nvar formatHintMap = {\n  woff: 'woff',\n  woff2: 'woff2',\n  ttf: 'truetype',\n  otf: 'opentype',\n  eot: 'embedded-opentype',\n  svg: 'svg',\n  svgz: 'svg'\n};\n\nfunction generateFormatHint(format, formatHint) {\n  if (!formatHint) return '';\n  return \" format(\\\"\" + formatHintMap[format] + \"\\\")\";\n}\n\nfunction isDataURI(fontFilePath) {\n  return !!fontFilePath.match(dataURIRegex);\n}\n\nfunction generateFileReferences(fontFilePath, fileFormats, formatHint) {\n  if (isDataURI(fontFilePath)) {\n    return \"url(\\\"\" + fontFilePath + \"\\\")\" + generateFormatHint(fileFormats[0], formatHint);\n  }\n\n  var fileFontReferences = fileFormats.map(function (format) {\n    return \"url(\\\"\" + fontFilePath + \".\" + format + \"\\\")\" + generateFormatHint(format, formatHint);\n  });\n  return fileFontReferences.join(', ');\n}\n\nfunction generateLocalReferences(localFonts) {\n  var localFontReferences = localFonts.map(function (font) {\n    return \"local(\\\"\" + font + \"\\\")\";\n  });\n  return localFontReferences.join(', ');\n}\n\nfunction generateSources(fontFilePath, localFonts, fileFormats, formatHint) {\n  var fontReferences = [];\n  if (localFonts) fontReferences.push(generateLocalReferences(localFonts));\n\n  if (fontFilePath) {\n    fontReferences.push(generateFileReferences(fontFilePath, fileFormats, formatHint));\n  }\n\n  return fontReferences.join(', ');\n}\n/**\n * CSS for a @font-face declaration. Defaults to check for local copies of the font on the user's machine. You can disable this by passing `null` to localFonts.\n *\n * @example\n * // Styles as object basic usage\n * const styles = {\n *    ...fontFace({\n *      'fontFamily': 'Sans-Pro',\n *      'fontFilePath': 'path/to/file'\n *    })\n * }\n *\n * // styled-components basic usage\n * const GlobalStyle = createGlobalStyle`${\n *   fontFace({\n *     'fontFamily': 'Sans-Pro',\n *     'fontFilePath': 'path/to/file'\n *   }\n * )}`\n *\n * // CSS as JS Output\n *\n * '@font-face': {\n *   'fontFamily': 'Sans-Pro',\n *   'src': 'url(\"path/to/file.eot\"), url(\"path/to/file.woff2\"), url(\"path/to/file.woff\"), url(\"path/to/file.ttf\"), url(\"path/to/file.svg\")',\n * }\n */\n\n\nfunction fontFace(_ref) {\n  var fontFamily = _ref.fontFamily,\n      fontFilePath = _ref.fontFilePath,\n      fontStretch = _ref.fontStretch,\n      fontStyle = _ref.fontStyle,\n      fontVariant = _ref.fontVariant,\n      fontWeight = _ref.fontWeight,\n      _ref$fileFormats = _ref.fileFormats,\n      fileFormats = _ref$fileFormats === void 0 ? ['eot', 'woff2', 'woff', 'ttf', 'svg'] : _ref$fileFormats,\n      _ref$formatHint = _ref.formatHint,\n      formatHint = _ref$formatHint === void 0 ? false : _ref$formatHint,\n      _ref$localFonts = _ref.localFonts,\n      localFonts = _ref$localFonts === void 0 ? [fontFamily] : _ref$localFonts,\n      unicodeRange = _ref.unicodeRange,\n      fontDisplay = _ref.fontDisplay,\n      fontVariationSettings = _ref.fontVariationSettings,\n      fontFeatureSettings = _ref.fontFeatureSettings;\n  // Error Handling\n  if (!fontFamily) throw new PolishedError(55);\n\n  if (!fontFilePath && !localFonts) {\n    throw new PolishedError(52);\n  }\n\n  if (localFonts && !Array.isArray(localFonts)) {\n    throw new PolishedError(53);\n  }\n\n  if (!Array.isArray(fileFormats)) {\n    throw new PolishedError(54);\n  }\n\n  var fontFaceDeclaration = {\n    '@font-face': {\n      fontFamily: fontFamily,\n      src: generateSources(fontFilePath, localFonts, fileFormats, formatHint),\n      unicodeRange: unicodeRange,\n      fontStretch: fontStretch,\n      fontStyle: fontStyle,\n      fontVariant: fontVariant,\n      fontWeight: fontWeight,\n      fontDisplay: fontDisplay,\n      fontVariationSettings: fontVariationSettings,\n      fontFeatureSettings: fontFeatureSettings\n    }\n  }; // Removes undefined fields for cleaner css object.\n\n  return JSON.parse(JSON.stringify(fontFaceDeclaration));\n}\n\n/**\n * CSS to hide text to show a background image in a SEO-friendly way.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   'backgroundImage': 'url(logo.png)',\n *   ...hideText(),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   backgroundImage: url(logo.png);\n *   ${hideText()};\n * `\n *\n * // CSS as JS Output\n *\n * 'div': {\n *   'backgroundImage': 'url(logo.png)',\n *   'textIndent': '101%',\n *   'overflow': 'hidden',\n *   'whiteSpace': 'nowrap',\n * }\n */\nfunction hideText() {\n  return {\n    textIndent: '101%',\n    overflow: 'hidden',\n    whiteSpace: 'nowrap'\n  };\n}\n\n/**\n * CSS to hide content visually but remain accessible to screen readers.\n * from [HTML5 Boilerplate](https://github.com/h5bp/html5-boilerplate/blob/9a176f57af1cfe8ec70300da4621fb9b07e5fa31/src/css/main.css#L121)\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...hideVisually(),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${hideVisually()};\n * `\n *\n * // CSS as JS Output\n *\n * 'div': {\n *   'border': '0',\n *   'clip': 'rect(0 0 0 0)',\n *   'height': '1px',\n *   'margin': '-1px',\n *   'overflow': 'hidden',\n *   'padding': '0',\n *   'position': 'absolute',\n *   'whiteSpace': 'nowrap',\n *   'width': '1px',\n * }\n */\nfunction hideVisually() {\n  return {\n    border: '0',\n    clip: 'rect(0 0 0 0)',\n    height: '1px',\n    margin: '-1px',\n    overflow: 'hidden',\n    padding: '0',\n    position: 'absolute',\n    whiteSpace: 'nowrap',\n    width: '1px'\n  };\n}\n\n/**\n * Generates a media query to target HiDPI devices.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *  [hiDPI(1.5)]: {\n *    width: 200px;\n *  }\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${hiDPI(1.5)} {\n *     width: 200px;\n *   }\n * `\n *\n * // CSS as JS Output\n *\n * '@media only screen and (-webkit-min-device-pixel-ratio: 1.5),\n *  only screen and (min--moz-device-pixel-ratio: 1.5),\n *  only screen and (-o-min-device-pixel-ratio: 1.5/1),\n *  only screen and (min-resolution: 144dpi),\n *  only screen and (min-resolution: 1.5dppx)': {\n *   'width': '200px',\n * }\n */\nfunction hiDPI(ratio) {\n  if (ratio === void 0) {\n    ratio = 1.3;\n  }\n\n  return \"\\n    @media only screen and (-webkit-min-device-pixel-ratio: \" + ratio + \"),\\n    only screen and (min--moz-device-pixel-ratio: \" + ratio + \"),\\n    only screen and (-o-min-device-pixel-ratio: \" + ratio + \"/1),\\n    only screen and (min-resolution: \" + Math.round(ratio * 96) + \"dpi),\\n    only screen and (min-resolution: \" + ratio + \"dppx)\\n  \";\n}\n\nfunction constructGradientValue(literals) {\n  var template = '';\n\n  for (var _len = arguments.length, substitutions = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    substitutions[_key - 1] = arguments[_key];\n  }\n\n  for (var i = 0; i < literals.length; i += 1) {\n    template += literals[i];\n\n    if (i === substitutions.length - 1 && substitutions[i]) {\n      var definedValues = substitutions.filter(function (substitute) {\n        return !!substitute;\n      }); // Adds leading coma if properties preceed color-stops\n\n      if (definedValues.length > 1) {\n        template = template.slice(0, -1);\n        template += \", \" + substitutions[i]; // No trailing space if color-stops is the only param provided\n      } else if (definedValues.length === 1) {\n        template += \"\" + substitutions[i];\n      }\n    } else if (substitutions[i]) {\n      template += substitutions[i] + \" \";\n    }\n  }\n\n  return template.trim();\n}\n\nvar _templateObject;\n\n/**\n * CSS for declaring a linear gradient, including a fallback background-color. The fallback is either the first color-stop or an explicitly passed fallback color.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...linearGradient({\n        colorStops: ['#00FFFF 0%', 'rgba(0, 0, 255, 0) 50%', '#0000FF 95%'],\n        toDirection: 'to top right',\n        fallback: '#FFF',\n      })\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${linearGradient({\n        colorStops: ['#00FFFF 0%', 'rgba(0, 0, 255, 0) 50%', '#0000FF 95%'],\n        toDirection: 'to top right',\n        fallback: '#FFF',\n      })}\n *`\n *\n * // CSS as JS Output\n *\n * div: {\n *   'backgroundColor': '#FFF',\n *   'backgroundImage': 'linear-gradient(to top right, #00FFFF 0%, rgba(0, 0, 255, 0) 50%, #0000FF 95%)',\n * }\n */\nfunction linearGradient(_ref) {\n  var colorStops = _ref.colorStops,\n      fallback = _ref.fallback,\n      _ref$toDirection = _ref.toDirection,\n      toDirection = _ref$toDirection === void 0 ? '' : _ref$toDirection;\n\n  if (!colorStops || colorStops.length < 2) {\n    throw new PolishedError(56);\n  }\n\n  return {\n    backgroundColor: fallback || colorStops[0].replace(/,\\s+/g, ',').split(' ')[0].replace(/,(?=\\S)/g, ', '),\n    backgroundImage: constructGradientValue(_templateObject || (_templateObject = _taggedTemplateLiteralLoose([\"linear-gradient(\", \"\", \")\"])), toDirection, colorStops.join(', ').replace(/,(?=\\S)/g, ', '))\n  };\n}\n\n/**\n * CSS to normalize abnormalities across browsers (normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css)\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *    ...normalize(),\n * }\n *\n * // styled-components usage\n * const GlobalStyle = createGlobalStyle`${normalize()}`\n *\n * // CSS as JS Output\n *\n * html {\n *   lineHeight: 1.15,\n *   textSizeAdjust: 100%,\n * } ...\n */\nfunction normalize() {\n  var _ref;\n\n  return [(_ref = {\n    html: {\n      lineHeight: '1.15',\n      textSizeAdjust: '100%'\n    },\n    body: {\n      margin: '0'\n    },\n    main: {\n      display: 'block'\n    },\n    h1: {\n      fontSize: '2em',\n      margin: '0.67em 0'\n    },\n    hr: {\n      boxSizing: 'content-box',\n      height: '0',\n      overflow: 'visible'\n    },\n    pre: {\n      fontFamily: 'monospace, monospace',\n      fontSize: '1em'\n    },\n    a: {\n      backgroundColor: 'transparent'\n    },\n    'abbr[title]': {\n      borderBottom: 'none',\n      textDecoration: 'underline'\n    }\n  }, _ref[\"b,\\n    strong\"] = {\n    fontWeight: 'bolder'\n  }, _ref[\"code,\\n    kbd,\\n    samp\"] = {\n    fontFamily: 'monospace, monospace',\n    fontSize: '1em'\n  }, _ref.small = {\n    fontSize: '80%'\n  }, _ref[\"sub,\\n    sup\"] = {\n    fontSize: '75%',\n    lineHeight: '0',\n    position: 'relative',\n    verticalAlign: 'baseline'\n  }, _ref.sub = {\n    bottom: '-0.25em'\n  }, _ref.sup = {\n    top: '-0.5em'\n  }, _ref.img = {\n    borderStyle: 'none'\n  }, _ref[\"button,\\n    input,\\n    optgroup,\\n    select,\\n    textarea\"] = {\n    fontFamily: 'inherit',\n    fontSize: '100%',\n    lineHeight: '1.15',\n    margin: '0'\n  }, _ref[\"button,\\n    input\"] = {\n    overflow: 'visible'\n  }, _ref[\"button,\\n    select\"] = {\n    textTransform: 'none'\n  }, _ref[\"button,\\n    html [type=\\\"button\\\"],\\n    [type=\\\"reset\\\"],\\n    [type=\\\"submit\\\"]\"] = {\n    WebkitAppearance: 'button'\n  }, _ref[\"button::-moz-focus-inner,\\n    [type=\\\"button\\\"]::-moz-focus-inner,\\n    [type=\\\"reset\\\"]::-moz-focus-inner,\\n    [type=\\\"submit\\\"]::-moz-focus-inner\"] = {\n    borderStyle: 'none',\n    padding: '0'\n  }, _ref[\"button:-moz-focusring,\\n    [type=\\\"button\\\"]:-moz-focusring,\\n    [type=\\\"reset\\\"]:-moz-focusring,\\n    [type=\\\"submit\\\"]:-moz-focusring\"] = {\n    outline: '1px dotted ButtonText'\n  }, _ref.fieldset = {\n    padding: '0.35em 0.625em 0.75em'\n  }, _ref.legend = {\n    boxSizing: 'border-box',\n    color: 'inherit',\n    display: 'table',\n    maxWidth: '100%',\n    padding: '0',\n    whiteSpace: 'normal'\n  }, _ref.progress = {\n    verticalAlign: 'baseline'\n  }, _ref.textarea = {\n    overflow: 'auto'\n  }, _ref[\"[type=\\\"checkbox\\\"],\\n    [type=\\\"radio\\\"]\"] = {\n    boxSizing: 'border-box',\n    padding: '0'\n  }, _ref[\"[type=\\\"number\\\"]::-webkit-inner-spin-button,\\n    [type=\\\"number\\\"]::-webkit-outer-spin-button\"] = {\n    height: 'auto'\n  }, _ref['[type=\"search\"]'] = {\n    WebkitAppearance: 'textfield',\n    outlineOffset: '-2px'\n  }, _ref['[type=\"search\"]::-webkit-search-decoration'] = {\n    WebkitAppearance: 'none'\n  }, _ref['::-webkit-file-upload-button'] = {\n    WebkitAppearance: 'button',\n    font: 'inherit'\n  }, _ref.details = {\n    display: 'block'\n  }, _ref.summary = {\n    display: 'list-item'\n  }, _ref.template = {\n    display: 'none'\n  }, _ref['[hidden]'] = {\n    display: 'none'\n  }, _ref), {\n    'abbr[title]': {\n      textDecoration: 'underline dotted'\n    }\n  }];\n}\n\nvar _templateObject$1;\n\n/**\n * CSS for declaring a radial gradient, including a fallback background-color. The fallback is either the first color-stop or an explicitly passed fallback color.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...radialGradient({\n *     colorStops: ['#00FFFF 0%', 'rgba(0, 0, 255, 0) 50%', '#0000FF 95%'],\n *     extent: 'farthest-corner at 45px 45px',\n *     position: 'center',\n *     shape: 'ellipse',\n *   })\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${radialGradient({\n *     colorStops: ['#00FFFF 0%', 'rgba(0, 0, 255, 0) 50%', '#0000FF 95%'],\n *     extent: 'farthest-corner at 45px 45px',\n *     position: 'center',\n *     shape: 'ellipse',\n *   })}\n *`\n *\n * // CSS as JS Output\n *\n * div: {\n *   'backgroundColor': '#00FFFF',\n *   'backgroundImage': 'radial-gradient(center ellipse farthest-corner at 45px 45px, #00FFFF 0%, rgba(0, 0, 255, 0) 50%, #0000FF 95%)',\n * }\n */\nfunction radialGradient(_ref) {\n  var colorStops = _ref.colorStops,\n      _ref$extent = _ref.extent,\n      extent = _ref$extent === void 0 ? '' : _ref$extent,\n      fallback = _ref.fallback,\n      _ref$position = _ref.position,\n      position = _ref$position === void 0 ? '' : _ref$position,\n      _ref$shape = _ref.shape,\n      shape = _ref$shape === void 0 ? '' : _ref$shape;\n\n  if (!colorStops || colorStops.length < 2) {\n    throw new PolishedError(57);\n  }\n\n  return {\n    backgroundColor: fallback || colorStops[0].split(' ')[0],\n    backgroundImage: constructGradientValue(_templateObject$1 || (_templateObject$1 = _taggedTemplateLiteralLoose([\"radial-gradient(\", \"\", \"\", \"\", \")\"])), position, shape, extent, colorStops.join(', '))\n  };\n}\n\n/**\n * A helper to generate a retina background image and non-retina\n * background image. The retina background image will output to a HiDPI media query. The mixin uses\n * a _2x.png filename suffix by default.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *  ...retinaImage('my-img')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${retinaImage('my-img')}\n * `\n *\n * // CSS as JS Output\n * div {\n *   backgroundImage: 'url(my-img.png)',\n *   '@media only screen and (-webkit-min-device-pixel-ratio: 1.3),\n *    only screen and (min--moz-device-pixel-ratio: 1.3),\n *    only screen and (-o-min-device-pixel-ratio: 1.3/1),\n *    only screen and (min-resolution: 144dpi),\n *    only screen and (min-resolution: 1.5dppx)': {\n *     backgroundImage: 'url(my-img_2x.png)',\n *   }\n * }\n */\nfunction retinaImage(filename, backgroundSize, extension, retinaFilename, retinaSuffix) {\n  var _ref;\n\n  if (extension === void 0) {\n    extension = 'png';\n  }\n\n  if (retinaSuffix === void 0) {\n    retinaSuffix = '_2x';\n  }\n\n  if (!filename) {\n    throw new PolishedError(58);\n  } // Replace the dot at the beginning of the passed extension if one exists\n\n\n  var ext = extension.replace(/^\\./, '');\n  var rFilename = retinaFilename ? retinaFilename + \".\" + ext : \"\" + filename + retinaSuffix + \".\" + ext;\n  return _ref = {\n    backgroundImage: \"url(\" + filename + \".\" + ext + \")\"\n  }, _ref[hiDPI()] = _extends({\n    backgroundImage: \"url(\" + rFilename + \")\"\n  }, backgroundSize ? {\n    backgroundSize: backgroundSize\n  } : {}), _ref;\n}\n\n/* eslint-disable key-spacing */\nvar functionsMap$3 = {\n  easeInBack: 'cubic-bezier(0.600, -0.280, 0.735, 0.045)',\n  easeInCirc: 'cubic-bezier(0.600,  0.040, 0.980, 0.335)',\n  easeInCubic: 'cubic-bezier(0.550,  0.055, 0.675, 0.190)',\n  easeInExpo: 'cubic-bezier(0.950,  0.050, 0.795, 0.035)',\n  easeInQuad: 'cubic-bezier(0.550,  0.085, 0.680, 0.530)',\n  easeInQuart: 'cubic-bezier(0.895,  0.030, 0.685, 0.220)',\n  easeInQuint: 'cubic-bezier(0.755,  0.050, 0.855, 0.060)',\n  easeInSine: 'cubic-bezier(0.470,  0.000, 0.745, 0.715)',\n  easeOutBack: 'cubic-bezier(0.175,  0.885, 0.320, 1.275)',\n  easeOutCubic: 'cubic-bezier(0.215,  0.610, 0.355, 1.000)',\n  easeOutCirc: 'cubic-bezier(0.075,  0.820, 0.165, 1.000)',\n  easeOutExpo: 'cubic-bezier(0.190,  1.000, 0.220, 1.000)',\n  easeOutQuad: 'cubic-bezier(0.250,  0.460, 0.450, 0.940)',\n  easeOutQuart: 'cubic-bezier(0.165,  0.840, 0.440, 1.000)',\n  easeOutQuint: 'cubic-bezier(0.230,  1.000, 0.320, 1.000)',\n  easeOutSine: 'cubic-bezier(0.390,  0.575, 0.565, 1.000)',\n  easeInOutBack: 'cubic-bezier(0.680, -0.550, 0.265, 1.550)',\n  easeInOutCirc: 'cubic-bezier(0.785,  0.135, 0.150, 0.860)',\n  easeInOutCubic: 'cubic-bezier(0.645,  0.045, 0.355, 1.000)',\n  easeInOutExpo: 'cubic-bezier(1.000,  0.000, 0.000, 1.000)',\n  easeInOutQuad: 'cubic-bezier(0.455,  0.030, 0.515, 0.955)',\n  easeInOutQuart: 'cubic-bezier(0.770,  0.000, 0.175, 1.000)',\n  easeInOutQuint: 'cubic-bezier(0.860,  0.000, 0.070, 1.000)',\n  easeInOutSine: 'cubic-bezier(0.445,  0.050, 0.550, 0.950)'\n};\n/* eslint-enable key-spacing */\n\nfunction getTimingFunction(functionName) {\n  return functionsMap$3[functionName];\n}\n/**\n * String to represent common easing functions as demonstrated here: (github.com/jaukia/easie).\n *\n * @deprecated - This will be deprecated in v5 in favor of `easeIn`, `easeOut`, `easeInOut`.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   'transitionTimingFunction': timingFunctions('easeInQuad')\n * }\n *\n * // styled-components usage\n *  const div = styled.div`\n *   transitionTimingFunction: ${timingFunctions('easeInQuad')};\n * `\n *\n * // CSS as JS Output\n *\n * 'div': {\n *   'transitionTimingFunction': 'cubic-bezier(0.550,  0.085, 0.680, 0.530)',\n * }\n */\n\n\nfunction timingFunctions(timingFunction) {\n  return getTimingFunction(timingFunction);\n}\n\nvar getBorderWidth = function getBorderWidth(pointingDirection, height, width) {\n  var fullWidth = \"\" + width[0] + (width[1] || '');\n  var halfWidth = \"\" + width[0] / 2 + (width[1] || '');\n  var fullHeight = \"\" + height[0] + (height[1] || '');\n  var halfHeight = \"\" + height[0] / 2 + (height[1] || '');\n\n  switch (pointingDirection) {\n    case 'top':\n      return \"0 \" + halfWidth + \" \" + fullHeight + \" \" + halfWidth;\n\n    case 'topLeft':\n      return fullWidth + \" \" + fullHeight + \" 0 0\";\n\n    case 'left':\n      return halfHeight + \" \" + fullWidth + \" \" + halfHeight + \" 0\";\n\n    case 'bottomLeft':\n      return fullWidth + \" 0 0 \" + fullHeight;\n\n    case 'bottom':\n      return fullHeight + \" \" + halfWidth + \" 0 \" + halfWidth;\n\n    case 'bottomRight':\n      return \"0 0 \" + fullWidth + \" \" + fullHeight;\n\n    case 'right':\n      return halfHeight + \" 0 \" + halfHeight + \" \" + fullWidth;\n\n    case 'topRight':\n    default:\n      return \"0 \" + fullWidth + \" \" + fullHeight + \" 0\";\n  }\n};\n\nvar getBorderColor = function getBorderColor(pointingDirection, foregroundColor) {\n  switch (pointingDirection) {\n    case 'top':\n    case 'bottomRight':\n      return {\n        borderBottomColor: foregroundColor\n      };\n\n    case 'right':\n    case 'bottomLeft':\n      return {\n        borderLeftColor: foregroundColor\n      };\n\n    case 'bottom':\n    case 'topLeft':\n      return {\n        borderTopColor: foregroundColor\n      };\n\n    case 'left':\n    case 'topRight':\n      return {\n        borderRightColor: foregroundColor\n      };\n\n    default:\n      throw new PolishedError(59);\n  }\n};\n/**\n * CSS to represent triangle with any pointing direction with an optional background color.\n *\n * @example\n * // Styles as object usage\n *\n * const styles = {\n *   ...triangle({ pointingDirection: 'right', width: '100px', height: '100px', foregroundColor: 'red' })\n * }\n *\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${triangle({ pointingDirection: 'right', width: '100px', height: '100px', foregroundColor: 'red' })}\n *\n *\n * // CSS as JS Output\n *\n * div: {\n *  'borderColor': 'transparent transparent transparent red',\n *  'borderStyle': 'solid',\n *  'borderWidth': '50px 0 50px 100px',\n *  'height': '0',\n *  'width': '0',\n * }\n */\n\n\nfunction triangle(_ref) {\n  var pointingDirection = _ref.pointingDirection,\n      height = _ref.height,\n      width = _ref.width,\n      foregroundColor = _ref.foregroundColor,\n      _ref$backgroundColor = _ref.backgroundColor,\n      backgroundColor = _ref$backgroundColor === void 0 ? 'transparent' : _ref$backgroundColor;\n  var widthAndUnit = getValueAndUnit(width);\n  var heightAndUnit = getValueAndUnit(height);\n\n  if (isNaN(heightAndUnit[0]) || isNaN(widthAndUnit[0])) {\n    throw new PolishedError(60);\n  }\n\n  return _extends({\n    width: '0',\n    height: '0',\n    borderColor: backgroundColor\n  }, getBorderColor(pointingDirection, foregroundColor), {\n    borderStyle: 'solid',\n    borderWidth: getBorderWidth(pointingDirection, heightAndUnit, widthAndUnit)\n  });\n}\n\n/**\n * Provides an easy way to change the `wordWrap` property.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...wordWrap('break-word')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${wordWrap('break-word')}\n * `\n *\n * // CSS as JS Output\n *\n * const styles = {\n *   overflowWrap: 'break-word',\n *   wordWrap: 'break-word',\n *   wordBreak: 'break-all',\n * }\n */\nfunction wordWrap(wrap) {\n  if (wrap === void 0) {\n    wrap = 'break-word';\n  }\n\n  var wordBreak = wrap === 'break-word' ? 'break-all' : wrap;\n  return {\n    overflowWrap: wrap,\n    wordWrap: wrap,\n    wordBreak: wordBreak\n  };\n}\n\nfunction colorToInt(color) {\n  return Math.round(color * 255);\n}\n\nfunction convertToInt(red, green, blue) {\n  return colorToInt(red) + \",\" + colorToInt(green) + \",\" + colorToInt(blue);\n}\n\nfunction hslToRgb(hue, saturation, lightness, convert) {\n  if (convert === void 0) {\n    convert = convertToInt;\n  }\n\n  if (saturation === 0) {\n    // achromatic\n    return convert(lightness, lightness, lightness);\n  } // formulae from https://en.wikipedia.org/wiki/HSL_and_HSV\n\n\n  var huePrime = (hue % 360 + 360) % 360 / 60;\n  var chroma = (1 - Math.abs(2 * lightness - 1)) * saturation;\n  var secondComponent = chroma * (1 - Math.abs(huePrime % 2 - 1));\n  var red = 0;\n  var green = 0;\n  var blue = 0;\n\n  if (huePrime >= 0 && huePrime < 1) {\n    red = chroma;\n    green = secondComponent;\n  } else if (huePrime >= 1 && huePrime < 2) {\n    red = secondComponent;\n    green = chroma;\n  } else if (huePrime >= 2 && huePrime < 3) {\n    green = chroma;\n    blue = secondComponent;\n  } else if (huePrime >= 3 && huePrime < 4) {\n    green = secondComponent;\n    blue = chroma;\n  } else if (huePrime >= 4 && huePrime < 5) {\n    red = secondComponent;\n    blue = chroma;\n  } else if (huePrime >= 5 && huePrime < 6) {\n    red = chroma;\n    blue = secondComponent;\n  }\n\n  var lightnessModification = lightness - chroma / 2;\n  var finalRed = red + lightnessModification;\n  var finalGreen = green + lightnessModification;\n  var finalBlue = blue + lightnessModification;\n  return convert(finalRed, finalGreen, finalBlue);\n}\n\nvar namedColorMap = {\n  aliceblue: 'f0f8ff',\n  antiquewhite: 'faebd7',\n  aqua: '00ffff',\n  aquamarine: '7fffd4',\n  azure: 'f0ffff',\n  beige: 'f5f5dc',\n  bisque: 'ffe4c4',\n  black: '000',\n  blanchedalmond: 'ffebcd',\n  blue: '0000ff',\n  blueviolet: '8a2be2',\n  brown: 'a52a2a',\n  burlywood: 'deb887',\n  cadetblue: '5f9ea0',\n  chartreuse: '7fff00',\n  chocolate: 'd2691e',\n  coral: 'ff7f50',\n  cornflowerblue: '6495ed',\n  cornsilk: 'fff8dc',\n  crimson: 'dc143c',\n  cyan: '00ffff',\n  darkblue: '00008b',\n  darkcyan: '008b8b',\n  darkgoldenrod: 'b8860b',\n  darkgray: 'a9a9a9',\n  darkgreen: '006400',\n  darkgrey: 'a9a9a9',\n  darkkhaki: 'bdb76b',\n  darkmagenta: '8b008b',\n  darkolivegreen: '556b2f',\n  darkorange: 'ff8c00',\n  darkorchid: '9932cc',\n  darkred: '8b0000',\n  darksalmon: 'e9967a',\n  darkseagreen: '8fbc8f',\n  darkslateblue: '483d8b',\n  darkslategray: '2f4f4f',\n  darkslategrey: '2f4f4f',\n  darkturquoise: '00ced1',\n  darkviolet: '9400d3',\n  deeppink: 'ff1493',\n  deepskyblue: '00bfff',\n  dimgray: '696969',\n  dimgrey: '696969',\n  dodgerblue: '1e90ff',\n  firebrick: 'b22222',\n  floralwhite: 'fffaf0',\n  forestgreen: '228b22',\n  fuchsia: 'ff00ff',\n  gainsboro: 'dcdcdc',\n  ghostwhite: 'f8f8ff',\n  gold: 'ffd700',\n  goldenrod: 'daa520',\n  gray: '808080',\n  green: '008000',\n  greenyellow: 'adff2f',\n  grey: '808080',\n  honeydew: 'f0fff0',\n  hotpink: 'ff69b4',\n  indianred: 'cd5c5c',\n  indigo: '4b0082',\n  ivory: 'fffff0',\n  khaki: 'f0e68c',\n  lavender: 'e6e6fa',\n  lavenderblush: 'fff0f5',\n  lawngreen: '7cfc00',\n  lemonchiffon: 'fffacd',\n  lightblue: 'add8e6',\n  lightcoral: 'f08080',\n  lightcyan: 'e0ffff',\n  lightgoldenrodyellow: 'fafad2',\n  lightgray: 'd3d3d3',\n  lightgreen: '90ee90',\n  lightgrey: 'd3d3d3',\n  lightpink: 'ffb6c1',\n  lightsalmon: 'ffa07a',\n  lightseagreen: '20b2aa',\n  lightskyblue: '87cefa',\n  lightslategray: '789',\n  lightslategrey: '789',\n  lightsteelblue: 'b0c4de',\n  lightyellow: 'ffffe0',\n  lime: '0f0',\n  limegreen: '32cd32',\n  linen: 'faf0e6',\n  magenta: 'f0f',\n  maroon: '800000',\n  mediumaquamarine: '66cdaa',\n  mediumblue: '0000cd',\n  mediumorchid: 'ba55d3',\n  mediumpurple: '9370db',\n  mediumseagreen: '3cb371',\n  mediumslateblue: '7b68ee',\n  mediumspringgreen: '00fa9a',\n  mediumturquoise: '48d1cc',\n  mediumvioletred: 'c71585',\n  midnightblue: '191970',\n  mintcream: 'f5fffa',\n  mistyrose: 'ffe4e1',\n  moccasin: 'ffe4b5',\n  navajowhite: 'ffdead',\n  navy: '000080',\n  oldlace: 'fdf5e6',\n  olive: '808000',\n  olivedrab: '6b8e23',\n  orange: 'ffa500',\n  orangered: 'ff4500',\n  orchid: 'da70d6',\n  palegoldenrod: 'eee8aa',\n  palegreen: '98fb98',\n  paleturquoise: 'afeeee',\n  palevioletred: 'db7093',\n  papayawhip: 'ffefd5',\n  peachpuff: 'ffdab9',\n  peru: 'cd853f',\n  pink: 'ffc0cb',\n  plum: 'dda0dd',\n  powderblue: 'b0e0e6',\n  purple: '800080',\n  rebeccapurple: '639',\n  red: 'f00',\n  rosybrown: 'bc8f8f',\n  royalblue: '4169e1',\n  saddlebrown: '8b4513',\n  salmon: 'fa8072',\n  sandybrown: 'f4a460',\n  seagreen: '2e8b57',\n  seashell: 'fff5ee',\n  sienna: 'a0522d',\n  silver: 'c0c0c0',\n  skyblue: '87ceeb',\n  slateblue: '6a5acd',\n  slategray: '708090',\n  slategrey: '708090',\n  snow: 'fffafa',\n  springgreen: '00ff7f',\n  steelblue: '4682b4',\n  tan: 'd2b48c',\n  teal: '008080',\n  thistle: 'd8bfd8',\n  tomato: 'ff6347',\n  turquoise: '40e0d0',\n  violet: 'ee82ee',\n  wheat: 'f5deb3',\n  white: 'fff',\n  whitesmoke: 'f5f5f5',\n  yellow: 'ff0',\n  yellowgreen: '9acd32'\n};\n/**\n * Checks if a string is a CSS named color and returns its equivalent hex value, otherwise returns the original color.\n * @private\n */\n\nfunction nameToHex(color) {\n  if (typeof color !== 'string') return color;\n  var normalizedColorName = color.toLowerCase();\n  return namedColorMap[normalizedColorName] ? \"#\" + namedColorMap[normalizedColorName] : color;\n}\n\nvar hexRegex = /^#[a-fA-F0-9]{6}$/;\nvar hexRgbaRegex = /^#[a-fA-F0-9]{8}$/;\nvar reducedHexRegex = /^#[a-fA-F0-9]{3}$/;\nvar reducedRgbaHexRegex = /^#[a-fA-F0-9]{4}$/;\nvar rgbRegex = /^rgb\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*\\)$/i;\nvar rgbaRegex = /^rgba\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*([-+]?[0-9]*[.]?[0-9]+)\\s*\\)$/i;\nvar hslRegex = /^hsl\\(\\s*(\\d{0,3}[.]?[0-9]+)\\s*,\\s*(\\d{1,3}[.]?[0-9]?)%\\s*,\\s*(\\d{1,3}[.]?[0-9]?)%\\s*\\)$/i;\nvar hslaRegex = /^hsla\\(\\s*(\\d{0,3}[.]?[0-9]+)\\s*,\\s*(\\d{1,3}[.]?[0-9]?)%\\s*,\\s*(\\d{1,3}[.]?[0-9]?)%\\s*,\\s*([-+]?[0-9]*[.]?[0-9]+)\\s*\\)$/i;\n/**\n * Returns an RgbColor or RgbaColor object. This utility function is only useful\n * if want to extract a color component. With the color util `toColorString` you\n * can convert a RgbColor or RgbaColor object back to a string.\n *\n * @example\n * // Assigns `{ red: 255, green: 0, blue: 0 }` to color1\n * const color1 = parseToRgb('rgb(255, 0, 0)');\n * // Assigns `{ red: 92, green: 102, blue: 112, alpha: 0.75 }` to color2\n * const color2 = parseToRgb('hsla(210, 10%, 40%, 0.75)');\n */\n\nfunction parseToRgb(color) {\n  if (typeof color !== 'string') {\n    throw new PolishedError(3);\n  }\n\n  var normalizedColor = nameToHex(color);\n\n  if (normalizedColor.match(hexRegex)) {\n    return {\n      red: parseInt(\"\" + normalizedColor[1] + normalizedColor[2], 16),\n      green: parseInt(\"\" + normalizedColor[3] + normalizedColor[4], 16),\n      blue: parseInt(\"\" + normalizedColor[5] + normalizedColor[6], 16)\n    };\n  }\n\n  if (normalizedColor.match(hexRgbaRegex)) {\n    var alpha = parseFloat((parseInt(\"\" + normalizedColor[7] + normalizedColor[8], 16) / 255).toFixed(2));\n    return {\n      red: parseInt(\"\" + normalizedColor[1] + normalizedColor[2], 16),\n      green: parseInt(\"\" + normalizedColor[3] + normalizedColor[4], 16),\n      blue: parseInt(\"\" + normalizedColor[5] + normalizedColor[6], 16),\n      alpha: alpha\n    };\n  }\n\n  if (normalizedColor.match(reducedHexRegex)) {\n    return {\n      red: parseInt(\"\" + normalizedColor[1] + normalizedColor[1], 16),\n      green: parseInt(\"\" + normalizedColor[2] + normalizedColor[2], 16),\n      blue: parseInt(\"\" + normalizedColor[3] + normalizedColor[3], 16)\n    };\n  }\n\n  if (normalizedColor.match(reducedRgbaHexRegex)) {\n    var _alpha = parseFloat((parseInt(\"\" + normalizedColor[4] + normalizedColor[4], 16) / 255).toFixed(2));\n\n    return {\n      red: parseInt(\"\" + normalizedColor[1] + normalizedColor[1], 16),\n      green: parseInt(\"\" + normalizedColor[2] + normalizedColor[2], 16),\n      blue: parseInt(\"\" + normalizedColor[3] + normalizedColor[3], 16),\n      alpha: _alpha\n    };\n  }\n\n  var rgbMatched = rgbRegex.exec(normalizedColor);\n\n  if (rgbMatched) {\n    return {\n      red: parseInt(\"\" + rgbMatched[1], 10),\n      green: parseInt(\"\" + rgbMatched[2], 10),\n      blue: parseInt(\"\" + rgbMatched[3], 10)\n    };\n  }\n\n  var rgbaMatched = rgbaRegex.exec(normalizedColor);\n\n  if (rgbaMatched) {\n    return {\n      red: parseInt(\"\" + rgbaMatched[1], 10),\n      green: parseInt(\"\" + rgbaMatched[2], 10),\n      blue: parseInt(\"\" + rgbaMatched[3], 10),\n      alpha: parseFloat(\"\" + rgbaMatched[4])\n    };\n  }\n\n  var hslMatched = hslRegex.exec(normalizedColor);\n\n  if (hslMatched) {\n    var hue = parseInt(\"\" + hslMatched[1], 10);\n    var saturation = parseInt(\"\" + hslMatched[2], 10) / 100;\n    var lightness = parseInt(\"\" + hslMatched[3], 10) / 100;\n    var rgbColorString = \"rgb(\" + hslToRgb(hue, saturation, lightness) + \")\";\n    var hslRgbMatched = rgbRegex.exec(rgbColorString);\n\n    if (!hslRgbMatched) {\n      throw new PolishedError(4, normalizedColor, rgbColorString);\n    }\n\n    return {\n      red: parseInt(\"\" + hslRgbMatched[1], 10),\n      green: parseInt(\"\" + hslRgbMatched[2], 10),\n      blue: parseInt(\"\" + hslRgbMatched[3], 10)\n    };\n  }\n\n  var hslaMatched = hslaRegex.exec(normalizedColor);\n\n  if (hslaMatched) {\n    var _hue = parseInt(\"\" + hslaMatched[1], 10);\n\n    var _saturation = parseInt(\"\" + hslaMatched[2], 10) / 100;\n\n    var _lightness = parseInt(\"\" + hslaMatched[3], 10) / 100;\n\n    var _rgbColorString = \"rgb(\" + hslToRgb(_hue, _saturation, _lightness) + \")\";\n\n    var _hslRgbMatched = rgbRegex.exec(_rgbColorString);\n\n    if (!_hslRgbMatched) {\n      throw new PolishedError(4, normalizedColor, _rgbColorString);\n    }\n\n    return {\n      red: parseInt(\"\" + _hslRgbMatched[1], 10),\n      green: parseInt(\"\" + _hslRgbMatched[2], 10),\n      blue: parseInt(\"\" + _hslRgbMatched[3], 10),\n      alpha: parseFloat(\"\" + hslaMatched[4])\n    };\n  }\n\n  throw new PolishedError(5);\n}\n\nfunction rgbToHsl(color) {\n  // make sure rgb are contained in a set of [0, 255]\n  var red = color.red / 255;\n  var green = color.green / 255;\n  var blue = color.blue / 255;\n  var max = Math.max(red, green, blue);\n  var min = Math.min(red, green, blue);\n  var lightness = (max + min) / 2;\n\n  if (max === min) {\n    // achromatic\n    if (color.alpha !== undefined) {\n      return {\n        hue: 0,\n        saturation: 0,\n        lightness: lightness,\n        alpha: color.alpha\n      };\n    } else {\n      return {\n        hue: 0,\n        saturation: 0,\n        lightness: lightness\n      };\n    }\n  }\n\n  var hue;\n  var delta = max - min;\n  var saturation = lightness > 0.5 ? delta / (2 - max - min) : delta / (max + min);\n\n  switch (max) {\n    case red:\n      hue = (green - blue) / delta + (green < blue ? 6 : 0);\n      break;\n\n    case green:\n      hue = (blue - red) / delta + 2;\n      break;\n\n    default:\n      // blue case\n      hue = (red - green) / delta + 4;\n      break;\n  }\n\n  hue *= 60;\n\n  if (color.alpha !== undefined) {\n    return {\n      hue: hue,\n      saturation: saturation,\n      lightness: lightness,\n      alpha: color.alpha\n    };\n  }\n\n  return {\n    hue: hue,\n    saturation: saturation,\n    lightness: lightness\n  };\n}\n\n/**\n * Returns an HslColor or HslaColor object. This utility function is only useful\n * if want to extract a color component. With the color util `toColorString` you\n * can convert a HslColor or HslaColor object back to a string.\n *\n * @example\n * // Assigns `{ hue: 0, saturation: 1, lightness: 0.5 }` to color1\n * const color1 = parseToHsl('rgb(255, 0, 0)');\n * // Assigns `{ hue: 128, saturation: 1, lightness: 0.5, alpha: 0.75 }` to color2\n * const color2 = parseToHsl('hsla(128, 100%, 50%, 0.75)');\n */\nfunction parseToHsl(color) {\n  // Note: At a later stage we can optimize this function as right now a hsl\n  // color would be parsed converted to rgb values and converted back to hsl.\n  return rgbToHsl(parseToRgb(color));\n}\n\n/**\n * Reduces hex values if possible e.g. #ff8866 to #f86\n * @private\n */\nvar reduceHexValue = function reduceHexValue(value) {\n  if (value.length === 7 && value[1] === value[2] && value[3] === value[4] && value[5] === value[6]) {\n    return \"#\" + value[1] + value[3] + value[5];\n  }\n\n  return value;\n};\n\nfunction numberToHex(value) {\n  var hex = value.toString(16);\n  return hex.length === 1 ? \"0\" + hex : hex;\n}\n\nfunction colorToHex(color) {\n  return numberToHex(Math.round(color * 255));\n}\n\nfunction convertToHex(red, green, blue) {\n  return reduceHexValue(\"#\" + colorToHex(red) + colorToHex(green) + colorToHex(blue));\n}\n\nfunction hslToHex(hue, saturation, lightness) {\n  return hslToRgb(hue, saturation, lightness, convertToHex);\n}\n\n/**\n * Returns a string value for the color. The returned result is the smallest possible hex notation.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: hsl(359, 0.75, 0.4),\n *   background: hsl({ hue: 360, saturation: 0.75, lightness: 0.4 }),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${hsl(359, 0.75, 0.4)};\n *   background: ${hsl({ hue: 360, saturation: 0.75, lightness: 0.4 })};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"#b3191c\";\n *   background: \"#b3191c\";\n * }\n */\nfunction hsl(value, saturation, lightness) {\n  if (typeof value === 'number' && typeof saturation === 'number' && typeof lightness === 'number') {\n    return hslToHex(value, saturation, lightness);\n  } else if (typeof value === 'object' && saturation === undefined && lightness === undefined) {\n    return hslToHex(value.hue, value.saturation, value.lightness);\n  }\n\n  throw new PolishedError(1);\n}\n\n/**\n * Returns a string value for the color. The returned result is the smallest possible rgba or hex notation.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: hsla(359, 0.75, 0.4, 0.7),\n *   background: hsla({ hue: 360, saturation: 0.75, lightness: 0.4, alpha: 0,7 }),\n *   background: hsla(359, 0.75, 0.4, 1),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${hsla(359, 0.75, 0.4, 0.7)};\n *   background: ${hsla({ hue: 360, saturation: 0.75, lightness: 0.4, alpha: 0,7 })};\n *   background: ${hsla(359, 0.75, 0.4, 1)};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"rgba(179,25,28,0.7)\";\n *   background: \"rgba(179,25,28,0.7)\";\n *   background: \"#b3191c\";\n * }\n */\nfunction hsla(value, saturation, lightness, alpha) {\n  if (typeof value === 'number' && typeof saturation === 'number' && typeof lightness === 'number' && typeof alpha === 'number') {\n    return alpha >= 1 ? hslToHex(value, saturation, lightness) : \"rgba(\" + hslToRgb(value, saturation, lightness) + \",\" + alpha + \")\";\n  } else if (typeof value === 'object' && saturation === undefined && lightness === undefined && alpha === undefined) {\n    return value.alpha >= 1 ? hslToHex(value.hue, value.saturation, value.lightness) : \"rgba(\" + hslToRgb(value.hue, value.saturation, value.lightness) + \",\" + value.alpha + \")\";\n  }\n\n  throw new PolishedError(2);\n}\n\n/**\n * Returns a string value for the color. The returned result is the smallest possible hex notation.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: rgb(255, 205, 100),\n *   background: rgb({ red: 255, green: 205, blue: 100 }),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${rgb(255, 205, 100)};\n *   background: ${rgb({ red: 255, green: 205, blue: 100 })};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"#ffcd64\";\n *   background: \"#ffcd64\";\n * }\n */\nfunction rgb(value, green, blue) {\n  if (typeof value === 'number' && typeof green === 'number' && typeof blue === 'number') {\n    return reduceHexValue(\"#\" + numberToHex(value) + numberToHex(green) + numberToHex(blue));\n  } else if (typeof value === 'object' && green === undefined && blue === undefined) {\n    return reduceHexValue(\"#\" + numberToHex(value.red) + numberToHex(value.green) + numberToHex(value.blue));\n  }\n\n  throw new PolishedError(6);\n}\n\n/**\n * Returns a string value for the color. The returned result is the smallest possible rgba or hex notation.\n *\n * Can also be used to fade a color by passing a hex value or named CSS color along with an alpha value.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: rgba(255, 205, 100, 0.7),\n *   background: rgba({ red: 255, green: 205, blue: 100, alpha: 0.7 }),\n *   background: rgba(255, 205, 100, 1),\n *   background: rgba('#ffffff', 0.4),\n *   background: rgba('black', 0.7),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${rgba(255, 205, 100, 0.7)};\n *   background: ${rgba({ red: 255, green: 205, blue: 100, alpha: 0.7 })};\n *   background: ${rgba(255, 205, 100, 1)};\n *   background: ${rgba('#ffffff', 0.4)};\n *   background: ${rgba('black', 0.7)};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"rgba(255,205,100,0.7)\";\n *   background: \"rgba(255,205,100,0.7)\";\n *   background: \"#ffcd64\";\n *   background: \"rgba(255,255,255,0.4)\";\n *   background: \"rgba(0,0,0,0.7)\";\n * }\n */\nfunction rgba(firstValue, secondValue, thirdValue, fourthValue) {\n  if (typeof firstValue === 'string' && typeof secondValue === 'number') {\n    var rgbValue = parseToRgb(firstValue);\n    return \"rgba(\" + rgbValue.red + \",\" + rgbValue.green + \",\" + rgbValue.blue + \",\" + secondValue + \")\";\n  } else if (typeof firstValue === 'number' && typeof secondValue === 'number' && typeof thirdValue === 'number' && typeof fourthValue === 'number') {\n    return fourthValue >= 1 ? rgb(firstValue, secondValue, thirdValue) : \"rgba(\" + firstValue + \",\" + secondValue + \",\" + thirdValue + \",\" + fourthValue + \")\";\n  } else if (typeof firstValue === 'object' && secondValue === undefined && thirdValue === undefined && fourthValue === undefined) {\n    return firstValue.alpha >= 1 ? rgb(firstValue.red, firstValue.green, firstValue.blue) : \"rgba(\" + firstValue.red + \",\" + firstValue.green + \",\" + firstValue.blue + \",\" + firstValue.alpha + \")\";\n  }\n\n  throw new PolishedError(7);\n}\n\nvar isRgb = function isRgb(color) {\n  return typeof color.red === 'number' && typeof color.green === 'number' && typeof color.blue === 'number' && (typeof color.alpha !== 'number' || typeof color.alpha === 'undefined');\n};\n\nvar isRgba = function isRgba(color) {\n  return typeof color.red === 'number' && typeof color.green === 'number' && typeof color.blue === 'number' && typeof color.alpha === 'number';\n};\n\nvar isHsl = function isHsl(color) {\n  return typeof color.hue === 'number' && typeof color.saturation === 'number' && typeof color.lightness === 'number' && (typeof color.alpha !== 'number' || typeof color.alpha === 'undefined');\n};\n\nvar isHsla = function isHsla(color) {\n  return typeof color.hue === 'number' && typeof color.saturation === 'number' && typeof color.lightness === 'number' && typeof color.alpha === 'number';\n};\n/**\n * Converts a RgbColor, RgbaColor, HslColor or HslaColor object to a color string.\n * This util is useful in case you only know on runtime which color object is\n * used. Otherwise we recommend to rely on `rgb`, `rgba`, `hsl` or `hsla`.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: toColorString({ red: 255, green: 205, blue: 100 }),\n *   background: toColorString({ red: 255, green: 205, blue: 100, alpha: 0.72 }),\n *   background: toColorString({ hue: 240, saturation: 1, lightness: 0.5 }),\n *   background: toColorString({ hue: 360, saturation: 0.75, lightness: 0.4, alpha: 0.72 }),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${toColorString({ red: 255, green: 205, blue: 100 })};\n *   background: ${toColorString({ red: 255, green: 205, blue: 100, alpha: 0.72 })};\n *   background: ${toColorString({ hue: 240, saturation: 1, lightness: 0.5 })};\n *   background: ${toColorString({ hue: 360, saturation: 0.75, lightness: 0.4, alpha: 0.72 })};\n * `\n *\n * // CSS in JS Output\n * element {\n *   background: \"#ffcd64\";\n *   background: \"rgba(255,205,100,0.72)\";\n *   background: \"#00f\";\n *   background: \"rgba(179,25,25,0.72)\";\n * }\n */\n\n\nfunction toColorString(color) {\n  if (typeof color !== 'object') throw new PolishedError(8);\n  if (isRgba(color)) return rgba(color);\n  if (isRgb(color)) return rgb(color);\n  if (isHsla(color)) return hsla(color);\n  if (isHsl(color)) return hsl(color);\n  throw new PolishedError(8);\n}\n\n// Type definitions taken from https://github.com/gcanti/flow-static-land/blob/master/src/Fun.js\n// eslint-disable-next-line no-unused-vars\n// eslint-disable-next-line no-unused-vars\n// eslint-disable-next-line no-redeclare\nfunction curried(f, length, acc) {\n  return function fn() {\n    // eslint-disable-next-line prefer-rest-params\n    var combined = acc.concat(Array.prototype.slice.call(arguments));\n    return combined.length >= length ? f.apply(this, combined) : curried(f, length, combined);\n  };\n} // eslint-disable-next-line no-redeclare\n\n\nfunction curry(f) {\n  // eslint-disable-line no-redeclare\n  return curried(f, f.length, []);\n}\n\n/**\n * Changes the hue of the color. Hue is a number between 0 to 360. The first\n * argument for adjustHue is the amount of degrees the color is rotated around\n * the color wheel, always producing a positive hue value.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: adjustHue(180, '#448'),\n *   background: adjustHue('180', 'rgba(101,100,205,0.7)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${adjustHue(180, '#448')};\n *   background: ${adjustHue('180', 'rgba(101,100,205,0.7)')};\n * `\n *\n * // CSS in JS Output\n * element {\n *   background: \"#888844\";\n *   background: \"rgba(136,136,68,0.7)\";\n * }\n */\n\nfunction adjustHue(degree, color) {\n  if (color === 'transparent') return color;\n  var hslColor = parseToHsl(color);\n  return toColorString(_extends({}, hslColor, {\n    hue: hslColor.hue + parseFloat(degree)\n  }));\n} // prettier-ignore\n\n\nvar curriedAdjustHue = /*#__PURE__*/curry\n/* ::<number | string, string, string> */\n(adjustHue);\n\n/**\n * Returns the complement of the provided color. This is identical to adjustHue(180, <color>).\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: complement('#448'),\n *   background: complement('rgba(204,205,100,0.7)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${complement('#448')};\n *   background: ${complement('rgba(204,205,100,0.7)')};\n * `\n *\n * // CSS in JS Output\n * element {\n *   background: \"#884\";\n *   background: \"rgba(153,153,153,0.7)\";\n * }\n */\n\nfunction complement(color) {\n  if (color === 'transparent') return color;\n  var hslColor = parseToHsl(color);\n  return toColorString(_extends({}, hslColor, {\n    hue: (hslColor.hue + 180) % 360\n  }));\n}\n\nfunction guard(lowerBoundary, upperBoundary, value) {\n  return Math.max(lowerBoundary, Math.min(upperBoundary, value));\n}\n\n/**\n * Returns a string value for the darkened color.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: darken(0.2, '#FFCD64'),\n *   background: darken('0.2', 'rgba(255,205,100,0.7)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${darken(0.2, '#FFCD64')};\n *   background: ${darken('0.2', 'rgba(255,205,100,0.7)')};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"#ffbd31\";\n *   background: \"rgba(255,189,49,0.7)\";\n * }\n */\n\nfunction darken(amount, color) {\n  if (color === 'transparent') return color;\n  var hslColor = parseToHsl(color);\n  return toColorString(_extends({}, hslColor, {\n    lightness: guard(0, 1, hslColor.lightness - parseFloat(amount))\n  }));\n} // prettier-ignore\n\n\nvar curriedDarken = /*#__PURE__*/curry\n/* ::<number | string, string, string> */\n(darken);\n\n/**\n * Decreases the intensity of a color. Its range is between 0 to 1. The first\n * argument of the desaturate function is the amount by how much the color\n * intensity should be decreased.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: desaturate(0.2, '#CCCD64'),\n *   background: desaturate('0.2', 'rgba(204,205,100,0.7)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${desaturate(0.2, '#CCCD64')};\n *   background: ${desaturate('0.2', 'rgba(204,205,100,0.7)')};\n * `\n *\n * // CSS in JS Output\n * element {\n *   background: \"#b8b979\";\n *   background: \"rgba(184,185,121,0.7)\";\n * }\n */\n\nfunction desaturate(amount, color) {\n  if (color === 'transparent') return color;\n  var hslColor = parseToHsl(color);\n  return toColorString(_extends({}, hslColor, {\n    saturation: guard(0, 1, hslColor.saturation - parseFloat(amount))\n  }));\n} // prettier-ignore\n\n\nvar curriedDesaturate = /*#__PURE__*/curry\n/* ::<number | string, string, string> */\n(desaturate);\n\n/**\n * Returns a number (float) representing the luminance of a color.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: getLuminance('#CCCD64') >= getLuminance('#0000ff') ? '#CCCD64' : '#0000ff',\n *   background: getLuminance('rgba(58, 133, 255, 1)') >= getLuminance('rgba(255, 57, 149, 1)') ?\n *                             'rgba(58, 133, 255, 1)' :\n *                             'rgba(255, 57, 149, 1)',\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${getLuminance('#CCCD64') >= getLuminance('#0000ff') ? '#CCCD64' : '#0000ff'};\n *   background: ${getLuminance('rgba(58, 133, 255, 1)') >= getLuminance('rgba(255, 57, 149, 1)') ?\n *                             'rgba(58, 133, 255, 1)' :\n *                             'rgba(255, 57, 149, 1)'};\n *\n * // CSS in JS Output\n *\n * div {\n *   background: \"#CCCD64\";\n *   background: \"rgba(58, 133, 255, 1)\";\n * }\n */\n\nfunction getLuminance(color) {\n  if (color === 'transparent') return 0;\n  var rgbColor = parseToRgb(color);\n\n  var _Object$keys$map = Object.keys(rgbColor).map(function (key) {\n    var channel = rgbColor[key] / 255;\n    return channel <= 0.03928 ? channel / 12.92 : Math.pow((channel + 0.055) / 1.055, 2.4);\n  }),\n      r = _Object$keys$map[0],\n      g = _Object$keys$map[1],\n      b = _Object$keys$map[2];\n\n  return parseFloat((0.2126 * r + 0.7152 * g + 0.0722 * b).toFixed(3));\n}\n\n/**\n * Returns the contrast ratio between two colors based on\n * [W3's recommended equation for calculating contrast](http://www.w3.org/TR/WCAG20/#contrast-ratiodef).\n *\n * @example\n * const contrastRatio = getContrast('#444', '#fff');\n */\n\nfunction getContrast(color1, color2) {\n  var luminance1 = getLuminance(color1);\n  var luminance2 = getLuminance(color2);\n  return parseFloat((luminance1 > luminance2 ? (luminance1 + 0.05) / (luminance2 + 0.05) : (luminance2 + 0.05) / (luminance1 + 0.05)).toFixed(2));\n}\n\n/**\n * Converts the color to a grayscale, by reducing its saturation to 0.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: grayscale('#CCCD64'),\n *   background: grayscale('rgba(204,205,100,0.7)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${grayscale('#CCCD64')};\n *   background: ${grayscale('rgba(204,205,100,0.7)')};\n * `\n *\n * // CSS in JS Output\n * element {\n *   background: \"#999\";\n *   background: \"rgba(153,153,153,0.7)\";\n * }\n */\n\nfunction grayscale(color) {\n  if (color === 'transparent') return color;\n  return toColorString(_extends({}, parseToHsl(color), {\n    saturation: 0\n  }));\n}\n\n/**\n * Converts a HslColor or HslaColor object to a color string.\n * This util is useful in case you only know on runtime which color object is\n * used. Otherwise we recommend to rely on `hsl` or `hsla`.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: hslToColorString({ hue: 240, saturation: 1, lightness: 0.5 }),\n *   background: hslToColorString({ hue: 360, saturation: 0.75, lightness: 0.4, alpha: 0.72 }),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${hslToColorString({ hue: 240, saturation: 1, lightness: 0.5 })};\n *   background: ${hslToColorString({ hue: 360, saturation: 0.75, lightness: 0.4, alpha: 0.72 })};\n * `\n *\n * // CSS in JS Output\n * element {\n *   background: \"#00f\";\n *   background: \"rgba(179,25,25,0.72)\";\n * }\n */\nfunction hslToColorString(color) {\n  if (typeof color === 'object' && typeof color.hue === 'number' && typeof color.saturation === 'number' && typeof color.lightness === 'number') {\n    if (color.alpha && typeof color.alpha === 'number') {\n      return hsla({\n        hue: color.hue,\n        saturation: color.saturation,\n        lightness: color.lightness,\n        alpha: color.alpha\n      });\n    }\n\n    return hsl({\n      hue: color.hue,\n      saturation: color.saturation,\n      lightness: color.lightness\n    });\n  }\n\n  throw new PolishedError(45);\n}\n\n/**\n * Inverts the red, green and blue values of a color.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: invert('#CCCD64'),\n *   background: invert('rgba(101,100,205,0.7)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${invert('#CCCD64')};\n *   background: ${invert('rgba(101,100,205,0.7)')};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"#33329b\";\n *   background: \"rgba(154,155,50,0.7)\";\n * }\n */\n\nfunction invert(color) {\n  if (color === 'transparent') return color; // parse color string to rgb\n\n  var value = parseToRgb(color);\n  return toColorString(_extends({}, value, {\n    red: 255 - value.red,\n    green: 255 - value.green,\n    blue: 255 - value.blue\n  }));\n}\n\n/**\n * Returns a string value for the lightened color.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: lighten(0.2, '#CCCD64'),\n *   background: lighten('0.2', 'rgba(204,205,100,0.7)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${lighten(0.2, '#FFCD64')};\n *   background: ${lighten('0.2', 'rgba(204,205,100,0.7)')};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"#e5e6b1\";\n *   background: \"rgba(229,230,177,0.7)\";\n * }\n */\n\nfunction lighten(amount, color) {\n  if (color === 'transparent') return color;\n  var hslColor = parseToHsl(color);\n  return toColorString(_extends({}, hslColor, {\n    lightness: guard(0, 1, hslColor.lightness + parseFloat(amount))\n  }));\n} // prettier-ignore\n\n\nvar curriedLighten = /*#__PURE__*/curry\n/* ::<number | string, string, string> */\n(lighten);\n\n/**\n * Determines which contrast guidelines have been met for two colors.\n * Based on the [contrast calculations recommended by W3](https://www.w3.org/WAI/WCAG21/Understanding/contrast-enhanced.html).\n *\n * @example\n * const scores = meetsContrastGuidelines('#444', '#fff');\n */\nfunction meetsContrastGuidelines(color1, color2) {\n  var contrastRatio = getContrast(color1, color2);\n  return {\n    AA: contrastRatio >= 4.5,\n    AALarge: contrastRatio >= 3,\n    AAA: contrastRatio >= 7,\n    AAALarge: contrastRatio >= 4.5\n  };\n}\n\n/**\n * Mixes the two provided colors together by calculating the average of each of the RGB components weighted to the first color by the provided weight.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: mix(0.5, '#f00', '#00f')\n *   background: mix(0.25, '#f00', '#00f')\n *   background: mix('0.5', 'rgba(255, 0, 0, 0.5)', '#00f')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${mix(0.5, '#f00', '#00f')};\n *   background: ${mix(0.25, '#f00', '#00f')};\n *   background: ${mix('0.5', 'rgba(255, 0, 0, 0.5)', '#00f')};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"#7f007f\";\n *   background: \"#3f00bf\";\n *   background: \"rgba(63, 0, 191, 0.75)\";\n * }\n */\n\nfunction mix(weight, color, otherColor) {\n  if (color === 'transparent') return otherColor;\n  if (otherColor === 'transparent') return color;\n  if (weight === 0) return otherColor;\n  var parsedColor1 = parseToRgb(color);\n\n  var color1 = _extends({}, parsedColor1, {\n    alpha: typeof parsedColor1.alpha === 'number' ? parsedColor1.alpha : 1\n  });\n\n  var parsedColor2 = parseToRgb(otherColor);\n\n  var color2 = _extends({}, parsedColor2, {\n    alpha: typeof parsedColor2.alpha === 'number' ? parsedColor2.alpha : 1\n  }); // The formula is copied from the original Sass implementation:\n  // http://sass-lang.com/documentation/Sass/Script/Functions.html#mix-instance_method\n\n\n  var alphaDelta = color1.alpha - color2.alpha;\n  var x = parseFloat(weight) * 2 - 1;\n  var y = x * alphaDelta === -1 ? x : x + alphaDelta;\n  var z = 1 + x * alphaDelta;\n  var weight1 = (y / z + 1) / 2.0;\n  var weight2 = 1 - weight1;\n  var mixedColor = {\n    red: Math.floor(color1.red * weight1 + color2.red * weight2),\n    green: Math.floor(color1.green * weight1 + color2.green * weight2),\n    blue: Math.floor(color1.blue * weight1 + color2.blue * weight2),\n    alpha: color1.alpha * (parseFloat(weight) / 1.0) + color2.alpha * (1 - parseFloat(weight) / 1.0)\n  };\n  return rgba(mixedColor);\n} // prettier-ignore\n\n\nvar curriedMix = /*#__PURE__*/curry\n/* ::<number | string, string, string, string> */\n(mix);\n\n/**\n * Increases the opacity of a color. Its range for the amount is between 0 to 1.\n *\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: opacify(0.1, 'rgba(255, 255, 255, 0.9)');\n *   background: opacify(0.2, 'hsla(0, 0%, 100%, 0.5)'),\n *   background: opacify('0.5', 'rgba(255, 0, 0, 0.2)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${opacify(0.1, 'rgba(255, 255, 255, 0.9)')};\n *   background: ${opacify(0.2, 'hsla(0, 0%, 100%, 0.5)')},\n *   background: ${opacify('0.5', 'rgba(255, 0, 0, 0.2)')},\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"#fff\";\n *   background: \"rgba(255,255,255,0.7)\";\n *   background: \"rgba(255,0,0,0.7)\";\n * }\n */\n\nfunction opacify(amount, color) {\n  if (color === 'transparent') return color;\n  var parsedColor = parseToRgb(color);\n  var alpha = typeof parsedColor.alpha === 'number' ? parsedColor.alpha : 1;\n\n  var colorWithAlpha = _extends({}, parsedColor, {\n    alpha: guard(0, 1, (alpha * 100 + parseFloat(amount) * 100) / 100)\n  });\n\n  return rgba(colorWithAlpha);\n} // prettier-ignore\n\n\nvar curriedOpacify = /*#__PURE__*/curry\n/* ::<number | string, string, string> */\n(opacify);\n\nvar defaultReturnIfLightColor = '#000';\nvar defaultReturnIfDarkColor = '#fff';\n/**\n * Returns black or white (or optional passed colors) for best\n * contrast depending on the luminosity of the given color.\n * When passing custom return colors, strict mode ensures that the\n * return color always meets or exceeds WCAG level AA or greater. If this test\n * fails, the default return color (black or white) is returned in place of the\n * custom return color. You can optionally turn off strict mode.\n *\n * Follows [W3C specs for readability](https://www.w3.org/TR/WCAG20-TECHS/G18.html).\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   color: readableColor('#000'),\n *   color: readableColor('black', '#001', '#ff8'),\n *   color: readableColor('white', '#001', '#ff8'),\n *   color: readableColor('red', '#333', '#ddd', true)\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   color: ${readableColor('#000')};\n *   color: ${readableColor('black', '#001', '#ff8')};\n *   color: ${readableColor('white', '#001', '#ff8')};\n *   color: ${readableColor('red', '#333', '#ddd', true)};\n * `\n *\n * // CSS in JS Output\n * element {\n *   color: \"#fff\";\n *   color: \"#ff8\";\n *   color: \"#001\";\n *   color: \"#000\";\n * }\n */\n\nfunction readableColor(color, returnIfLightColor, returnIfDarkColor, strict) {\n  if (returnIfLightColor === void 0) {\n    returnIfLightColor = defaultReturnIfLightColor;\n  }\n\n  if (returnIfDarkColor === void 0) {\n    returnIfDarkColor = defaultReturnIfDarkColor;\n  }\n\n  if (strict === void 0) {\n    strict = true;\n  }\n\n  var isColorLight = getLuminance(color) > 0.179;\n  var preferredReturnColor = isColorLight ? returnIfLightColor : returnIfDarkColor;\n\n  if (!strict || getContrast(color, preferredReturnColor) >= 4.5) {\n    return preferredReturnColor;\n  }\n\n  return isColorLight ? defaultReturnIfLightColor : defaultReturnIfDarkColor;\n}\n\n/**\n * Converts a RgbColor or RgbaColor object to a color string.\n * This util is useful in case you only know on runtime which color object is\n * used. Otherwise we recommend to rely on `rgb` or `rgba`.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: rgbToColorString({ red: 255, green: 205, blue: 100 }),\n *   background: rgbToColorString({ red: 255, green: 205, blue: 100, alpha: 0.72 }),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${rgbToColorString({ red: 255, green: 205, blue: 100 })};\n *   background: ${rgbToColorString({ red: 255, green: 205, blue: 100, alpha: 0.72 })};\n * `\n *\n * // CSS in JS Output\n * element {\n *   background: \"#ffcd64\";\n *   background: \"rgba(255,205,100,0.72)\";\n * }\n */\nfunction rgbToColorString(color) {\n  if (typeof color === 'object' && typeof color.red === 'number' && typeof color.green === 'number' && typeof color.blue === 'number') {\n    if (typeof color.alpha === 'number') {\n      return rgba({\n        red: color.red,\n        green: color.green,\n        blue: color.blue,\n        alpha: color.alpha\n      });\n    }\n\n    return rgb({\n      red: color.red,\n      green: color.green,\n      blue: color.blue\n    });\n  }\n\n  throw new PolishedError(46);\n}\n\n/**\n * Increases the intensity of a color. Its range is between 0 to 1. The first\n * argument of the saturate function is the amount by how much the color\n * intensity should be increased.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: saturate(0.2, '#CCCD64'),\n *   background: saturate('0.2', 'rgba(204,205,100,0.7)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${saturate(0.2, '#FFCD64')};\n *   background: ${saturate('0.2', 'rgba(204,205,100,0.7)')};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"#e0e250\";\n *   background: \"rgba(224,226,80,0.7)\";\n * }\n */\n\nfunction saturate(amount, color) {\n  if (color === 'transparent') return color;\n  var hslColor = parseToHsl(color);\n  return toColorString(_extends({}, hslColor, {\n    saturation: guard(0, 1, hslColor.saturation + parseFloat(amount))\n  }));\n} // prettier-ignore\n\n\nvar curriedSaturate = /*#__PURE__*/curry\n/* ::<number | string, string, string> */\n(saturate);\n\n/**\n * Sets the hue of a color to the provided value. The hue range can be\n * from 0 and 359.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: setHue(42, '#CCCD64'),\n *   background: setHue('244', 'rgba(204,205,100,0.7)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${setHue(42, '#CCCD64')};\n *   background: ${setHue('244', 'rgba(204,205,100,0.7)')};\n * `\n *\n * // CSS in JS Output\n * element {\n *   background: \"#cdae64\";\n *   background: \"rgba(107,100,205,0.7)\";\n * }\n */\n\nfunction setHue(hue, color) {\n  if (color === 'transparent') return color;\n  return toColorString(_extends({}, parseToHsl(color), {\n    hue: parseFloat(hue)\n  }));\n} // prettier-ignore\n\n\nvar curriedSetHue = /*#__PURE__*/curry\n/* ::<number | string, string, string> */\n(setHue);\n\n/**\n * Sets the lightness of a color to the provided value. The lightness range can be\n * from 0 and 1.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: setLightness(0.2, '#CCCD64'),\n *   background: setLightness('0.75', 'rgba(204,205,100,0.7)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${setLightness(0.2, '#CCCD64')};\n *   background: ${setLightness('0.75', 'rgba(204,205,100,0.7)')};\n * `\n *\n * // CSS in JS Output\n * element {\n *   background: \"#4d4d19\";\n *   background: \"rgba(223,224,159,0.7)\";\n * }\n */\n\nfunction setLightness(lightness, color) {\n  if (color === 'transparent') return color;\n  return toColorString(_extends({}, parseToHsl(color), {\n    lightness: parseFloat(lightness)\n  }));\n} // prettier-ignore\n\n\nvar curriedSetLightness = /*#__PURE__*/curry\n/* ::<number | string, string, string> */\n(setLightness);\n\n/**\n * Sets the saturation of a color to the provided value. The saturation range can be\n * from 0 and 1.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: setSaturation(0.2, '#CCCD64'),\n *   background: setSaturation('0.75', 'rgba(204,205,100,0.7)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${setSaturation(0.2, '#CCCD64')};\n *   background: ${setSaturation('0.75', 'rgba(204,205,100,0.7)')};\n * `\n *\n * // CSS in JS Output\n * element {\n *   background: \"#adad84\";\n *   background: \"rgba(228,229,76,0.7)\";\n * }\n */\n\nfunction setSaturation(saturation, color) {\n  if (color === 'transparent') return color;\n  return toColorString(_extends({}, parseToHsl(color), {\n    saturation: parseFloat(saturation)\n  }));\n} // prettier-ignore\n\n\nvar curriedSetSaturation = /*#__PURE__*/curry\n/* ::<number | string, string, string> */\n(setSaturation);\n\n/**\n * Shades a color by mixing it with black. `shade` can produce\n * hue shifts, where as `darken` manipulates the luminance channel and therefore\n * doesn't produce hue shifts.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: shade(0.25, '#00f')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${shade(0.25, '#00f')};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"#00003f\";\n * }\n */\n\nfunction shade(percentage, color) {\n  if (color === 'transparent') return color;\n  return curriedMix(parseFloat(percentage), 'rgb(0, 0, 0)', color);\n} // prettier-ignore\n\n\nvar curriedShade = /*#__PURE__*/curry\n/* ::<number | string, string, string> */\n(shade);\n\n/**\n * Tints a color by mixing it with white. `tint` can produce\n * hue shifts, where as `lighten` manipulates the luminance channel and therefore\n * doesn't produce hue shifts.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: tint(0.25, '#00f')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${tint(0.25, '#00f')};\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"#bfbfff\";\n * }\n */\n\nfunction tint(percentage, color) {\n  if (color === 'transparent') return color;\n  return curriedMix(parseFloat(percentage), 'rgb(255, 255, 255)', color);\n} // prettier-ignore\n\n\nvar curriedTint = /*#__PURE__*/curry\n/* ::<number | string, string, string> */\n(tint);\n\n/**\n * Decreases the opacity of a color. Its range for the amount is between 0 to 1.\n *\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   background: transparentize(0.1, '#fff');\n *   background: transparentize(0.2, 'hsl(0, 0%, 100%)'),\n *   background: transparentize('0.5', 'rgba(255, 0, 0, 0.8)'),\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   background: ${transparentize(0.1, '#fff')};\n *   background: ${transparentize(0.2, 'hsl(0, 0%, 100%)')},\n *   background: ${transparentize('0.5', 'rgba(255, 0, 0, 0.8)')},\n * `\n *\n * // CSS in JS Output\n *\n * element {\n *   background: \"rgba(255,255,255,0.9)\";\n *   background: \"rgba(255,255,255,0.8)\";\n *   background: \"rgba(255,0,0,0.3)\";\n * }\n */\n\nfunction transparentize(amount, color) {\n  if (color === 'transparent') return color;\n  var parsedColor = parseToRgb(color);\n  var alpha = typeof parsedColor.alpha === 'number' ? parsedColor.alpha : 1;\n\n  var colorWithAlpha = _extends({}, parsedColor, {\n    alpha: guard(0, 1, +(alpha * 100 - parseFloat(amount) * 100).toFixed(2) / 100)\n  });\n\n  return rgba(colorWithAlpha);\n} // prettier-ignore\n\n\nvar curriedTransparentize = /*#__PURE__*/curry\n/* ::<number | string, string, string> */\n(transparentize);\n\n/**\n * Shorthand for easily setting the animation property. Allows either multiple arrays with animations\n * or a single animation spread over the arguments.\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...animation(['rotate', '1s', 'ease-in-out'], ['colorchange', '2s'])\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${animation(['rotate', '1s', 'ease-in-out'], ['colorchange', '2s'])}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'animation': 'rotate 1s ease-in-out, colorchange 2s'\n * }\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...animation('rotate', '1s', 'ease-in-out')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${animation('rotate', '1s', 'ease-in-out')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'animation': 'rotate 1s ease-in-out'\n * }\n */\nfunction animation() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  // Allow single or multiple animations passed\n  var multiMode = Array.isArray(args[0]);\n\n  if (!multiMode && args.length > 8) {\n    throw new PolishedError(64);\n  }\n\n  var code = args.map(function (arg) {\n    if (multiMode && !Array.isArray(arg) || !multiMode && Array.isArray(arg)) {\n      throw new PolishedError(65);\n    }\n\n    if (Array.isArray(arg) && arg.length > 8) {\n      throw new PolishedError(66);\n    }\n\n    return Array.isArray(arg) ? arg.join(' ') : arg;\n  }).join(', ');\n  return {\n    animation: code\n  };\n}\n\n/**\n * Shorthand that accepts any number of backgroundImage values as parameters for creating a single background statement.\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...backgroundImages('url(\"/image/background.jpg\")', 'linear-gradient(red, green)')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${backgroundImages('url(\"/image/background.jpg\")', 'linear-gradient(red, green)')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'backgroundImage': 'url(\"/image/background.jpg\"), linear-gradient(red, green)'\n * }\n */\nfunction backgroundImages() {\n  for (var _len = arguments.length, properties = new Array(_len), _key = 0; _key < _len; _key++) {\n    properties[_key] = arguments[_key];\n  }\n\n  return {\n    backgroundImage: properties.join(', ')\n  };\n}\n\n/**\n * Shorthand that accepts any number of background values as parameters for creating a single background statement.\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...backgrounds('url(\"/image/background.jpg\")', 'linear-gradient(red, green)', 'center no-repeat')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${backgrounds('url(\"/image/background.jpg\")', 'linear-gradient(red, green)', 'center no-repeat')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'background': 'url(\"/image/background.jpg\"), linear-gradient(red, green), center no-repeat'\n * }\n */\nfunction backgrounds() {\n  for (var _len = arguments.length, properties = new Array(_len), _key = 0; _key < _len; _key++) {\n    properties[_key] = arguments[_key];\n  }\n\n  return {\n    background: properties.join(', ')\n  };\n}\n\nvar sideMap = ['top', 'right', 'bottom', 'left'];\n/**\n * Shorthand for the border property that splits out individual properties for use with tools like Fela and Styletron. A side keyword can optionally be passed to target only one side's border properties.\n *\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...border('1px', 'solid', 'red')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${border('1px', 'solid', 'red')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'borderColor': 'red',\n *   'borderStyle': 'solid',\n *   'borderWidth': `1px`,\n * }\n *\n * // Styles as object usage\n * const styles = {\n *   ...border('top', '1px', 'solid', 'red')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${border('top', '1px', 'solid', 'red')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'borderTopColor': 'red',\n *   'borderTopStyle': 'solid',\n *   'borderTopWidth': `1px`,\n * }\n */\n\nfunction border(sideKeyword) {\n  for (var _len = arguments.length, values = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    values[_key - 1] = arguments[_key];\n  }\n\n  if (typeof sideKeyword === 'string' && sideMap.indexOf(sideKeyword) >= 0) {\n    var _ref;\n\n    return _ref = {}, _ref[\"border\" + capitalizeString(sideKeyword) + \"Width\"] = values[0], _ref[\"border\" + capitalizeString(sideKeyword) + \"Style\"] = values[1], _ref[\"border\" + capitalizeString(sideKeyword) + \"Color\"] = values[2], _ref;\n  } else {\n    values.unshift(sideKeyword);\n    return {\n      borderWidth: values[0],\n      borderStyle: values[1],\n      borderColor: values[2]\n    };\n  }\n}\n\n/**\n * Shorthand that accepts up to four values, including null to skip a value, and maps them to their respective directions.\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...borderColor('red', 'green', 'blue', 'yellow')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${borderColor('red', 'green', 'blue', 'yellow')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'borderTopColor': 'red',\n *   'borderRightColor': 'green',\n *   'borderBottomColor': 'blue',\n *   'borderLeftColor': 'yellow'\n * }\n */\nfunction borderColor() {\n  for (var _len = arguments.length, values = new Array(_len), _key = 0; _key < _len; _key++) {\n    values[_key] = arguments[_key];\n  }\n\n  return directionalProperty.apply(void 0, ['borderColor'].concat(values));\n}\n\n/**\n * Shorthand that accepts a value for side and a value for radius and applies the radius value to both corners of the side.\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...borderRadius('top', '5px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${borderRadius('top', '5px')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'borderTopRightRadius': '5px',\n *   'borderTopLeftRadius': '5px',\n * }\n */\nfunction borderRadius(side, radius) {\n  var uppercaseSide = capitalizeString(side);\n\n  if (!radius && radius !== 0) {\n    throw new PolishedError(62);\n  }\n\n  if (uppercaseSide === 'Top' || uppercaseSide === 'Bottom') {\n    var _ref;\n\n    return _ref = {}, _ref[\"border\" + uppercaseSide + \"RightRadius\"] = radius, _ref[\"border\" + uppercaseSide + \"LeftRadius\"] = radius, _ref;\n  }\n\n  if (uppercaseSide === 'Left' || uppercaseSide === 'Right') {\n    var _ref2;\n\n    return _ref2 = {}, _ref2[\"borderTop\" + uppercaseSide + \"Radius\"] = radius, _ref2[\"borderBottom\" + uppercaseSide + \"Radius\"] = radius, _ref2;\n  }\n\n  throw new PolishedError(63);\n}\n\n/**\n * Shorthand that accepts up to four values, including null to skip a value, and maps them to their respective directions.\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...borderStyle('solid', 'dashed', 'dotted', 'double')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${borderStyle('solid', 'dashed', 'dotted', 'double')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'borderTopStyle': 'solid',\n *   'borderRightStyle': 'dashed',\n *   'borderBottomStyle': 'dotted',\n *   'borderLeftStyle': 'double'\n * }\n */\nfunction borderStyle() {\n  for (var _len = arguments.length, values = new Array(_len), _key = 0; _key < _len; _key++) {\n    values[_key] = arguments[_key];\n  }\n\n  return directionalProperty.apply(void 0, ['borderStyle'].concat(values));\n}\n\n/**\n * Shorthand that accepts up to four values, including null to skip a value, and maps them to their respective directions.\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...borderWidth('12px', '24px', '36px', '48px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${borderWidth('12px', '24px', '36px', '48px')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'borderTopWidth': '12px',\n *   'borderRightWidth': '24px',\n *   'borderBottomWidth': '36px',\n *   'borderLeftWidth': '48px'\n * }\n */\nfunction borderWidth() {\n  for (var _len = arguments.length, values = new Array(_len), _key = 0; _key < _len; _key++) {\n    values[_key] = arguments[_key];\n  }\n\n  return directionalProperty.apply(void 0, ['borderWidth'].concat(values));\n}\n\nfunction generateSelectors(template, state) {\n  var stateSuffix = state ? \":\" + state : '';\n  return template(stateSuffix);\n}\n/**\n * Function helper that adds an array of states to a template of selectors. Used in textInputs and buttons.\n * @private\n */\n\n\nfunction statefulSelectors(states, template, stateMap) {\n  if (!template) throw new PolishedError(67);\n  if (states.length === 0) return generateSelectors(template, null);\n  var selectors = [];\n\n  for (var i = 0; i < states.length; i += 1) {\n    if (stateMap && stateMap.indexOf(states[i]) < 0) {\n      throw new PolishedError(68);\n    }\n\n    selectors.push(generateSelectors(template, states[i]));\n  }\n\n  selectors = selectors.join(',');\n  return selectors;\n}\n\nvar stateMap = [undefined, null, 'active', 'focus', 'hover'];\n\nfunction template(state) {\n  return \"button\" + state + \",\\n  input[type=\\\"button\\\"]\" + state + \",\\n  input[type=\\\"reset\\\"]\" + state + \",\\n  input[type=\\\"submit\\\"]\" + state;\n}\n/**\n * Populates selectors that target all buttons. You can pass optional states to append to the selectors.\n * @example\n * // Styles as object usage\n * const styles = {\n *   [buttons('active')]: {\n *     'border': 'none'\n *   }\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   > ${buttons('active')} {\n *     border: none;\n *   }\n * `\n *\n * // CSS in JS Output\n *\n *  'button:active,\n *  'input[type=\"button\"]:active,\n *  'input[type=\\\"reset\\\"]:active,\n *  'input[type=\\\"submit\\\"]:active: {\n *   'border': 'none'\n * }\n */\n\n\nfunction buttons() {\n  for (var _len = arguments.length, states = new Array(_len), _key = 0; _key < _len; _key++) {\n    states[_key] = arguments[_key];\n  }\n\n  return statefulSelectors(states, template, stateMap);\n}\n\n/**\n * Shorthand that accepts up to four values, including null to skip a value, and maps them to their respective directions.\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...margin('12px', '24px', '36px', '48px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${margin('12px', '24px', '36px', '48px')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'marginTop': '12px',\n *   'marginRight': '24px',\n *   'marginBottom': '36px',\n *   'marginLeft': '48px'\n * }\n */\nfunction margin() {\n  for (var _len = arguments.length, values = new Array(_len), _key = 0; _key < _len; _key++) {\n    values[_key] = arguments[_key];\n  }\n\n  return directionalProperty.apply(void 0, ['margin'].concat(values));\n}\n\n/**\n * Shorthand that accepts up to four values, including null to skip a value, and maps them to their respective directions.\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...padding('12px', '24px', '36px', '48px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${padding('12px', '24px', '36px', '48px')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'paddingTop': '12px',\n *   'paddingRight': '24px',\n *   'paddingBottom': '36px',\n *   'paddingLeft': '48px'\n * }\n */\nfunction padding() {\n  for (var _len = arguments.length, values = new Array(_len), _key = 0; _key < _len; _key++) {\n    values[_key] = arguments[_key];\n  }\n\n  return directionalProperty.apply(void 0, ['padding'].concat(values));\n}\n\nvar positionMap$1 = ['absolute', 'fixed', 'relative', 'static', 'sticky'];\n/**\n * Shorthand accepts up to five values, including null to skip a value, and maps them to their respective directions. The first value can optionally be a position keyword.\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...position('12px', '24px', '36px', '48px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${position('12px', '24px', '36px', '48px')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'top': '12px',\n *   'right': '24px',\n *   'bottom': '36px',\n *   'left': '48px'\n * }\n *\n * // Styles as object usage\n * const styles = {\n *   ...position('absolute', '12px', '24px', '36px', '48px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${position('absolute', '12px', '24px', '36px', '48px')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'position': 'absolute',\n *   'top': '12px',\n *   'right': '24px',\n *   'bottom': '36px',\n *   'left': '48px'\n * }\n */\n\nfunction position(firstValue) {\n  for (var _len = arguments.length, values = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    values[_key - 1] = arguments[_key];\n  }\n\n  if (positionMap$1.indexOf(firstValue) >= 0 && firstValue) {\n    return _extends({}, directionalProperty.apply(void 0, [''].concat(values)), {\n      position: firstValue\n    });\n  } else {\n    return directionalProperty.apply(void 0, ['', firstValue].concat(values));\n  }\n}\n\n/**\n * Shorthand to set the height and width properties in a single statement.\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...size('300px', '250px')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${size('300px', '250px')}\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'height': '300px',\n *   'width': '250px',\n * }\n */\nfunction size(height, width) {\n  if (width === void 0) {\n    width = height;\n  }\n\n  return {\n    height: height,\n    width: width\n  };\n}\n\nvar stateMap$1 = [undefined, null, 'active', 'focus', 'hover'];\n\nfunction template$1(state) {\n  return \"input[type=\\\"color\\\"]\" + state + \",\\n    input[type=\\\"date\\\"]\" + state + \",\\n    input[type=\\\"datetime\\\"]\" + state + \",\\n    input[type=\\\"datetime-local\\\"]\" + state + \",\\n    input[type=\\\"email\\\"]\" + state + \",\\n    input[type=\\\"month\\\"]\" + state + \",\\n    input[type=\\\"number\\\"]\" + state + \",\\n    input[type=\\\"password\\\"]\" + state + \",\\n    input[type=\\\"search\\\"]\" + state + \",\\n    input[type=\\\"tel\\\"]\" + state + \",\\n    input[type=\\\"text\\\"]\" + state + \",\\n    input[type=\\\"time\\\"]\" + state + \",\\n    input[type=\\\"url\\\"]\" + state + \",\\n    input[type=\\\"week\\\"]\" + state + \",\\n    input:not([type])\" + state + \",\\n    textarea\" + state;\n}\n/**\n * Populates selectors that target all text inputs. You can pass optional states to append to the selectors.\n * @example\n * // Styles as object usage\n * const styles = {\n *   [textInputs('active')]: {\n *     'border': 'none'\n *   }\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   > ${textInputs('active')} {\n *     border: none;\n *   }\n * `\n *\n * // CSS in JS Output\n *\n *  'input[type=\"color\"]:active,\n *  input[type=\"date\"]:active,\n *  input[type=\"datetime\"]:active,\n *  input[type=\"datetime-local\"]:active,\n *  input[type=\"email\"]:active,\n *  input[type=\"month\"]:active,\n *  input[type=\"number\"]:active,\n *  input[type=\"password\"]:active,\n *  input[type=\"search\"]:active,\n *  input[type=\"tel\"]:active,\n *  input[type=\"text\"]:active,\n *  input[type=\"time\"]:active,\n *  input[type=\"url\"]:active,\n *  input[type=\"week\"]:active,\n *  input:not([type]):active,\n *  textarea:active': {\n *   'border': 'none'\n * }\n */\n\n\nfunction textInputs() {\n  for (var _len = arguments.length, states = new Array(_len), _key = 0; _key < _len; _key++) {\n    states[_key] = arguments[_key];\n  }\n\n  return statefulSelectors(states, template$1, stateMap$1);\n}\n\n/**\n * Accepts any number of transition values as parameters for creating a single transition statement. You may also pass an array of properties as the first parameter that you would like to apply the same transition values to (second parameter).\n * @example\n * // Styles as object usage\n * const styles = {\n *   ...transitions('opacity 1.0s ease-in 0s', 'width 2.0s ease-in 2s'),\n *   ...transitions(['color', 'background-color'], '2.0s ease-in 2s')\n * }\n *\n * // styled-components usage\n * const div = styled.div`\n *   ${transitions('opacity 1.0s ease-in 0s', 'width 2.0s ease-in 2s')};\n *   ${transitions(['color', 'background-color'], '2.0s ease-in 2s'),};\n * `\n *\n * // CSS as JS Output\n *\n * div {\n *   'transition': 'opacity 1.0s ease-in 0s, width 2.0s ease-in 2s'\n *   'transition': 'color 2.0s ease-in 2s, background-color 2.0s ease-in 2s',\n * }\n */\n\nfunction transitions() {\n  for (var _len = arguments.length, properties = new Array(_len), _key = 0; _key < _len; _key++) {\n    properties[_key] = arguments[_key];\n  }\n\n  if (Array.isArray(properties[0]) && properties.length === 2) {\n    var value = properties[1];\n\n    if (typeof value !== 'string') {\n      throw new PolishedError(61);\n    }\n\n    var transitionsString = properties[0].map(function (property) {\n      return property + \" \" + value;\n    }).join(', ');\n    return {\n      transition: transitionsString\n    };\n  } else {\n    return {\n      transition: properties.join(', ')\n    };\n  }\n}\n\nexport { curriedAdjustHue as adjustHue, animation, backgroundImages, backgrounds, between, border, borderColor, borderRadius, borderStyle, borderWidth, buttons, clearFix, complement, cover, cssVar, curriedDarken as darken, curriedDesaturate as desaturate, directionalProperty, easeIn, easeInOut, easeOut, ellipsis, em, fluidRange, fontFace, getContrast, getLuminance, getValueAndUnit, grayscale, hiDPI, hideText, hideVisually, hsl, hslToColorString, hsla, important, invert, curriedLighten as lighten, linearGradient, margin, math, meetsContrastGuidelines, curriedMix as mix, modularScale, normalize, curriedOpacify as opacify, padding, parseToHsl, parseToRgb, position, radialGradient, readableColor, rem, remToPx, retinaImage, rgb, rgbToColorString, rgba, curriedSaturate as saturate, curriedSetHue as setHue, curriedSetLightness as setLightness, curriedSetSaturation as setSaturation, curriedShade as shade, size, stripUnit, textInputs, timingFunctions, curriedTint as tint, toColorString, transitions, curriedTransparentize as transparentize, triangle, wordWrap };\n","import React, { HTMLProps, useCallback } from 'react'\nimport styled, { keyframes } from 'styled-components'\nimport { darken } from 'polished'\nimport { ArrowLeft, X, ExternalLink as LinkIconFeather, Trash } from 'react-feather'\n\nexport const ButtonText = styled.button`\n  outline: none;\n  border: none;\n  font-size: inherit;\n  padding: 0;\n  margin: 0;\n  background: none;\n  cursor: pointer;\n\n  :hover {\n    opacity: 0.7;\n  }\n\n  :focus {\n    text-decoration: underline;\n  }\n`\n\nexport const Button = styled.button.attrs<{ warning: boolean }, { backgroundColor: string }>(({ warning, theme }) => ({\n  backgroundColor: warning ? theme.red1 : theme.primary1\n}))`\n  padding: 1rem 2rem 1rem 2rem;\n  border-radius: 3rem;\n  cursor: pointer;\n  user-select: none;\n  font-size: 1rem;\n  border: none;\n  outline: none;\n  background-color: ${({ backgroundColor }) => backgroundColor};\n  color: ${({ theme }) => theme.white};\n  width: 100%;\n\n  :hover,\n  :focus {\n    background-color: ${({ backgroundColor }) => darken(0.05, backgroundColor)};\n  }\n\n  :active {\n    background-color: ${({ backgroundColor }) => darken(0.1, backgroundColor)};\n  }\n\n  :disabled {\n    background-color: ${({ theme }) => theme.bg1};\n    color: ${({ theme }) => theme.text4};\n    cursor: auto;\n  }\n`\n\nexport const CloseIcon = styled(X)<{ onClick: () => void }>`\n  cursor: pointer;\n`\n\n// for wrapper react feather icons\nexport const IconWrapper = styled.div<{ stroke?: string; size?: string; marginRight?: string; marginLeft?: string }>`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: ${({ size }) => size ?? '20px'};\n  height: ${({ size }) => size ?? '20px'};\n  margin-right: ${({ marginRight }) => marginRight ?? 0};\n  margin-left: ${({ marginLeft }) => marginLeft ?? 0};\n  & > * {\n    stroke: ${({ theme, stroke }) => stroke ?? theme.blue1};\n  }\n`\n\n// A button that triggers some onClick result, but looks like a link.\nexport const LinkStyledButton = styled.button<{ disabled?: boolean }>`\n  border: none;\n  text-decoration: none;\n  background: none;\n\n  cursor: ${({ disabled }) => (disabled ? 'default' : 'pointer')};\n  color: ${({ theme, disabled }) => (disabled ? theme.text2 : theme.primary1)};\n  font-weight: 500;\n\n  :hover {\n    text-decoration: ${({ disabled }) => (disabled ? null : 'underline')};\n  }\n\n  :focus {\n    outline: none;\n    text-decoration: ${({ disabled }) => (disabled ? null : 'underline')};\n  }\n\n  :active {\n    text-decoration: none;\n  }\n`\n\n// An internal link from the react-router-dom library that is correctly styled\nexport const StyledInternalLink = styled.a`\n  text-decoration: none;\n  cursor: pointer;\n  color: ${({ theme }) => theme.primary1};\n  font-weight: 500;\n\n  :hover {\n    text-decoration: underline;\n  }\n\n  :focus {\n    outline: none;\n    text-decoration: underline;\n  }\n\n  :active {\n    text-decoration: none;\n  }\n`\n\nconst StyledLink = styled.a`\n  text-decoration: none;\n  cursor: pointer;\n  color: ${({ theme }) => theme.primary1};\n  font-weight: 500;\n\n  :hover {\n    text-decoration: underline;\n  }\n\n  :focus {\n    outline: none;\n    text-decoration: underline;\n  }\n\n  :active {\n    text-decoration: none;\n  }\n`\n\nconst LinkIconWrapper = styled.a`\n  text-decoration: none;\n  cursor: pointer;\n  align-items: center;\n  justify-content: center;\n  display: flex;\n\n  :hover {\n    text-decoration: none;\n    opacity: 0.7;\n  }\n\n  :focus {\n    outline: none;\n    text-decoration: none;\n  }\n\n  :active {\n    text-decoration: none;\n  }\n`\n\nexport const LinkIcon = styled(LinkIconFeather)`\n  height: 16px;\n  width: 18px;\n  margin-left: 10px;\n  stroke: ${({ theme }) => theme.blue1};\n`\n\nexport const TrashIcon = styled(Trash)`\n  height: 16px;\n  width: 18px;\n  margin-left: 10px;\n  stroke: ${({ theme }) => theme.text3};\n\n  cursor: pointer;\n  align-items: center;\n  justify-content: center;\n  display: flex;\n\n  :hover {\n    opacity: 0.7;\n  }\n`\n\nconst rotateImg = keyframes`\n  0% {\n    transform: perspective(1000px) rotateY(0deg);\n  }\n\n  100% {\n    transform: perspective(1000px) rotateY(360deg);\n  }\n`\n\nexport const UniTokenAnimated = styled.img`\n  animation: ${rotateImg} 5s cubic-bezier(0.83, 0, 0.17, 1) infinite;\n  padding: 2rem 0 0 0;\n  filter: drop-shadow(0px 2px 4px rgba(0, 0, 0, 0.15));\n`\n\n/**\n * Outbound link that handles firing google analytics events\n */\nexport function ExternalLink({\n  target = '_blank',\n  href,\n  rel = 'noopener noreferrer',\n  ...rest\n}: Omit<HTMLProps<HTMLAnchorElement>, 'as' | 'ref' | 'onClick'> & { href: string }) {\n  const handleClick = useCallback(\n    (event: React.MouseEvent<HTMLAnchorElement>) => {\n      // don't prevent default, don't redirect if it's a new tab\n      // if (target === '_blank' || event.ctrlKey || event.metaKey) {\n      //   ReactGA.outboundLink({ label: href }, () => {\n      //     console.debug('Fired outbound link event', href)\n      //   })\n      // } else {\n      //   event.preventDefault()\n      //   // send a ReactGA event and then trigger a location change\n      //   ReactGA.outboundLink({ label: href }, () => {\n      //     window.location.href = href\n      //   })\n      // }\n    },\n    [href, target]\n  )\n  return <StyledLink target={target} rel={rel} href={href} onClick={handleClick} {...rest} />\n}\n\nexport function ExternalLinkIcon({\n  target = '_blank',\n  href,\n  rel = 'noopener noreferrer',\n  ...rest\n}: Omit<HTMLProps<HTMLAnchorElement>, 'as' | 'ref' | 'onClick'> & { href: string }) {\n  const handleClick = useCallback(\n    (event: React.MouseEvent<HTMLAnchorElement>) => {\n      // don't prevent default, don't redirect if it's a new tab\n      // if (target === '_blank' || event.ctrlKey || event.metaKey) {\n      //   ReactGA.outboundLink({ label: href }, () => {\n      //     console.debug('Fired outbound link event', href)\n      //   })\n      // } else {\n      //   event.preventDefault()\n      //   // send a ReactGA event and then trigger a location change\n      //   ReactGA.outboundLink({ label: href }, () => {\n      //     window.location.href = href\n      //   })\n      // }\n    },\n    [href, target]\n  )\n  return (\n    <LinkIconWrapper target={target} rel={rel} href={href} onClick={handleClick} {...rest}>\n      <LinkIcon />\n    </LinkIconWrapper>\n  )\n}\n\nconst rotate = keyframes`\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n`\n\nexport const Spinner = styled.img`\n  animation: 2s ${rotate} linear infinite;\n  width: 16px;\n  height: 16px;\n`\n\nconst BackArrowLink = styled(StyledInternalLink)`\n  color: ${({ theme }) => theme.text1};\n`\nexport function BackArrow({ to }: { to: string }) {\n  return (\n    <BackArrowLink href={to}>\n      <ArrowLeft />\n    </BackArrowLink>\n  )\n}\n\nexport const CustomLightSpinner = styled(Spinner)<{ size: string }>`\n  height: ${({ size }) => size};\n  width: ${({ size }) => size};\n`\n\nexport const HideSmall = styled.span`\n  ${({ theme }) => theme.mediaWidth.upToSmall`\n    display: none;\n  `};\n`\n\nexport const HideExtraSmall = styled.span`\n  ${({ theme }) => theme.mediaWidth.upToExtraSmall`\n    display: none;\n  `};\n`\n\nexport const ExtraSmallOnly = styled.span`\n  display: none;\n  ${({ theme }) => theme.mediaWidth.upToExtraSmall`\n    display: block;\n  `};\n`\n","import { transparentize } from 'polished'\nimport React from 'react'\nimport styled, {\n  ThemeProvider as StyledComponentsThemeProvider,\n  createGlobalStyle,\n  css,\n  DefaultTheme\n} from 'styled-components'\nimport { Text, TextProps } from 'rebass'\nimport { Colors } from './styled'\n\nexport * from './components'\n\nconst MEDIA_WIDTHS = {\n  upToExtraSmall: 500,\n  upToSmall: 720,\n  upToMedium: 960,\n  upToLarge: 1280\n}\n\nconst mediaWidthTemplates: { [width in keyof typeof MEDIA_WIDTHS]: typeof css } = Object.keys(MEDIA_WIDTHS).reduce(\n  (accumulator, size) => {\n    ;(accumulator as any)[size] = (a: any, b: any, c: any) => css`\n      @media (max-width: ${(MEDIA_WIDTHS as any)[size]}px) {\n        ${css(a, b, c)}\n      }\n    `\n    return accumulator\n  },\n  {}\n) as any\n\nconst white = '#FFFFFF'\nconst black = '#000000'\n\nexport function colors(darkMode: boolean): Colors {\n  return {\n    // base\n    white,\n    black,\n\n    // text\n    text1: darkMode ? '#FFFFFF' : '#000000',\n    text2: darkMode ? '#C3C5CB' : '#565A69',\n    text3: darkMode ? '#6C7284' : '#888D9B',\n    text4: darkMode ? '#565A69' : '#C3C5CB',\n    text5: darkMode ? '#2C2F36' : '#EDEEF2',\n\n    // backgrounds / greys\n    bg1: darkMode ? '#212429' : '#FFFFFF',\n    bg2: darkMode ? '#2C2F36' : '#F7F8FA',\n    bg3: darkMode ? '#40444F' : '#EDEEF2',\n    bg4: darkMode ? '#565A69' : '#CED0D9',\n    bg5: darkMode ? '#6C7284' : '#888D9B',\n\n    //specialty colors\n    modalBG: darkMode ? 'rgba(0,0,0,.425)' : 'rgba(0,0,0,0.3)',\n    advancedBG: darkMode ? 'rgba(0,0,0,0.1)' : 'rgba(255,255,255,0.6)',\n\n    //primary colors\n    primary1: darkMode ? '#2172E5' : '#ff007a',\n    primary2: darkMode ? '#3680E7' : '#FF8CC3',\n    primary3: darkMode ? '#4D8FEA' : '#FF99C9',\n    primary4: darkMode ? '#376bad70' : '#F6DDE8',\n    primary5: darkMode ? '#153d6f70' : '#FDEAF1',\n\n    // color text\n    primaryText1: darkMode ? '#6da8ff' : '#ff007a',\n\n    // secondary colors\n    secondary1: darkMode ? '#2172E5' : '#ff007a',\n    secondary2: darkMode ? '#17000b26' : '#F6DDE8',\n    secondary3: darkMode ? '#17000b26' : '#FDEAF1',\n\n    // other\n    red1: '#FD4040',\n    red2: '#F82D3A',\n    red3: '#D60000',\n    green1: '#27AE60',\n    yellow1: '#FFE270',\n    yellow2: '#F3841E',\n    blue1: '#2172E5'\n\n    // dont wanna forget these blue yet\n    // blue4: darkMode ? '#153d6f70' : '#C4D9F8',\n    // blue5: darkMode ? '#153d6f70' : '#EBF4FF',\n  }\n}\n\nexport function theme(darkMode: boolean): DefaultTheme {\n  return {\n    ...colors(darkMode),\n\n    grids: {\n      sm: 8,\n      md: 12,\n      lg: 24\n    },\n\n    //shadows\n    shadow1: darkMode ? '#000' : '#2F80ED',\n\n    // media queries\n    mediaWidth: mediaWidthTemplates,\n\n    // css snippets\n    flexColumnNoWrap: css`\n      display: flex;\n      flex-flow: column nowrap;\n    `,\n    flexRowNoWrap: css`\n      display: flex;\n      flex-flow: row nowrap;\n    `\n  }\n}\n\nexport function ThemeProvider({ children }: { children: React.ReactNode }) {\n\n  return <StyledComponentsThemeProvider theme={theme(false)}>{children}</StyledComponentsThemeProvider>\n}\n\nconst TextWrapper = styled(Text)<{ color: keyof Colors }>`\n  color: ${({ color, theme }) => (theme as any)[color]};\n`\n\nexport const TYPE = {\n  main(props: TextProps) {\n    return <TextWrapper fontWeight={500} color={'text2'} {...props} />\n  },\n  link(props: TextProps) {\n    return <TextWrapper fontWeight={500} color={'primary1'} {...props} />\n  },\n  black(props: TextProps) {\n    return <TextWrapper fontWeight={500} color={'text1'} {...props} />\n  },\n  white(props: TextProps) {\n    return <TextWrapper fontWeight={500} color={'white'} {...props} />\n  },\n  body(props: TextProps) {\n    return <TextWrapper fontWeight={400} fontSize={16} color={'text1'} {...props} />\n  },\n  largeHeader(props: TextProps) {\n    return <TextWrapper fontWeight={600} fontSize={24} {...props} />\n  },\n  mediumHeader(props: TextProps) {\n    return <TextWrapper fontWeight={500} fontSize={20} {...props} />\n  },\n  subHeader(props: TextProps) {\n    return <TextWrapper fontWeight={400} fontSize={14} {...props} />\n  },\n  small(props: TextProps) {\n    return <TextWrapper fontWeight={500} fontSize={11} {...props} />\n  },\n  blue(props: TextProps) {\n    return <TextWrapper fontWeight={500} color={'blue1'} {...props} />\n  },\n  yellow(props: TextProps) {\n    return <TextWrapper fontWeight={500} color={'yellow1'} {...props} />\n  },\n  darkGray(props: TextProps) {\n    return <TextWrapper fontWeight={500} color={'text3'} {...props} />\n  },\n  gray(props: TextProps) {\n    return <TextWrapper fontWeight={500} color={'bg3'} {...props} />\n  },\n  italic(props: TextProps) {\n    return <TextWrapper fontWeight={500} fontSize={12} fontStyle={'italic'} color={'text2'} {...props} />\n  },\n  error({ error, ...props }: { error: boolean } & TextProps) {\n    return <TextWrapper fontWeight={500} color={error ? 'red1' : 'text2'} {...props} />\n  }\n}\n\nexport const FixedGlobalStyle = createGlobalStyle`\nhtml, input, textarea, button {\n  font-family: 'Inter', sans-serif;\n  font-display: fallback;\n}\n@supports (font-variation-settings: normal) {\n  html, input, textarea, button {\n    font-family: 'Inter var', sans-serif;\n  }\n}\n\nhtml,\nbody {\n  margin: 0;\n  padding: 0;\n}\n\n a {\n   color: ${colors(false).blue1}; \n }\n\n* {\n  box-sizing: border-box;\n}\n\nbutton {\n  user-select: none;\n}\n\nhtml {\n  font-size: 16px;\n  font-variant: none;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n  font-feature-settings: 'ss01' on, 'ss02' on, 'cv01' on, 'cv03' on;\n  \n}\n`\n\nexport const ThemedGlobalStyle = createGlobalStyle`\nhtml {\n  color: ${({ theme }) => theme.text1};\n  background-color: ${({ theme }) => theme.bg2};\n}\n\nbody {\n  min-height: 100vh;\n  background-position: 0 -30vh;\n  background-repeat: no-repeat;\n  background-image: ${({ theme }) =>\n    `radial-gradient(50% 50% at 50% 50%, ${transparentize(0.9, theme.primary1)} 0%, ${transparentize(\n      1,\n      theme.bg1\n    )} 100%)`};\n}\n`\n","import { Web3Provider } from '@ethersproject/providers'\n\nexport function getLibrary(provider: any): Web3Provider {\n  const library = new Web3Provider(provider, 'any')\n  library.pollingInterval = 15000\n  return library\n}\n","import { ChainId } from '@uniswap/sdk'\nimport { FortmaticConnector as FortmaticConnectorCore } from '@web3-react/fortmatic-connector'\n\nexport const OVERLAY_READY = 'OVERLAY_READY'\n\ntype FormaticSupportedChains = Extract<ChainId, ChainId.MAINNET | ChainId.ROPSTEN | ChainId.RINKEBY | ChainId.KOVAN>\n\nconst CHAIN_ID_NETWORK_ARGUMENT: { readonly [chainId in FormaticSupportedChains]: string | undefined } = {\n  [ChainId.MAINNET]: undefined,\n  [ChainId.ROPSTEN]: 'ropsten',\n  [ChainId.RINKEBY]: 'rinkeby',\n  [ChainId.KOVAN]: 'kovan'\n}\n\nexport class FortmaticConnector extends FortmaticConnectorCore {\n  async activate() {\n    if (!this.fortmatic) {\n      const { default: Fortmatic } = await import('fortmatic')\n\n      const { apiKey, chainId } = this as any\n      if (chainId in CHAIN_ID_NETWORK_ARGUMENT) {\n        this.fortmatic = new Fortmatic(apiKey, CHAIN_ID_NETWORK_ARGUMENT[chainId as FormaticSupportedChains])\n      } else {\n        throw new Error(`Unsupported network ID: ${chainId}`)\n      }\n    }\n\n    const provider = this.fortmatic.getProvider()\n\n    const pollForOverlayReady = new Promise(resolve => {\n      const interval = setInterval(() => {\n        if (provider.overlayReady) {\n          clearInterval(interval)\n          this.emit(OVERLAY_READY)\n          resolve()\n        }\n      }, 200)\n    })\n\n    const [account] = await Promise.all([\n      provider.enable().then((accounts: string[]) => accounts[0]),\n      pollForOverlayReady\n    ])\n\n    return { provider: this.fortmatic.getProvider(), chainId: (this as any).chainId, account }\n  }\n}\n","var isProduction = process.env.NODE_ENV === 'production';\nvar prefix = 'Invariant failed';\nfunction invariant(condition, message) {\n    if (condition) {\n        return;\n    }\n    if (isProduction) {\n        throw new Error(prefix);\n    }\n    throw new Error(prefix + \": \" + (message || ''));\n}\n\nexport default invariant;\n","import { ConnectorUpdate } from '@web3-react/types'\nimport { AbstractConnector } from '@web3-react/abstract-connector'\nimport invariant from 'tiny-invariant'\n\ninterface NetworkConnectorArguments {\n  urls: { [chainId: number]: string }\n  defaultChainId?: number\n}\n\n// taken from ethers.js, compatible interface with web3 provider\ntype AsyncSendable = {\n  isMetaMask?: boolean\n  host?: string\n  path?: string\n  sendAsync?: (request: any, callback: (error: any, response: any) => void) => void\n  send?: (request: any, callback: (error: any, response: any) => void) => void\n}\n\nclass RequestError extends Error {\n  constructor(message: string, public code: number, public data?: unknown) {\n    super(message)\n  }\n}\n\ninterface BatchItem {\n  request: { jsonrpc: '2.0'; id: number; method: string; params: unknown }\n  resolve: (result: any) => void\n  reject: (error: Error) => void\n}\n\nclass MiniRpcProvider implements AsyncSendable {\n  public readonly isMetaMask: false = false\n  public readonly chainId: number\n  public readonly url: string\n  public readonly host: string\n  public readonly path: string\n  public readonly batchWaitTimeMs: number\n\n  private nextId = 1\n  private batchTimeoutId: ReturnType<typeof setTimeout> | null = null\n  private batch: BatchItem[] = []\n\n  constructor(chainId: number, url: string, batchWaitTimeMs?: number) {\n    this.chainId = chainId\n    this.url = url\n    const parsed = new URL(url)\n    this.host = parsed.host\n    this.path = parsed.pathname\n    // how long to wait to batch calls\n    this.batchWaitTimeMs = batchWaitTimeMs ?? 50\n  }\n\n  public readonly clearBatch = async () => {\n    console.debug('Clearing batch', this.batch)\n    const batch = this.batch\n    this.batch = []\n    this.batchTimeoutId = null\n    let response: Response\n    try {\n      response = await fetch(this.url, {\n        method: 'POST',\n        headers: { 'content-type': 'application/json', accept: 'application/json' },\n        body: JSON.stringify(batch.map(item => item.request))\n      })\n    } catch (error) {\n      batch.forEach(({ reject }) => reject(new Error('Failed to send batch call')))\n      return\n    }\n\n    if (!response.ok) {\n      batch.forEach(({ reject }) => reject(new RequestError(`${response.status}: ${response.statusText}`, -32000)))\n      return\n    }\n\n    let json\n    try {\n      json = await response.json()\n    } catch (error) {\n      batch.forEach(({ reject }) => reject(new Error('Failed to parse JSON response')))\n      return\n    }\n    const byKey = batch.reduce<{ [id: number]: BatchItem }>((memo, current) => {\n      memo[current.request.id] = current\n      return memo\n    }, {})\n    for (const result of json) {\n      const {\n        resolve,\n        reject,\n        request: { method }\n      } = byKey[result.id]\n      if (resolve && reject) {\n        if ('error' in result) {\n          reject(new RequestError(result?.error?.message, result?.error?.code, result?.error?.data))\n        } else if ('result' in result) {\n          resolve(result.result)\n        } else {\n          reject(new RequestError(`Received unexpected JSON-RPC response to ${method} request.`, -32000, result))\n        }\n      }\n    }\n  }\n\n  public readonly sendAsync = (\n    request: { jsonrpc: '2.0'; id: number | string | null; method: string; params?: unknown[] | object },\n    callback: (error: any, response: any) => void\n  ): void => {\n    this.request(request.method, request.params)\n      .then(result => callback(null, { jsonrpc: '2.0', id: request.id, result }))\n      .catch(error => callback(error, null))\n  }\n\n  public readonly request = async (\n    method: string | { method: string; params: unknown[] },\n    params?: unknown[] | object\n  ): Promise<unknown> => {\n    if (typeof method !== 'string') {\n      return this.request(method.method, method.params)\n    }\n    if (method === 'eth_chainId') {\n      return `0x${this.chainId.toString(16)}`\n    }\n    const promise = new Promise((resolve, reject) => {\n      this.batch.push({\n        request: {\n          jsonrpc: '2.0',\n          id: this.nextId++,\n          method,\n          params\n        },\n        resolve,\n        reject\n      })\n    })\n    this.batchTimeoutId = this.batchTimeoutId ?? setTimeout(this.clearBatch, this.batchWaitTimeMs)\n    return promise\n  }\n}\n\nexport class NetworkConnector extends AbstractConnector {\n  private readonly providers: { [chainId: number]: MiniRpcProvider }\n  private currentChainId: number\n\n  constructor({ urls, defaultChainId }: NetworkConnectorArguments) {\n    invariant(defaultChainId || Object.keys(urls).length === 1, 'defaultChainId is a required argument with >1 url')\n    super({ supportedChainIds: Object.keys(urls).map((k): number => Number(k)) })\n\n    this.currentChainId = defaultChainId || Number(Object.keys(urls)[0])\n    this.providers = Object.keys(urls).reduce<{ [chainId: number]: MiniRpcProvider }>((accumulator, chainId) => {\n      accumulator[Number(chainId)] = new MiniRpcProvider(Number(chainId), urls[Number(chainId)])\n      return accumulator\n    }, {})\n  }\n\n  public get provider(): MiniRpcProvider {\n    return this.providers[this.currentChainId]\n  }\n\n  public async activate(): Promise<ConnectorUpdate> {\n    return { provider: this.providers[this.currentChainId], chainId: this.currentChainId, account: null }\n  }\n\n  public async getProvider(): Promise<MiniRpcProvider> {\n    return this.providers[this.currentChainId]\n  }\n\n  public async getChainId(): Promise<number> {\n    return this.currentChainId\n  }\n\n  public async getAccount(): Promise<null> {\n    return null\n  }\n\n  public deactivate() {\n    return\n  }\n}\n","import { Web3Provider } from '@ethersproject/providers'\nimport { InjectedConnector } from '@web3-react/injected-connector'\nimport { WalletConnectConnector } from '@web3-react/walletconnect-connector'\nimport { WalletLinkConnector } from '@web3-react/walletlink-connector'\nimport { PortisConnector } from '@web3-react/portis-connector'\n\nimport { FortmaticConnector } from './Fortmatic'\nimport { NetworkConnector } from './NetworkConnector'\n\n// TODO fix, not loading first time\nconst NETWORK_URL = process.env.REACT_APP_NETWORK_URL || \"https://mainnet.infura.io/v3/4bf032f2d38a4ed6bb975b80d6340847\"\nconst FORMATIC_KEY = process.env.REACT_APP_FORTMATIC_KEY\nconst PORTIS_ID = process.env.REACT_APP_PORTIS_ID\n\nexport const NETWORK_CHAIN_ID: number = parseInt(process.env.REACT_APP_CHAIN_ID ?? '1')\n// TODO this keep throwing errors\nif (process.env && typeof NETWORK_URL === 'undefined') {\n  throw new Error(`REACT_APP_NETWORK_URL must be a defined environment variable`)\n}\n\nexport const network = new NetworkConnector({\n  urls: { [NETWORK_CHAIN_ID]: NETWORK_URL }\n})\n\nlet networkLibrary: Web3Provider | undefined\nexport function getNetworkLibrary(): Web3Provider {\n  return (networkLibrary = networkLibrary ?? new Web3Provider(network.provider as any))\n}\n\nexport const injected = new InjectedConnector({\n  supportedChainIds: [1, 3, 4, 5, 42]\n})\n\n// mainnet only\nexport const walletconnect = new WalletConnectConnector({\n  rpc: { 1: NETWORK_URL },\n  bridge: 'https://bridge.walletconnect.org',\n  qrcode: true,\n  pollingInterval: 15000\n})\n\n// mainnet only\nexport const fortmatic = new FortmaticConnector({\n  apiKey: FORMATIC_KEY ?? '',\n  chainId: 1\n})\n\n// mainnet only\nexport const portis = new PortisConnector({\n  dAppId: PORTIS_ID ?? '',\n  networks: [1]\n})\n\n// mainnet only\nexport const walletlink = new WalletLinkConnector({\n  url: NETWORK_URL,\n  appName: 'Uniswap',\n  appLogoUrl:\n    'https://mpng.pngfly.com/20181202/bex/kisspng-emoji-domain-unicorn-pin-badges-sticker-unicorn-tumblr-emoji-unicorn-iphoneemoji-5c046729264a77.5671679315437924251569.jpg'\n})\n","import { fortmatic, injected, portis, walletconnect, walletlink } from '../connectors'\nimport { AbstractConnector } from '@web3-react/abstract-connector'\n\nexport const NetworkContextName = 'NETWORK'\nexport interface WalletInfo {\n    connector?: AbstractConnector\n    name: string\n    iconName: string\n    description: string\n    href: string | null\n    color: string\n    primary?: true\n    mobile?: true\n    mobileOnly?: true\n  }\nexport const SUPPORTED_WALLETS: { [key: string]: WalletInfo } = {\n    INJECTED: {\n      connector: injected,\n      name: 'Injected',\n      iconName: 'arrow-right.svg',\n      description: 'Injected web3 provider.',\n      href: null,\n      color: '#010101',\n      primary: true\n    },\n    METAMASK: {\n      connector: injected,\n      name: 'MetaMask',\n      iconName: 'metamask.png',\n      description: 'Easy-to-use browser extension.',\n      href: null,\n      color: '#E8831D'\n    },\n    WALLET_CONNECT: {\n      connector: walletconnect,\n      name: 'WalletConnect',\n      iconName: 'walletConnectIcon.svg',\n      description: 'Connect to Trust Wallet, Rainbow Wallet and more...',\n      href: null,\n      color: '#4196FC',\n      mobile: true\n    },\n    WALLET_LINK: {\n      connector: walletlink,\n      name: 'Coinbase Wallet',\n      iconName: 'coinbaseWalletIcon.svg',\n      description: 'Use Coinbase Wallet app on mobile device',\n      href: null,\n      color: '#315CF5'\n    },\n    COINBASE_LINK: {\n      name: 'Open in Coinbase Wallet',\n      iconName: 'coinbaseWalletIcon.svg',\n      description: 'Open in Coinbase Wallet app.',\n      href: 'https://go.cb-w.com/mtUDhEZPy1',\n      color: '#315CF5',\n      mobile: true,\n      mobileOnly: true\n    },\n    FORTMATIC: {\n      connector: fortmatic,\n      name: 'Fortmatic',\n      iconName: 'fortmaticIcon.png',\n      description: 'Login using Fortmatic hosted wallet',\n      href: null,\n      color: '#6748FF',\n      mobile: true\n    },\n    Portis: {\n      connector: portis,\n      name: 'Portis',\n      iconName: 'portisIcon.png',\n      description: 'Login using Portis hosted wallet',\n      href: null,\n      color: '#4A6C9B',\n      mobile: true\n    }\n  }\n  ","import { Web3Provider } from '@ethersproject/providers'\nimport { ChainId } from '@uniswap/sdk'\nimport { useWeb3React as useWeb3ReactCore } from '@web3-react/core'\nimport { Web3ReactContextInterface } from '@web3-react/core/dist/types'\nimport { useEffect, useState } from 'react'\nimport { isMobile } from 'react-device-detect'\nimport { injected } from '../connectors'\nimport { NetworkContextName } from '../constants'\n\nexport function useActiveWeb3React(): Web3ReactContextInterface<Web3Provider> & { chainId?: ChainId } {\n  const context = useWeb3ReactCore<Web3Provider>()\n  const contextNetwork = useWeb3ReactCore<Web3Provider>(NetworkContextName)\n  return context.active ? context : contextNetwork\n}\n\nexport function useEagerConnect() {\n  const { activate, active } = useWeb3ReactCore() // specifically using useWeb3ReactCore because of what this hook does\n  const [tried, setTried] = useState(false)\n\n  useEffect(() => {\n    injected.isAuthorized().then((isAuthorized: boolean) => {\n      if (isAuthorized) {\n        activate(injected, undefined, true).catch(() => {\n          setTried(true)\n        })\n      } else {\n        if (isMobile && window.ethereum) {\n          activate(injected, undefined, true).catch(() => {\n            setTried(true)\n          })\n        } else {\n          setTried(true)\n        }\n      }\n    })\n  }, [activate]) // intentionally only running on mount (make sure it's only mounted once :))\n\n  // if the connection worked, wait until we get confirmation of that to flip the flag\n  useEffect(() => {\n    if (active) {\n      setTried(true)\n    }\n  }, [active])\n\n  return tried\n}\n\n/**\n * Use for network and injected - logs user in\n * and out after checking what network theyre on\n */\nexport function useInactiveListener(suppress = false) {\n  const { active, error, activate } = useWeb3ReactCore() // specifically using useWeb3React because of what this hook does\n\n  useEffect(() => {\n    const { ethereum } = window\n\n    if (ethereum && ethereum.on && !active && !error && !suppress) {\n      const handleChainChanged = () => {\n        // eat errors\n        activate(injected, undefined, true).catch(error => {\n          console.error('Failed to activate after chain changed', error)\n        })\n      }\n\n      const handleAccountsChanged = (accounts: string[]) => {\n        if (accounts.length > 0) {\n          // eat errors\n          activate(injected, undefined, true).catch(error => {\n            console.error('Failed to activate after accounts changed', error)\n          })\n        }\n      }\n\n      ethereum.on('chainChanged', handleChainChanged)\n      ethereum.on('accountsChanged', handleAccountsChanged)\n\n      return () => {\n        if (ethereum.removeListener) {\n          ethereum.removeListener('chainChanged', handleChainChanged)\n          ethereum.removeListener('accountsChanged', handleAccountsChanged)\n        }\n      }\n    }\n    return undefined\n  }, [active, error, suppress, activate])\n}\n","import React from 'react'\n\nimport styled, { keyframes } from 'styled-components'\n\nconst rotate = keyframes`\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n`\n\nconst StyledSVG = styled.svg<{ size: string; stroke?: string }>`\n  animation: 2s ${rotate} linear infinite;\n  height: ${({ size }) => size};\n  width: ${({ size }) => size};\n  path {\n    stroke: ${({ stroke, theme }) => stroke ?? theme.primary1};\n  }\n`\n\n/**\n * Takes in custom size and stroke for circle color, default to primary color as fill,\n * need ...rest for layered styles on top\n */\nexport function Loader({\n  size = '16px',\n  stroke,\n  ...rest\n}: {\n  size?: string\n  stroke?: string\n  [k: string]: any\n}) {\n  return (\n    <StyledSVG viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" size={size} stroke={stroke} {...rest}>\n      <path\n        d=\"M12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22C17.5228 22 22 17.5228 22 12C22 9.27455 20.9097 6.80375 19.1414 5\"\n        strokeWidth=\"2.5\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n    </StyledSVG>\n  )\n}\n","import React, { useState, useEffect } from 'react'\nimport { useWeb3React } from '@web3-react/core'\nimport styled from 'styled-components'\n\nimport { network } from '../../connectors'\nimport { useEagerConnect, useInactiveListener } from '../../hooks'\nimport { NetworkContextName } from '../../constants'\nimport { Loader } from '../common/Loader'\n\nconst MessageWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 20rem;\n`\n\nconst Message = styled.h2`\n  color: ${({ theme }) => theme.secondary1};\n`\n\nexport function Web3ReactManager({ children }: { children: JSX.Element }) {\n  const { active } = useWeb3React()\n  const { active: networkActive, error: networkError, activate: activateNetwork } = useWeb3React(NetworkContextName)\n\n  // try to eagerly connect to an injected provider, if it exists and has granted access already\n  const triedEager = useEagerConnect()\n\n  // after eagerly trying injected, if the network connect ever isn't active or in an error state, activate itd\n  useEffect(() => {\n    if (triedEager && !networkActive && !networkError && !active) {\n      activateNetwork(network)\n    }\n  }, [triedEager, networkActive, networkError, activateNetwork, active])\n\n  // when there's no account connected, react to logins (broadly speaking) on the injected provider, if it exists\n  useInactiveListener(!triedEager)\n\n  // handle delayed loader state\n  const [showLoader, setShowLoader] = useState(false)\n  useEffect(() => {\n    const timeout = setTimeout(() => {\n      setShowLoader(true)\n    }, 600)\n\n    return () => {\n      clearTimeout(timeout)\n    }\n  }, [])\n\n  // on page load, do nothing until we've tried to connect to the injected connector\n  if (!triedEager) {\n    return null\n  }\n\n  // if the account context isn't active, and there's an error on the network context, it's an irrecoverable error\n  if (!active && networkError) {\n    return (\n      <MessageWrapper>\n        <Message>{'unknownError'}</Message>\n      </MessageWrapper>\n    )\n  }\n\n  // if neither context is active, spin\n  if (!active && !networkActive) {\n    return showLoader ? (\n      <MessageWrapper>\n        <Loader />\n      </MessageWrapper>\n    ) : null\n  }\n\n  return children\n}\n","import { useActiveWeb3React } from '../../hooks'\n\nexport interface SerializableTransactionReceipt {\n  to: string\n  from: string\n  contractAddress: string\n  transactionIndex: number\n  blockHash: string\n  transactionHash: string\n  blockNumber: number\n  status?: number\n}\nexport interface TransactionDetails {\n  hash: string\n  approval?: { tokenAddress: string; spender: string }\n  summary?: string\n  claim?: { recipient: string }\n  receipt?: SerializableTransactionReceipt\n  lastCheckedBlockNumber?: number\n  addedTime: number\n  confirmedTime?: number\n  from: string\n}\n\n/**\n * Returns whether a transaction happened in the last day (86400 seconds * 1000 milliseconds / second)\n * @param tx to check for recency\n */\nexport function isTransactionRecent(tx: TransactionDetails): boolean {\n  return new Date().getTime() - tx.addedTime < 86_400_000\n}\n\n// returns all the transactions for the current chain\nexport function useAllTransactions(): { [txHash: string]: TransactionDetails } {\n  const { chainId } = useActiveWeb3React()\n\n  // TODO \n  const state = { chainId: null };\n\n  // @ts-ignore\n  return chainId ? state[chainId] ?? {} : {}\n}\n\nexport function clearAllTransactions(){\n  \n}","export const version = \"logger/5.0.10\";\n//# sourceMappingURL=_version.js.map","\"use strict\";\nlet _permanentCensorErrors = false;\nlet _censorErrors = false;\nconst LogLevels = { debug: 1, \"default\": 2, info: 2, warning: 3, error: 4, off: 5 };\nlet _logLevel = LogLevels[\"default\"];\nimport { version } from \"./_version\";\nlet _globalLogger = null;\nfunction _checkNormalize() {\n    try {\n        const missing = [];\n        // Make sure all forms of normalization are supported\n        [\"NFD\", \"NFC\", \"NFKD\", \"NFKC\"].forEach((form) => {\n            try {\n                if (\"test\".normalize(form) !== \"test\") {\n                    throw new Error(\"bad normalize\");\n                }\n                ;\n            }\n            catch (error) {\n                missing.push(form);\n            }\n        });\n        if (missing.length) {\n            throw new Error(\"missing \" + missing.join(\", \"));\n        }\n        if (String.fromCharCode(0xe9).normalize(\"NFD\") !== String.fromCharCode(0x65, 0x0301)) {\n            throw new Error(\"broken implementation\");\n        }\n    }\n    catch (error) {\n        return error.message;\n    }\n    return null;\n}\nconst _normalizeError = _checkNormalize();\nexport var LogLevel;\n(function (LogLevel) {\n    LogLevel[\"DEBUG\"] = \"DEBUG\";\n    LogLevel[\"INFO\"] = \"INFO\";\n    LogLevel[\"WARNING\"] = \"WARNING\";\n    LogLevel[\"ERROR\"] = \"ERROR\";\n    LogLevel[\"OFF\"] = \"OFF\";\n})(LogLevel || (LogLevel = {}));\nexport var ErrorCode;\n(function (ErrorCode) {\n    ///////////////////\n    // Generic Errors\n    // Unknown Error\n    ErrorCode[\"UNKNOWN_ERROR\"] = \"UNKNOWN_ERROR\";\n    // Not Implemented\n    ErrorCode[\"NOT_IMPLEMENTED\"] = \"NOT_IMPLEMENTED\";\n    // Unsupported Operation\n    //   - operation\n    ErrorCode[\"UNSUPPORTED_OPERATION\"] = \"UNSUPPORTED_OPERATION\";\n    // Network Error (i.e. Ethereum Network, such as an invalid chain ID)\n    //   - event (\"noNetwork\" is not re-thrown in provider.ready; otherwise thrown)\n    ErrorCode[\"NETWORK_ERROR\"] = \"NETWORK_ERROR\";\n    // Some sort of bad response from the server\n    ErrorCode[\"SERVER_ERROR\"] = \"SERVER_ERROR\";\n    // Timeout\n    ErrorCode[\"TIMEOUT\"] = \"TIMEOUT\";\n    ///////////////////\n    // Operational  Errors\n    // Buffer Overrun\n    ErrorCode[\"BUFFER_OVERRUN\"] = \"BUFFER_OVERRUN\";\n    // Numeric Fault\n    //   - operation: the operation being executed\n    //   - fault: the reason this faulted\n    ErrorCode[\"NUMERIC_FAULT\"] = \"NUMERIC_FAULT\";\n    ///////////////////\n    // Argument Errors\n    // Missing new operator to an object\n    //  - name: The name of the class\n    ErrorCode[\"MISSING_NEW\"] = \"MISSING_NEW\";\n    // Invalid argument (e.g. value is incompatible with type) to a function:\n    //   - argument: The argument name that was invalid\n    //   - value: The value of the argument\n    ErrorCode[\"INVALID_ARGUMENT\"] = \"INVALID_ARGUMENT\";\n    // Missing argument to a function:\n    //   - count: The number of arguments received\n    //   - expectedCount: The number of arguments expected\n    ErrorCode[\"MISSING_ARGUMENT\"] = \"MISSING_ARGUMENT\";\n    // Too many arguments\n    //   - count: The number of arguments received\n    //   - expectedCount: The number of arguments expected\n    ErrorCode[\"UNEXPECTED_ARGUMENT\"] = \"UNEXPECTED_ARGUMENT\";\n    ///////////////////\n    // Blockchain Errors\n    // Call exception\n    //  - transaction: the transaction\n    //  - address?: the contract address\n    //  - args?: The arguments passed into the function\n    //  - method?: The Solidity method signature\n    //  - errorSignature?: The EIP848 error signature\n    //  - errorArgs?: The EIP848 error parameters\n    //  - reason: The reason (only for EIP848 \"Error(string)\")\n    ErrorCode[\"CALL_EXCEPTION\"] = \"CALL_EXCEPTION\";\n    // Insufficien funds (< value + gasLimit * gasPrice)\n    //   - transaction: the transaction attempted\n    ErrorCode[\"INSUFFICIENT_FUNDS\"] = \"INSUFFICIENT_FUNDS\";\n    // Nonce has already been used\n    //   - transaction: the transaction attempted\n    ErrorCode[\"NONCE_EXPIRED\"] = \"NONCE_EXPIRED\";\n    // The replacement fee for the transaction is too low\n    //   - transaction: the transaction attempted\n    ErrorCode[\"REPLACEMENT_UNDERPRICED\"] = \"REPLACEMENT_UNDERPRICED\";\n    // The gas limit could not be estimated\n    //   - transaction: the transaction passed to estimateGas\n    ErrorCode[\"UNPREDICTABLE_GAS_LIMIT\"] = \"UNPREDICTABLE_GAS_LIMIT\";\n})(ErrorCode || (ErrorCode = {}));\n;\nexport class Logger {\n    constructor(version) {\n        Object.defineProperty(this, \"version\", {\n            enumerable: true,\n            value: version,\n            writable: false\n        });\n    }\n    _log(logLevel, args) {\n        const level = logLevel.toLowerCase();\n        if (LogLevels[level] == null) {\n            this.throwArgumentError(\"invalid log level name\", \"logLevel\", logLevel);\n        }\n        if (_logLevel > LogLevels[level]) {\n            return;\n        }\n        console.log.apply(console, args);\n    }\n    debug(...args) {\n        this._log(Logger.levels.DEBUG, args);\n    }\n    info(...args) {\n        this._log(Logger.levels.INFO, args);\n    }\n    warn(...args) {\n        this._log(Logger.levels.WARNING, args);\n    }\n    makeError(message, code, params) {\n        // Errors are being censored\n        if (_censorErrors) {\n            return this.makeError(\"censored error\", code, {});\n        }\n        if (!code) {\n            code = Logger.errors.UNKNOWN_ERROR;\n        }\n        if (!params) {\n            params = {};\n        }\n        const messageDetails = [];\n        Object.keys(params).forEach((key) => {\n            try {\n                messageDetails.push(key + \"=\" + JSON.stringify(params[key]));\n            }\n            catch (error) {\n                messageDetails.push(key + \"=\" + JSON.stringify(params[key].toString()));\n            }\n        });\n        messageDetails.push(`code=${code}`);\n        messageDetails.push(`version=${this.version}`);\n        const reason = message;\n        if (messageDetails.length) {\n            message += \" (\" + messageDetails.join(\", \") + \")\";\n        }\n        // @TODO: Any??\n        const error = new Error(message);\n        error.reason = reason;\n        error.code = code;\n        Object.keys(params).forEach(function (key) {\n            error[key] = params[key];\n        });\n        return error;\n    }\n    throwError(message, code, params) {\n        throw this.makeError(message, code, params);\n    }\n    throwArgumentError(message, name, value) {\n        return this.throwError(message, Logger.errors.INVALID_ARGUMENT, {\n            argument: name,\n            value: value\n        });\n    }\n    assert(condition, message, code, params) {\n        if (!!condition) {\n            return;\n        }\n        this.throwError(message, code, params);\n    }\n    assertArgument(condition, message, name, value) {\n        if (!!condition) {\n            return;\n        }\n        this.throwArgumentError(message, name, value);\n    }\n    checkNormalize(message) {\n        if (message == null) {\n            message = \"platform missing String.prototype.normalize\";\n        }\n        if (_normalizeError) {\n            this.throwError(\"platform missing String.prototype.normalize\", Logger.errors.UNSUPPORTED_OPERATION, {\n                operation: \"String.prototype.normalize\", form: _normalizeError\n            });\n        }\n    }\n    checkSafeUint53(value, message) {\n        if (typeof (value) !== \"number\") {\n            return;\n        }\n        if (message == null) {\n            message = \"value not safe\";\n        }\n        if (value < 0 || value >= 0x1fffffffffffff) {\n            this.throwError(message, Logger.errors.NUMERIC_FAULT, {\n                operation: \"checkSafeInteger\",\n                fault: \"out-of-safe-range\",\n                value: value\n            });\n        }\n        if (value % 1) {\n            this.throwError(message, Logger.errors.NUMERIC_FAULT, {\n                operation: \"checkSafeInteger\",\n                fault: \"non-integer\",\n                value: value\n            });\n        }\n    }\n    checkArgumentCount(count, expectedCount, message) {\n        if (message) {\n            message = \": \" + message;\n        }\n        else {\n            message = \"\";\n        }\n        if (count < expectedCount) {\n            this.throwError(\"missing argument\" + message, Logger.errors.MISSING_ARGUMENT, {\n                count: count,\n                expectedCount: expectedCount\n            });\n        }\n        if (count > expectedCount) {\n            this.throwError(\"too many arguments\" + message, Logger.errors.UNEXPECTED_ARGUMENT, {\n                count: count,\n                expectedCount: expectedCount\n            });\n        }\n    }\n    checkNew(target, kind) {\n        if (target === Object || target == null) {\n            this.throwError(\"missing new\", Logger.errors.MISSING_NEW, { name: kind.name });\n        }\n    }\n    checkAbstract(target, kind) {\n        if (target === kind) {\n            this.throwError(\"cannot instantiate abstract class \" + JSON.stringify(kind.name) + \" directly; use a sub-class\", Logger.errors.UNSUPPORTED_OPERATION, { name: target.name, operation: \"new\" });\n        }\n        else if (target === Object || target == null) {\n            this.throwError(\"missing new\", Logger.errors.MISSING_NEW, { name: kind.name });\n        }\n    }\n    static globalLogger() {\n        if (!_globalLogger) {\n            _globalLogger = new Logger(version);\n        }\n        return _globalLogger;\n    }\n    static setCensorship(censorship, permanent) {\n        if (!censorship && permanent) {\n            this.globalLogger().throwError(\"cannot permanently disable censorship\", Logger.errors.UNSUPPORTED_OPERATION, {\n                operation: \"setCensorship\"\n            });\n        }\n        if (_permanentCensorErrors) {\n            if (!censorship) {\n                return;\n            }\n            this.globalLogger().throwError(\"error censorship permanent\", Logger.errors.UNSUPPORTED_OPERATION, {\n                operation: \"setCensorship\"\n            });\n        }\n        _censorErrors = !!censorship;\n        _permanentCensorErrors = !!permanent;\n    }\n    static setLogLevel(logLevel) {\n        const level = LogLevels[logLevel.toLowerCase()];\n        if (level == null) {\n            Logger.globalLogger().warn(\"invalid log level - \" + logLevel);\n            return;\n        }\n        _logLevel = level;\n    }\n    static from(version) {\n        return new Logger(version);\n    }\n}\nLogger.errors = ErrorCode;\nLogger.levels = LogLevel;\n//# sourceMappingURL=index.js.map","export const version = \"address/5.0.11\";\n//# sourceMappingURL=_version.js.map","\"use strict\";\nimport { arrayify, concat, hexDataLength, hexDataSlice, isHexString, stripZeros } from \"@ethersproject/bytes\";\nimport { BigNumber, _base16To36, _base36To16 } from \"@ethersproject/bignumber\";\nimport { keccak256 } from \"@ethersproject/keccak256\";\nimport { encode } from \"@ethersproject/rlp\";\nimport { Logger } from \"@ethersproject/logger\";\nimport { version } from \"./_version\";\nconst logger = new Logger(version);\nfunction getChecksumAddress(address) {\n    if (!isHexString(address, 20)) {\n        logger.throwArgumentError(\"invalid address\", \"address\", address);\n    }\n    address = address.toLowerCase();\n    const chars = address.substring(2).split(\"\");\n    const expanded = new Uint8Array(40);\n    for (let i = 0; i < 40; i++) {\n        expanded[i] = chars[i].charCodeAt(0);\n    }\n    const hashed = arrayify(keccak256(expanded));\n    for (let i = 0; i < 40; i += 2) {\n        if ((hashed[i >> 1] >> 4) >= 8) {\n            chars[i] = chars[i].toUpperCase();\n        }\n        if ((hashed[i >> 1] & 0x0f) >= 8) {\n            chars[i + 1] = chars[i + 1].toUpperCase();\n        }\n    }\n    return \"0x\" + chars.join(\"\");\n}\n// Shims for environments that are missing some required constants and functions\nconst MAX_SAFE_INTEGER = 0x1fffffffffffff;\nfunction log10(x) {\n    if (Math.log10) {\n        return Math.log10(x);\n    }\n    return Math.log(x) / Math.LN10;\n}\n// See: https://en.wikipedia.org/wiki/International_Bank_Account_Number\n// Create lookup table\nconst ibanLookup = {};\nfor (let i = 0; i < 10; i++) {\n    ibanLookup[String(i)] = String(i);\n}\nfor (let i = 0; i < 26; i++) {\n    ibanLookup[String.fromCharCode(65 + i)] = String(10 + i);\n}\n// How many decimal digits can we process? (for 64-bit float, this is 15)\nconst safeDigits = Math.floor(log10(MAX_SAFE_INTEGER));\nfunction ibanChecksum(address) {\n    address = address.toUpperCase();\n    address = address.substring(4) + address.substring(0, 2) + \"00\";\n    let expanded = address.split(\"\").map((c) => { return ibanLookup[c]; }).join(\"\");\n    // Javascript can handle integers safely up to 15 (decimal) digits\n    while (expanded.length >= safeDigits) {\n        let block = expanded.substring(0, safeDigits);\n        expanded = parseInt(block, 10) % 97 + expanded.substring(block.length);\n    }\n    let checksum = String(98 - (parseInt(expanded, 10) % 97));\n    while (checksum.length < 2) {\n        checksum = \"0\" + checksum;\n    }\n    return checksum;\n}\n;\nexport function getAddress(address) {\n    let result = null;\n    if (typeof (address) !== \"string\") {\n        logger.throwArgumentError(\"invalid address\", \"address\", address);\n    }\n    if (address.match(/^(0x)?[0-9a-fA-F]{40}$/)) {\n        // Missing the 0x prefix\n        if (address.substring(0, 2) !== \"0x\") {\n            address = \"0x\" + address;\n        }\n        result = getChecksumAddress(address);\n        // It is a checksummed address with a bad checksum\n        if (address.match(/([A-F].*[a-f])|([a-f].*[A-F])/) && result !== address) {\n            logger.throwArgumentError(\"bad address checksum\", \"address\", address);\n        }\n        // Maybe ICAP? (we only support direct mode)\n    }\n    else if (address.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)) {\n        // It is an ICAP address with a bad checksum\n        if (address.substring(2, 4) !== ibanChecksum(address)) {\n            logger.throwArgumentError(\"bad icap checksum\", \"address\", address);\n        }\n        result = _base36To16(address.substring(4));\n        while (result.length < 40) {\n            result = \"0\" + result;\n        }\n        result = getChecksumAddress(\"0x\" + result);\n    }\n    else {\n        logger.throwArgumentError(\"invalid address\", \"address\", address);\n    }\n    return result;\n}\nexport function isAddress(address) {\n    try {\n        getAddress(address);\n        return true;\n    }\n    catch (error) { }\n    return false;\n}\nexport function getIcapAddress(address) {\n    let base36 = _base16To36(getAddress(address).substring(2)).toUpperCase();\n    while (base36.length < 30) {\n        base36 = \"0\" + base36;\n    }\n    return \"XE\" + ibanChecksum(\"XE00\" + base36) + base36;\n}\n// http://ethereum.stackexchange.com/questions/760/how-is-the-address-of-an-ethereum-contract-computed\nexport function getContractAddress(transaction) {\n    let from = null;\n    try {\n        from = getAddress(transaction.from);\n    }\n    catch (error) {\n        logger.throwArgumentError(\"missing from address\", \"transaction\", transaction);\n    }\n    const nonce = stripZeros(arrayify(BigNumber.from(transaction.nonce).toHexString()));\n    return getAddress(hexDataSlice(keccak256(encode([from, nonce])), 12));\n}\nexport function getCreate2Address(from, salt, initCodeHash) {\n    if (hexDataLength(salt) !== 32) {\n        logger.throwArgumentError(\"salt must be 32 bytes\", \"salt\", salt);\n    }\n    if (hexDataLength(initCodeHash) !== 32) {\n        logger.throwArgumentError(\"initCodeHash must be 32 bytes\", \"initCodeHash\", initCodeHash);\n    }\n    return getAddress(hexDataSlice(keccak256(concat([\"0xff\", getAddress(from), salt, initCodeHash])), 12));\n}\n//# sourceMappingURL=index.js.map","import { getAddress } from '@ethersproject/address'\nimport { ChainId } from '@uniswap/sdk'\n\n// returns the checksummed address if the address is valid, otherwise returns false\nexport function isAddress(value: any): string | false {\n  try {\n    return getAddress(value)\n  } catch {\n    return false\n  }\n}\nconst ETHERSCAN_PREFIXES: { [chainId in ChainId]: string } = {\n  1: '',\n  3: 'ropsten.',\n  4: 'rinkeby.',\n  5: 'goerli.',\n  42: 'kovan.',\n}\n\n// shorten the checksummed version of the input address to have 0x + 4 characters at start and end\nexport function shortenAddress(address: string, chars = 4): string {\n  const parsed = isAddress(address)\n  if (!parsed) {\n    throw Error(`Invalid 'address' parameter '${address}'.`)\n  }\n  return `${parsed.substring(0, chars + 2)}...${parsed.substring(42 - chars)}`\n}\n\nexport function getEtherscanLink(\n  chainId: ChainId,\n  data: string,\n  type: 'transaction' | 'token' | 'address' | 'block'\n): string {\n  const prefix = `https://${ETHERSCAN_PREFIXES[chainId] || ETHERSCAN_PREFIXES[1]}etherscan.io`\n\n  switch (type) {\n    case 'transaction': {\n      return `${prefix}/tx/${data}`\n    }\n    case 'token': {\n      return `${prefix}/token/${data}`\n    }\n    case 'block': {\n      return `${prefix}/block/${data}`\n    }\n    case 'address':\n    default: {\n      return `${prefix}/address/${data}`\n    }\n  }\n}\n","import styled from 'styled-components'\nimport { Box } from 'rebass/styled-components'\n\nexport const Row = styled(Box)<{\n  width?: string\n  align?: string\n  justify?: string\n  padding?: string\n  border?: string\n  borderRadius?: string\n}>`\n  width: ${({ width }) => width ?? '100%'};\n  display: flex;\n  padding: 0;\n  align-items: ${({ align }) => align ?? 'center'};\n  justify-content: ${({ justify }) => justify ?? 'flex-start'};\n  padding: ${({ padding }) => padding};\n  border: ${({ border }) => border};\n  border-radius: ${({ borderRadius }) => borderRadius};\n`\n\nexport const RowBetween = styled(Row)`\n  justify-content: space-between;\n`\n\nexport const RowFlat = styled.div`\n  display: flex;\n  align-items: flex-end;\n`\n\nexport const AutoRow = styled(Row)<{ gap?: string; justify?: string }>`\n  flex-wrap: wrap;\n  margin: ${({ gap }) => gap && `-${gap}`};\n  justify-content: ${({ justify }) => justify && justify};\n\n  & > * {\n    margin: ${({ gap }) => gap} !important;\n  }\n`\n\nexport const RowFixed = styled(Row)<{ gap?: string; justify?: string }>`\n  width: fit-content;\n  margin: ${({ gap }) => gap && `-${gap}`};\n`\n\n","import React from 'react'\nimport styled from 'styled-components'\nimport { darken, lighten } from 'polished'\n\nimport { RowBetween } from './Row'\nimport { ChevronDown } from 'react-feather'\nimport { Button as RebassButton, ButtonProps } from 'rebass/styled-components'\n\nconst Base = styled(RebassButton)<{\n  padding?: string\n  width?: string\n  borderRadius?: string\n  altDisabledStyle?: boolean\n}>`\n  padding: ${({ padding }) => (padding ? padding : '18px')};\n  width: ${({ width }) => (width ? width : '100%')};\n  font-weight: 500;\n  text-align: center;\n  border-radius: 20px;\n  border-radius: ${({ borderRadius }) => borderRadius && borderRadius};\n  outline: none;\n  border: 1px solid transparent;\n  color: white;\n  text-decoration: none;\n  display: flex;\n  justify-content: center;\n  flex-wrap: nowrap;\n  align-items: center;\n  cursor: pointer;\n  position: relative;\n  z-index: 1;\n  &:disabled {\n    cursor: auto;\n  }\n\n  > * {\n    user-select: none;\n  }\n`\n\nexport const ButtonPrimary = styled(Base)`\n  background-color: ${({ theme }) => theme.primary1};\n  color: white;\n  &:focus {\n    box-shadow: 0 0 0 1pt ${({ theme }) => darken(0.05, theme.primary1)};\n    background-color: ${({ theme }) => darken(0.05, theme.primary1)};\n  }\n  &:hover {\n    background-color: ${({ theme }) => darken(0.05, theme.primary1)};\n  }\n  &:active {\n    box-shadow: 0 0 0 1pt ${({ theme }) => darken(0.1, theme.primary1)};\n    background-color: ${({ theme }) => darken(0.1, theme.primary1)};\n  }\n  &:disabled {\n    background-color: ${({ theme, altDisabledStyle, disabled }) =>\n      altDisabledStyle ? (disabled ? theme.bg3 : theme.primary1) : theme.bg3};\n    color: ${({ theme, altDisabledStyle, disabled }) =>\n      altDisabledStyle ? (disabled ? theme.text3 : 'white') : theme.text3};\n    cursor: auto;\n    box-shadow: none;\n    border: 1px solid transparent;\n    outline: none;\n    opacity: ${({ altDisabledStyle }) => (altDisabledStyle ? '0.5' : '1')};\n  }\n`\n\nexport const ButtonLight = styled(Base)`\n  background-color: ${({ theme }) => theme.primary5};\n  color: ${({ theme }) => theme.primaryText1};\n  font-size: 16px;\n  font-weight: 500;\n  &:focus {\n    box-shadow: 0 0 0 1pt ${({ theme, disabled }) => !disabled && darken(0.03, theme.primary5)};\n    background-color: ${({ theme, disabled }) => !disabled && darken(0.03, theme.primary5)};\n  }\n  &:hover {\n    background-color: ${({ theme, disabled }) => !disabled && darken(0.03, theme.primary5)};\n  }\n  &:active {\n    box-shadow: 0 0 0 1pt ${({ theme, disabled }) => !disabled && darken(0.05, theme.primary5)};\n    background-color: ${({ theme, disabled }) => !disabled && darken(0.05, theme.primary5)};\n  }\n  :disabled {\n    opacity: 0.4;\n    :hover {\n      cursor: auto;\n      background-color: ${({ theme }) => theme.primary5};\n      box-shadow: none;\n      border: 1px solid transparent;\n      outline: none;\n    }\n  }\n`\n\nexport const ButtonGray = styled(Base)`\n  background-color: ${({ theme }) => theme.bg3};\n  color: ${({ theme }) => theme.text2};\n  font-size: 16px;\n  font-weight: 500;\n  &:focus {\n    background-color: ${({ theme, disabled }) => !disabled && darken(0.05, theme.bg4)};\n  }\n  &:hover {\n    background-color: ${({ theme, disabled }) => !disabled && darken(0.05, theme.bg4)};\n  }\n  &:active {\n    background-color: ${({ theme, disabled }) => !disabled && darken(0.1, theme.bg4)};\n  }\n`\n\nexport const ButtonSecondary = styled(Base)`\n  border: 1px solid ${({ theme }) => theme.primary4};\n  color: ${({ theme }) => theme.primary1};\n  background-color: transparent;\n  font-size: 16px;\n  border-radius: 12px;\n  padding: ${({ padding }) => (padding ? padding : '10px')};\n\n  &:focus {\n    box-shadow: 0 0 0 1pt ${({ theme }) => theme.primary4};\n    border: 1px solid ${({ theme }) => theme.primary3};\n  }\n  &:hover {\n    border: 1px solid ${({ theme }) => theme.primary3};\n  }\n  &:active {\n    box-shadow: 0 0 0 1pt ${({ theme }) => theme.primary4};\n    border: 1px solid ${({ theme }) => theme.primary3};\n  }\n  &:disabled {\n    opacity: 50%;\n    cursor: auto;\n  }\n  a:hover {\n    text-decoration: none;\n  }\n`\n\nexport const ButtonPink = styled(Base)`\n  background-color: ${({ theme }) => theme.primary1};\n  color: white;\n\n  &:focus {\n    box-shadow: 0 0 0 1pt ${({ theme }) => darken(0.05, theme.primary1)};\n    background-color: ${({ theme }) => darken(0.05, theme.primary1)};\n  }\n  &:hover {\n    background-color: ${({ theme }) => darken(0.05, theme.primary1)};\n  }\n  &:active {\n    box-shadow: 0 0 0 1pt ${({ theme }) => darken(0.1, theme.primary1)};\n    background-color: ${({ theme }) => darken(0.1, theme.primary1)};\n  }\n  &:disabled {\n    background-color: ${({ theme }) => theme.primary1};\n    opacity: 50%;\n    cursor: auto;\n  }\n`\n\nexport const ButtonUNIGradient = styled(ButtonPrimary)`\n  color: white;\n  padding: 4px 8px;\n  height: 36px;\n  font-weight: 500;\n  background-color: ${({ theme }) => theme.bg3};\n  background: radial-gradient(174.47% 188.91% at 1.84% 0%, #ff007a 0%, #2172e5 100%), #edeef2;\n  width: fit-content;\n  position: relative;\n  cursor: pointer;\n  border: none;\n  white-space: no-wrap;\n  :hover {\n    opacity: 0.8;\n  }\n  :active {\n    opacity: 0.9;\n  }\n`\n\nexport const ButtonOutlined = styled(Base)`\n  border: 1px solid ${({ theme }) => theme.bg2};\n  background-color: transparent;\n  color: ${({ theme }) => theme.text1};\n\n  &:focus {\n    box-shadow: 0 0 0 1px ${({ theme }) => theme.bg4};\n  }\n  &:hover {\n    box-shadow: 0 0 0 1px ${({ theme }) => theme.bg4};\n  }\n  &:active {\n    box-shadow: 0 0 0 1px ${({ theme }) => theme.bg4};\n  }\n  &:disabled {\n    opacity: 50%;\n    cursor: auto;\n  }\n`\n\nexport const ButtonEmpty = styled(Base)`\n  background-color: transparent;\n  color: ${({ theme }) => theme.primary1};\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  &:focus {\n    text-decoration: underline;\n  }\n  &:hover {\n    text-decoration: none;\n  }\n  &:active {\n    text-decoration: none;\n  }\n  &:disabled {\n    opacity: 50%;\n    cursor: auto;\n  }\n`\n\nexport const ButtonWhite = styled(Base)`\n  border: 1px solid #edeef2;\n  background-color: ${({ theme }) => theme.bg1};\n  color: black;\n\n  &:focus {\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    box-shadow: 0 0 0 1pt ${darken(0.05, '#edeef2')};\n  }\n  &:hover {\n    box-shadow: 0 0 0 1pt ${darken(0.1, '#edeef2')};\n  }\n  &:active {\n    box-shadow: 0 0 0 1pt ${darken(0.1, '#edeef2')};\n  }\n  &:disabled {\n    opacity: 50%;\n    cursor: auto;\n  }\n`\n\nconst ButtonConfirmedStyle = styled(Base)`\n  background-color: ${({ theme }) => lighten(0.5, theme.green1)};\n  color: ${({ theme }) => theme.green1};\n  border: 1px solid ${({ theme }) => theme.green1};\n\n  &:disabled {\n    opacity: 50%;\n    cursor: auto;\n  }\n`\n\nconst ButtonErrorStyle = styled(Base)`\n  background-color: ${({ theme }) => theme.red1};\n  border: 1px solid ${({ theme }) => theme.red1};\n\n  &:focus {\n    box-shadow: 0 0 0 1pt ${({ theme }) => darken(0.05, theme.red1)};\n    background-color: ${({ theme }) => darken(0.05, theme.red1)};\n  }\n  &:hover {\n    background-color: ${({ theme }) => darken(0.05, theme.red1)};\n  }\n  &:active {\n    box-shadow: 0 0 0 1pt ${({ theme }) => darken(0.1, theme.red1)};\n    background-color: ${({ theme }) => darken(0.1, theme.red1)};\n  }\n  &:disabled {\n    opacity: 50%;\n    cursor: auto;\n    box-shadow: none;\n    background-color: ${({ theme }) => theme.red1};\n    border: 1px solid ${({ theme }) => theme.red1};\n  }\n`\n\nexport function ButtonConfirmed({\n  confirmed,\n  altDisabledStyle,\n  ...rest\n}: { confirmed?: boolean; altDisabledStyle?: boolean } & ButtonProps) {\n  if (confirmed) {\n    return <ButtonConfirmedStyle {...rest} />\n  } else {\n    return <ButtonPrimary {...rest} altDisabledStyle={altDisabledStyle} />\n  }\n}\n\nexport function ButtonError({ error, ...rest }: { error?: boolean } & ButtonProps) {\n  if (error) {\n    return <ButtonErrorStyle {...rest} />\n  } else {\n    return <ButtonPrimary {...rest} />\n  }\n}\n\nexport function ButtonDropdown({ disabled = false, children, ...rest }: { disabled?: boolean } & ButtonProps) {\n  return (\n    <ButtonPrimary {...rest} disabled={disabled}>\n      <RowBetween>\n        <div style={{ display: 'flex', alignItems: 'center' }}>{children}</div>\n        <ChevronDown size={24} />\n      </RowBetween>\n    </ButtonPrimary>\n  )\n}\n\nexport function ButtonDropdownGrey({ disabled = false, children, ...rest }: { disabled?: boolean } & ButtonProps) {\n  return (\n    <ButtonGray {...rest} disabled={disabled} style={{ borderRadius: '20px' }}>\n      <RowBetween>\n        <div style={{ display: 'flex', alignItems: 'center' }}>{children}</div>\n        <ChevronDown size={24} />\n      </RowBetween>\n    </ButtonGray>\n  )\n}\n\nexport function ButtonDropdownLight({ disabled = false, children, ...rest }: { disabled?: boolean } & ButtonProps) {\n  return (\n    <ButtonOutlined {...rest} disabled={disabled}>\n      <RowBetween>\n        <div style={{ display: 'flex', alignItems: 'center' }}>{children}</div>\n        <ChevronDown size={24} />\n      </RowBetween>\n    </ButtonOutlined>\n  )\n}\n\nexport function ButtonRadio({ active, ...rest }: { active?: boolean } & ButtonProps) {\n  if (!active) {\n    return <ButtonWhite {...rest} />\n  } else {\n    return <ButtonPrimary {...rest} />\n  }\n}\n","import React  from 'react'\nimport { useActiveWeb3React } from '../../hooks'\nimport { Jazzicon } from '@ukstv/jazzicon-react';\nimport styled from 'styled-components'\n\n\nconst StyledIdenticonContainer = styled.div`\n  height: 1rem;\n  width: 1rem;\n  border-radius: 1.125rem;\n  background-color: ${({ theme }) => theme.bg4};\n`\n\nexport function Identicon() {\n\n  const { account } = useActiveWeb3React()\n\n  const seed = account ? parseInt(account.slice(2, 10), 16).toString(): \"\"\n  // https://github.com/DefinitelyTyped/DefinitelyTyped/issues/30451\n  return <StyledIdenticonContainer >\n    <Jazzicon address={seed}/>\n  </StyledIdenticonContainer>\n}\n","var img = \"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 20 20' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' class='feather feather-x'%3e%3cline x1='18' y1='6' x2='6' y2='18'%3e%3c/line%3e%3cline x1='6' y1='6' x2='18' y2='18'%3e%3c/line%3e%3c/svg%3e\";\n  export default img;","import { useEffect, useRef } from 'react'\n\n// modified from https://usehooks.com/usePrevious/\nexport default function usePrevious<T>(value: T) {\n  // The ref object is a generic container whose current property is mutable ...\n  // ... and can hold any value, similar to an instance property on a class\n  const ref = useRef<T>()\n\n  // Store current value in ref\n  useEffect(() => {\n    ref.current = value\n  }, [value]) // Only re-run if value changes\n\n  // Return previous value (happens before update in useEffect above)\n  return ref.current\n}\n","import copy from 'copy-to-clipboard'\nimport { useCallback, useEffect, useState } from 'react'\n\nexport default function useCopyClipboard(timeout = 500): [boolean, (toCopy: string) => void] {\n  const [isCopied, setIsCopied] = useState(false)\n\n  const staticCopy = useCallback(text => {\n    const didCopy = copy(text)\n    setIsCopied(didCopy)\n  }, [])\n\n  useEffect(() => {\n    if (isCopied) {\n      const hide = setTimeout(() => {\n        setIsCopied(false)\n      }, timeout)\n\n      return () => {\n        clearTimeout(hide)\n      }\n    }\n    return undefined\n  }, [isCopied, setIsCopied, timeout])\n\n  return [isCopied, staticCopy]\n}\n","import React from 'react'\nimport styled from 'styled-components'\nimport useCopyClipboard from '../../hooks/useCopyClipboard'\n\nimport { LinkStyledButton } from '../../theme'\nimport { CheckCircle, Copy as CopyI } from 'react-feather'\n\nconst CopyIcon = styled(LinkStyledButton)`\n  color: ${({ theme }) => theme.text3};\n  flex-shrink: 0;\n  display: flex;\n  text-decoration: none;\n  font-size: 0.825rem;\n  :hover,\n  :active,\n  :focus {\n    text-decoration: none;\n    color: ${({ theme }) => theme.text2};\n  }\n`\nconst TransactionStatusText = styled.span`\n  margin-left: 0.25rem;\n  font-size: 0.825rem;\n  ${({ theme }) => theme.flexRowNoWrap};\n  align-items: center;\n`\n\nexport function Copy(props: { toCopy: string; children?: React.ReactNode }) {\n  const [isCopied, setCopied] = useCopyClipboard()\n\n  return (\n    <CopyIcon onClick={() => setCopied(props.toCopy)}>\n      {isCopied ? (\n        <TransactionStatusText>\n          <CheckCircle size={'16'} />\n          <TransactionStatusText>Copied</TransactionStatusText>\n        </TransactionStatusText>\n      ) : (\n        <TransactionStatusText>\n          <CopyI size={'16'} />\n        </TransactionStatusText>\n      )}\n      {isCopied ? '' : props.children}\n    </CopyIcon>\n  )\n}\n","import React from 'react'\nimport styled from 'styled-components'\nimport { CheckCircle, Triangle } from 'react-feather'\n\nimport { useActiveWeb3React } from '../../hooks'\nimport { getEtherscanLink } from '../../utils'\nimport { ExternalLink } from '../../theme'\nimport { useAllTransactions } from '../../state/transactions/hooks'\nimport { RowFixed } from '../common/Row'\nimport { Loader } from '../common/Loader'\n\nconst TransactionWrapper = styled.div``\n\nconst TransactionStatusText = styled.div`\n  margin-right: 0.5rem;\n  display: flex;\n  align-items: center;\n  :hover {\n    text-decoration: underline;\n  }\n`\n\nconst TransactionState = styled(ExternalLink)<{ pending: boolean; success?: boolean }>`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  text-decoration: none !important;\n  border-radius: 0.5rem;\n  padding: 0.25rem 0rem;\n  font-weight: 500;\n  font-size: 0.825rem;\n  color: ${({ theme }) => theme.primary1};\n`\n\nconst IconWrapper = styled.div<{ pending: boolean; success?: boolean }>`\n  color: ${({ pending, success, theme }) => (pending ? theme.primary1 : success ? theme.green1 : theme.red1)};\n`\n\nexport function Transaction({ hash }: { hash: string }) {\n  const { chainId } = useActiveWeb3React()\n  const allTransactions = useAllTransactions()\n\n  const tx = allTransactions?.[hash]\n  const summary = tx?.summary\n  const pending = !tx?.receipt\n  const success = !pending && tx && (tx.receipt?.status === 1 || typeof tx.receipt?.status === 'undefined')\n\n  if (!chainId) return null\n\n  return (\n    <TransactionWrapper>\n      <TransactionState href={getEtherscanLink(chainId, hash, 'transaction')} pending={pending} success={success}>\n        <RowFixed>\n          <TransactionStatusText>{summary ?? hash} </TransactionStatusText>\n        </RowFixed>\n        <IconWrapper pending={pending} success={success}>\n          {pending ? <Loader /> : success ? <CheckCircle size=\"16\" /> : <Triangle size=\"16\" />}\n        </IconWrapper>\n      </TransactionState>\n    </TransactionWrapper>\n  )\n}\n","import React, { useCallback, useContext } from 'react'\nimport styled, { ThemeContext } from 'styled-components'\nimport { useActiveWeb3React } from '../../hooks'\nimport { clearAllTransactions } from '../../state/transactions/hooks'\nimport { shortenAddress } from '../../utils'\nimport { AutoRow } from '../common/Row'\nimport { Copy } from './Copy'\nimport { Transaction } from './Transaction'\nimport { SUPPORTED_WALLETS } from '../../constants'\nimport Close from '../../../public/assets/images/x.svg'\nimport { getEtherscanLink } from '../../utils'\nimport { injected, walletconnect, walletlink, fortmatic, portis } from '../../connectors'\nimport { Identicon } from '../common/Identicon'\nimport { ButtonSecondary } from '../common/Button'\nimport { ExternalLink as LinkIcon } from 'react-feather'\nimport { ExternalLink, LinkStyledButton, TYPE } from '../../theme'\n\nconst HeaderRow = styled.div`\n  ${({ theme }) => theme.flexRowNoWrap};\n  padding: 1rem 1rem;\n  font-weight: 500;\n  color: ${(props) => (props.color === 'blue' ? ({ theme }) => theme.primary1 : 'inherit')};\n  ${({ theme }) => theme.mediaWidth.upToMedium`\n    padding: 1rem;\n  `};\n`\n\nconst UpperSection = styled.div`\n  position: relative;\n\n  h5 {\n    margin: 0;\n    margin-bottom: 0.5rem;\n    font-size: 1rem;\n    font-weight: 400;\n  }\n\n  h5:last-child {\n    margin-bottom: 0px;\n  }\n\n  h4 {\n    margin-top: 0;\n    font-weight: 500;\n  }\n`\n\nconst InfoCard = styled.div`\n  padding: 1rem;\n  border: 1px solid ${({ theme }) => theme.bg3};\n  border-radius: 20px;\n  position: relative;\n  display: grid;\n  grid-row-gap: 12px;\n  margin-bottom: 20px;\n`\n\nconst AccountGroupingRow = styled.div`\n  ${({ theme }) => theme.flexRowNoWrap};\n  justify-content: space-between;\n  align-items: center;\n  font-weight: 400;\n  color: ${({ theme }) => theme.text1};\n\n  div {\n    ${({ theme }) => theme.flexRowNoWrap}\n    align-items: center;\n  }\n`\n\nconst AccountSection = styled.div`\n  background-color: ${({ theme }) => theme.bg1};\n  padding: 0rem 1rem;\n  ${({ theme }) => theme.mediaWidth.upToMedium`padding: 0rem 1rem 1.5rem 1rem;`};\n`\n\nconst YourAccount = styled.div`\n  h5 {\n    margin: 0 0 1rem 0;\n    font-weight: 400;\n  }\n\n  h4 {\n    margin: 0;\n    font-weight: 500;\n  }\n`\n\nconst LowerSection = styled.div`\n  ${({ theme }) => theme.flexColumnNoWrap}\n  padding: 1.5rem;\n  flex-grow: 1;\n  overflow: auto;\n  background-color: ${({ theme }) => theme.bg2};\n  border-bottom-left-radius: 20px;\n  border-bottom-right-radius: 20px;\n\n  h5 {\n    margin: 0;\n    font-weight: 400;\n    color: ${({ theme }) => theme.text3};\n  }\n`\n\nconst AccountControl = styled.div`\n  display: flex;\n  justify-content: space-between;\n  min-width: 0;\n  width: 100%;\n\n  font-weight: 500;\n  font-size: 1.25rem;\n\n  a:hover {\n    text-decoration: underline;\n  }\n\n  p {\n    min-width: 0;\n    margin: 0;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n`\n\nconst AddressLink = styled(ExternalLink)<{ hasENS: boolean; isENS: boolean }>`\n  font-size: 0.825rem;\n  color: ${({ theme }) => theme.text3};\n  margin-left: 1rem;\n  font-size: 0.825rem;\n  display: flex;\n  :hover {\n    color: ${({ theme }) => theme.text2};\n  }\n`\n\nconst CloseIcon = styled.div`\n  position: absolute;\n  right: 1rem;\n  top: 14px;\n  &:hover {\n    cursor: pointer;\n    opacity: 0.6;\n  }\n`\n\n// @ts-ignore\nconst CloseColor = styled(Close)`\n  path {\n    stroke: ${({ theme }) => theme.text4};\n  }\n`\n\nconst WalletName = styled.div`\n  width: initial;\n  font-size: 0.825rem;\n  font-weight: 500;\n  color: ${({ theme }) => theme.text3};\n`\n\nconst IconWrapper = styled.div<{ size?: number }>`\n  ${({ theme }) => theme.flexColumnNoWrap};\n  align-items: center;\n  justify-content: center;\n  margin-right: 8px;\n  & > img,\n  span {\n    height: ${({ size }) => (size ? size + 'px' : '32px')};\n    width: ${({ size }) => (size ? size + 'px' : '32px')};\n  }\n  ${({ theme }) => theme.mediaWidth.upToMedium`\n    align-items: flex-end;\n  `};\n`\n\nconst TransactionListWrapper = styled.div`\n  ${({ theme }) => theme.flexColumnNoWrap};\n`\n\nconst WalletAction = styled(ButtonSecondary)`\n  width: fit-content;\n  font-weight: 400;\n  margin-left: 8px;\n  font-size: 0.825rem;\n  padding: 4px 6px;\n  :hover {\n    cursor: pointer;\n    text-decoration: underline;\n  }\n`\n\nconst MainWalletAction = styled(WalletAction)`\n  color: ${({ theme }) => theme.primary1};\n`\n\nfunction renderTransactions(transactions: string[]) {\n  return (\n    <TransactionListWrapper>\n      {transactions.map((hash, i) => {\n        return <Transaction key={i} hash={hash} />\n      })}\n    </TransactionListWrapper>\n  )\n}\n\ninterface AccountDetailsProps {\n  toggleWalletModal: () => void\n  pendingTransactions: string[]\n  confirmedTransactions: string[]\n  ENSName?: string\n  openOptions: () => void\n}\n\nexport function AccountDetails({\n  toggleWalletModal,\n  pendingTransactions,\n  confirmedTransactions,\n  ENSName,\n  openOptions,\n}: AccountDetailsProps) {\n  const { chainId, account, connector } = useActiveWeb3React()\n  const theme = useContext(ThemeContext)\n\n  function formatConnectorName() {\n    // @ts-ignore\n    const { ethereum } = window\n    const isMetaMask = !!(ethereum && ethereum.isMetaMask)\n    const name = Object.keys(SUPPORTED_WALLETS)\n      .filter(\n        (k) =>\n          SUPPORTED_WALLETS[k].connector === connector && (connector !== injected || isMetaMask === (k === 'METAMASK'))\n      )\n      .map((k) => SUPPORTED_WALLETS[k].name)[0]\n    return <WalletName>Connected with {name}</WalletName>\n  }\n\n  function getStatusIcon() {\n    if (connector === injected) {\n      return (\n        <IconWrapper size={16}>\n          <Identicon />\n        </IconWrapper>\n      )\n    } else if (connector === walletconnect) {\n      return (\n        <IconWrapper size={16}>\n          <img src={'/assets/images/walletConnectIcon.svg'} alt={'wallet connect logo'} />\n        </IconWrapper>\n      )\n    } else if (connector === walletlink) {\n      return (\n        <IconWrapper size={16}>\n          <img src={'/assets/images/coinbaseWalletIcon.svg'} alt={'coinbase wallet logo'} />\n        </IconWrapper>\n      )\n    } else if (connector === fortmatic) {\n      return (\n        <IconWrapper size={16}>\n          <img src={'/assets/images/fortmaticIcon.png'} alt={'fortmatic logo'} />\n        </IconWrapper>\n      )\n    } else if (connector === portis) {\n      return (\n        <>\n          <IconWrapper size={16}>\n            <img src={'/assets/images/portisIcon.png'} alt={'portis logo'} />\n            <MainWalletAction\n              onClick={() => {\n                portis.portis.showPortis()\n              }}\n            >\n              Show Portis\n            </MainWalletAction>\n          </IconWrapper>\n        </>\n      )\n    }\n    return null\n  }\n\n  const clearAllTransactionsCallback = useCallback(() => {\n    //@ts-ignore\n    if (chainId) clearAllTransactions({ chainId })\n  }, [chainId])\n\n  return (\n    <>\n      <UpperSection>\n        <CloseIcon onClick={toggleWalletModal}>\n          <CloseColor />\n        </CloseIcon>\n        <HeaderRow>Account</HeaderRow>\n        <AccountSection>\n          <YourAccount>\n            <InfoCard>\n              <AccountGroupingRow>\n                {formatConnectorName()}\n                <div>\n                  {connector !== injected && connector !== walletlink && (\n                    <WalletAction\n                      style={{ fontSize: '.825rem', fontWeight: 400, marginRight: '8px' }}\n                      onClick={() => {\n                        ;(connector as any).close()\n                      }}\n                    >\n                      Disconnect\n                    </WalletAction>\n                  )}\n                  <WalletAction\n                    style={{ fontSize: '.825rem', fontWeight: 400 }}\n                    onClick={() => {\n                      openOptions()\n                    }}\n                  >\n                    Change\n                  </WalletAction>\n                </div>\n              </AccountGroupingRow>\n              <AccountGroupingRow id=\"web3-account-identifier-row\">\n                <AccountControl>\n                  {ENSName ? (\n                    <>\n                      <div>\n                        {getStatusIcon()}\n                        <p> {ENSName}</p>\n                      </div>\n                    </>\n                  ) : (\n                    <>\n                      <div>\n                        {getStatusIcon()}\n                        <p> {account && shortenAddress(account)}</p>\n                      </div>\n                    </>\n                  )}\n                </AccountControl>\n              </AccountGroupingRow>\n              <AccountGroupingRow>\n                {ENSName ? (\n                  <>\n                    <AccountControl>\n                      <div>\n                        {account && (\n                          <Copy toCopy={account}>\n                            <span style={{ marginLeft: '4px' }}>Copy Address</span>\n                          </Copy>\n                        )}\n                        {chainId && account && (\n                          <AddressLink\n                            hasENS={!!ENSName}\n                            isENS={true}\n                            href={chainId && getEtherscanLink(chainId, ENSName, 'address')}\n                          >\n                            <LinkIcon size={16} />\n                            <span style={{ marginLeft: '4px' }}>View on Etherscan</span>\n                          </AddressLink>\n                        )}\n                      </div>\n                    </AccountControl>\n                  </>\n                ) : (\n                  <>\n                    <AccountControl>\n                      <div>\n                        {account && (\n                          <Copy toCopy={account}>\n                            <span style={{ marginLeft: '4px' }}>Copy Address</span>\n                          </Copy>\n                        )}\n                        {chainId && account && (\n                          <AddressLink\n                            hasENS={!!ENSName}\n                            isENS={false}\n                            href={getEtherscanLink(chainId, account, 'address')}\n                          >\n                            <LinkIcon size={16} />\n                            <span style={{ marginLeft: '4px' }}>View on Etherscan</span>\n                          </AddressLink>\n                        )}\n                      </div>\n                    </AccountControl>\n                  </>\n                )}\n              </AccountGroupingRow>\n            </InfoCard>\n          </YourAccount>\n        </AccountSection>\n      </UpperSection>\n      {!!pendingTransactions.length || !!confirmedTransactions.length ? (\n        <LowerSection>\n          <AutoRow mb={'1rem'} style={{ justifyContent: 'space-between' }}>\n            <TYPE.body>Recent Transactions</TYPE.body>\n            <LinkStyledButton onClick={clearAllTransactionsCallback}>(clear all)</LinkStyledButton>\n          </AutoRow>\n          {renderTransactions(pendingTransactions)}\n          {renderTransactions(confirmedTransactions)}\n        </LowerSection>\n      ) : (\n        <LowerSection>\n          <TYPE.body color={theme.text1}>Your transactions will appear here...</TYPE.body>\n        </LowerSection>\n      )}\n    </>\n  )\n}\n","import React, { createContext, useMemo, ReactNode, useReducer } from 'react'\n\ninterface Props {\n  children: ReactNode\n}\ninterface ApplicationState {\n  modalOpen: boolean\n  error: string\n}\ntype ApplicationAction =\n  | {\n      type: 'TOGGLE_MODAL'\n    }\n  | {\n      type: 'NETWORK_ERROR'\n      payload: {\n        error: string | Error\n      }\n    }\nconst stateInitialValue: ApplicationState = {\n  modalOpen: false,\n  error: '',\n}\nconst actionsIntialValue = {\n  toggleModal: () => {},\n}\n\nexport const ApplicationState = createContext(stateInitialValue)\nexport const ApplicationActions = createContext(actionsIntialValue)\n\nexport const ApplicationProvider = ({ children }: Props) => {\n  const [state, dispatch] = useReducer(\n    (state: ApplicationState, action: ApplicationAction) => {\n      switch (action.type) {\n        case 'TOGGLE_MODAL': {\n          return {\n            ...state,\n            modalOpen: !state.modalOpen,\n          }\n        }\n        default:\n          return state\n      }\n    },\n    {\n      modalOpen: false,\n      error: '',\n    }\n  )\n\n  // Actions to components\n  const actions = useMemo(() => {\n    return {\n      toggleModal: () => {\n        dispatch({ type: 'TOGGLE_MODAL' })\n      },\n    }\n  }, [])\n\n  return (\n    <ApplicationState.Provider value={state}>\n      <ApplicationActions.Provider value={actions}>{children}</ApplicationActions.Provider>\n    </ApplicationState.Provider>\n  )\n}\n","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import _extends from '@babel/runtime/helpers/esm/extends';\nimport _objectWithoutPropertiesLoose from '@babel/runtime/helpers/esm/objectWithoutPropertiesLoose';\nimport React, { useState, useCallback, forwardRef, useRef, useEffect, useImperativeHandle, useMemo } from 'react';\n\nconst is = {\n  arr: Array.isArray,\n  obj: a => Object.prototype.toString.call(a) === '[object Object]',\n  fun: a => typeof a === 'function',\n  str: a => typeof a === 'string',\n  num: a => typeof a === 'number',\n  und: a => a === void 0,\n  nul: a => a === null,\n  set: a => a instanceof Set,\n  map: a => a instanceof Map,\n\n  equ(a, b) {\n    if (typeof a !== typeof b) return false;\n    if (is.str(a) || is.num(a)) return a === b;\n    if (is.obj(a) && is.obj(b) && Object.keys(a).length + Object.keys(b).length === 0) return true;\n    let i;\n\n    for (i in a) if (!(i in b)) return false;\n\n    for (i in b) if (a[i] !== b[i]) return false;\n\n    return is.und(i) ? a === b : true;\n  }\n\n};\nfunction merge(target, lowercase) {\n  if (lowercase === void 0) {\n    lowercase = true;\n  }\n\n  return object => (is.arr(object) ? object : Object.keys(object)).reduce((acc, element) => {\n    const key = lowercase ? element[0].toLowerCase() + element.substring(1) : element;\n    acc[key] = target(key);\n    return acc;\n  }, target);\n}\nfunction useForceUpdate() {\n  const _useState = useState(false),\n        f = _useState[1];\n\n  const forceUpdate = useCallback(() => f(v => !v), []);\n  return forceUpdate;\n}\nfunction withDefault(value, defaultValue) {\n  return is.und(value) || is.nul(value) ? defaultValue : value;\n}\nfunction toArray(a) {\n  return !is.und(a) ? is.arr(a) ? a : [a] : [];\n}\nfunction callProp(obj) {\n  for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    args[_key - 1] = arguments[_key];\n  }\n\n  return is.fun(obj) ? obj(...args) : obj;\n}\n\nfunction getForwardProps(props) {\n  const to = props.to,\n        from = props.from,\n        config = props.config,\n        onStart = props.onStart,\n        onRest = props.onRest,\n        onFrame = props.onFrame,\n        children = props.children,\n        reset = props.reset,\n        reverse = props.reverse,\n        force = props.force,\n        immediate = props.immediate,\n        delay = props.delay,\n        attach = props.attach,\n        destroyed = props.destroyed,\n        interpolateTo = props.interpolateTo,\n        ref = props.ref,\n        lazy = props.lazy,\n        forward = _objectWithoutPropertiesLoose(props, [\"to\", \"from\", \"config\", \"onStart\", \"onRest\", \"onFrame\", \"children\", \"reset\", \"reverse\", \"force\", \"immediate\", \"delay\", \"attach\", \"destroyed\", \"interpolateTo\", \"ref\", \"lazy\"]);\n\n  return forward;\n}\n\nfunction interpolateTo(props) {\n  const forward = getForwardProps(props);\n  if (is.und(forward)) return _extends({\n    to: forward\n  }, props);\n  const rest = Object.keys(props).reduce((a, k) => !is.und(forward[k]) ? a : _extends({}, a, {\n    [k]: props[k]\n  }), {});\n  return _extends({\n    to: forward\n  }, rest);\n}\nfunction handleRef(ref, forward) {\n  if (forward) {\n    // If it's a function, assume it's a ref callback\n    if (is.fun(forward)) forward(ref);else if (is.obj(forward)) {\n      forward.current = ref;\n    }\n  }\n\n  return ref;\n}\n\nclass Animated {\n  constructor() {\n    this.payload = void 0;\n    this.children = [];\n  }\n\n  getAnimatedValue() {\n    return this.getValue();\n  }\n\n  getPayload() {\n    return this.payload || this;\n  }\n\n  attach() {}\n\n  detach() {}\n\n  getChildren() {\n    return this.children;\n  }\n\n  addChild(child) {\n    if (this.children.length === 0) this.attach();\n    this.children.push(child);\n  }\n\n  removeChild(child) {\n    const index = this.children.indexOf(child);\n    this.children.splice(index, 1);\n    if (this.children.length === 0) this.detach();\n  }\n\n}\nclass AnimatedArray extends Animated {\n  constructor() {\n    super(...arguments);\n    this.payload = [];\n\n    this.attach = () => this.payload.forEach(p => p instanceof Animated && p.addChild(this));\n\n    this.detach = () => this.payload.forEach(p => p instanceof Animated && p.removeChild(this));\n  }\n\n}\nclass AnimatedObject extends Animated {\n  constructor() {\n    super(...arguments);\n    this.payload = {};\n\n    this.attach = () => Object.values(this.payload).forEach(s => s instanceof Animated && s.addChild(this));\n\n    this.detach = () => Object.values(this.payload).forEach(s => s instanceof Animated && s.removeChild(this));\n  }\n\n  getValue(animated) {\n    if (animated === void 0) {\n      animated = false;\n    }\n\n    const payload = {};\n\n    for (const key in this.payload) {\n      const value = this.payload[key];\n      if (animated && !(value instanceof Animated)) continue;\n      payload[key] = value instanceof Animated ? value[animated ? 'getAnimatedValue' : 'getValue']() : value;\n    }\n\n    return payload;\n  }\n\n  getAnimatedValue() {\n    return this.getValue(true);\n  }\n\n}\n\nlet applyAnimatedValues;\nfunction injectApplyAnimatedValues(fn, transform) {\n  applyAnimatedValues = {\n    fn,\n    transform\n  };\n}\nlet colorNames;\nfunction injectColorNames(names) {\n  colorNames = names;\n}\nlet requestFrame = cb => typeof window !== 'undefined' ? window.requestAnimationFrame(cb) : -1;\nlet cancelFrame = id => {\n  typeof window !== 'undefined' && window.cancelAnimationFrame(id);\n};\nfunction injectFrame(raf, caf) {\n  requestFrame = raf;\n  cancelFrame = caf;\n}\nlet interpolation;\nfunction injectStringInterpolator(fn) {\n  interpolation = fn;\n}\nlet now = () => Date.now();\nfunction injectNow(nowFn) {\n  now = nowFn;\n}\nlet defaultElement;\nfunction injectDefaultElement(el) {\n  defaultElement = el;\n}\nlet animatedApi = node => node.current;\nfunction injectAnimatedApi(fn) {\n  animatedApi = fn;\n}\nlet createAnimatedStyle;\nfunction injectCreateAnimatedStyle(factory) {\n  createAnimatedStyle = factory;\n}\nlet manualFrameloop;\nfunction injectManualFrameloop(callback) {\n  manualFrameloop = callback;\n}\n\nvar Globals = /*#__PURE__*/Object.freeze({\n  get applyAnimatedValues () { return applyAnimatedValues; },\n  injectApplyAnimatedValues: injectApplyAnimatedValues,\n  get colorNames () { return colorNames; },\n  injectColorNames: injectColorNames,\n  get requestFrame () { return requestFrame; },\n  get cancelFrame () { return cancelFrame; },\n  injectFrame: injectFrame,\n  get interpolation () { return interpolation; },\n  injectStringInterpolator: injectStringInterpolator,\n  get now () { return now; },\n  injectNow: injectNow,\n  get defaultElement () { return defaultElement; },\n  injectDefaultElement: injectDefaultElement,\n  get animatedApi () { return animatedApi; },\n  injectAnimatedApi: injectAnimatedApi,\n  get createAnimatedStyle () { return createAnimatedStyle; },\n  injectCreateAnimatedStyle: injectCreateAnimatedStyle,\n  get manualFrameloop () { return manualFrameloop; },\n  injectManualFrameloop: injectManualFrameloop\n});\n\n/**\n * Wraps the `style` property with `AnimatedStyle`.\n */\n\nclass AnimatedProps extends AnimatedObject {\n  constructor(props, callback) {\n    super();\n    this.update = void 0;\n    this.payload = !props.style ? props : _extends({}, props, {\n      style: createAnimatedStyle(props.style)\n    });\n    this.update = callback;\n    this.attach();\n  }\n\n}\n\nconst isFunctionComponent = val => is.fun(val) && !(val.prototype instanceof React.Component);\n\nconst createAnimatedComponent = Component => {\n  const AnimatedComponent = forwardRef((props, ref) => {\n    const forceUpdate = useForceUpdate();\n    const mounted = useRef(true);\n    const propsAnimated = useRef(null);\n    const node = useRef(null);\n    const attachProps = useCallback(props => {\n      const oldPropsAnimated = propsAnimated.current;\n\n      const callback = () => {\n        let didUpdate = false;\n\n        if (node.current) {\n          didUpdate = applyAnimatedValues.fn(node.current, propsAnimated.current.getAnimatedValue());\n        }\n\n        if (!node.current || didUpdate === false) {\n          // If no referenced node has been found, or the update target didn't have a\n          // native-responder, then forceUpdate the animation ...\n          forceUpdate();\n        }\n      };\n\n      propsAnimated.current = new AnimatedProps(props, callback);\n      oldPropsAnimated && oldPropsAnimated.detach();\n    }, []);\n    useEffect(() => () => {\n      mounted.current = false;\n      propsAnimated.current && propsAnimated.current.detach();\n    }, []);\n    useImperativeHandle(ref, () => animatedApi(node, mounted, forceUpdate));\n    attachProps(props);\n\n    const _getValue = propsAnimated.current.getValue(),\n          scrollTop = _getValue.scrollTop,\n          scrollLeft = _getValue.scrollLeft,\n          animatedProps = _objectWithoutPropertiesLoose(_getValue, [\"scrollTop\", \"scrollLeft\"]); // Functions cannot have refs, see:\n    // See: https://github.com/react-spring/react-spring/issues/569\n\n\n    const refFn = isFunctionComponent(Component) ? undefined : childRef => node.current = handleRef(childRef, ref);\n    return React.createElement(Component, _extends({}, animatedProps, {\n      ref: refFn\n    }));\n  });\n  return AnimatedComponent;\n};\n\nlet active = false;\nconst controllers = new Set();\n\nconst update = () => {\n  if (!active) return false;\n  let time = now();\n\n  for (let controller of controllers) {\n    let isActive = false;\n\n    for (let configIdx = 0; configIdx < controller.configs.length; configIdx++) {\n      let config = controller.configs[configIdx];\n      let endOfAnimation, lastTime;\n\n      for (let valIdx = 0; valIdx < config.animatedValues.length; valIdx++) {\n        let animation = config.animatedValues[valIdx]; // If an animation is done, skip, until all of them conclude\n\n        if (animation.done) continue;\n        let from = config.fromValues[valIdx];\n        let to = config.toValues[valIdx];\n        let position = animation.lastPosition;\n        let isAnimated = to instanceof Animated;\n        let velocity = Array.isArray(config.initialVelocity) ? config.initialVelocity[valIdx] : config.initialVelocity;\n        if (isAnimated) to = to.getValue(); // Conclude animation if it's either immediate, or from-values match end-state\n\n        if (config.immediate) {\n          animation.setValue(to);\n          animation.done = true;\n          continue;\n        } // Break animation when string values are involved\n\n\n        if (typeof from === 'string' || typeof to === 'string') {\n          animation.setValue(to);\n          animation.done = true;\n          continue;\n        }\n\n        if (config.duration !== void 0) {\n          /** Duration easing */\n          position = from + config.easing((time - animation.startTime) / config.duration) * (to - from);\n          endOfAnimation = time >= animation.startTime + config.duration;\n        } else if (config.decay) {\n          /** Decay easing */\n          position = from + velocity / (1 - 0.998) * (1 - Math.exp(-(1 - 0.998) * (time - animation.startTime)));\n          endOfAnimation = Math.abs(animation.lastPosition - position) < 0.1;\n          if (endOfAnimation) to = position;\n        } else {\n          /** Spring easing */\n          lastTime = animation.lastTime !== void 0 ? animation.lastTime : time;\n          velocity = animation.lastVelocity !== void 0 ? animation.lastVelocity : config.initialVelocity; // If we lost a lot of frames just jump to the end.\n\n          if (time > lastTime + 64) lastTime = time; // http://gafferongames.com/game-physics/fix-your-timestep/\n\n          let numSteps = Math.floor(time - lastTime);\n\n          for (let i = 0; i < numSteps; ++i) {\n            let force = -config.tension * (position - to);\n            let damping = -config.friction * velocity;\n            let acceleration = (force + damping) / config.mass;\n            velocity = velocity + acceleration * 1 / 1000;\n            position = position + velocity * 1 / 1000;\n          } // Conditions for stopping the spring animation\n\n\n          let isOvershooting = config.clamp && config.tension !== 0 ? from < to ? position > to : position < to : false;\n          let isVelocity = Math.abs(velocity) <= config.precision;\n          let isDisplacement = config.tension !== 0 ? Math.abs(to - position) <= config.precision : true;\n          endOfAnimation = isOvershooting || isVelocity && isDisplacement;\n          animation.lastVelocity = velocity;\n          animation.lastTime = time;\n        } // Trails aren't done until their parents conclude\n\n\n        if (isAnimated && !config.toValues[valIdx].done) endOfAnimation = false;\n\n        if (endOfAnimation) {\n          // Ensure that we end up with a round value\n          if (animation.value !== to) position = to;\n          animation.done = true;\n        } else isActive = true;\n\n        animation.setValue(position);\n        animation.lastPosition = position;\n      } // Keep track of updated values only when necessary\n\n\n      if (controller.props.onFrame) controller.values[config.name] = config.interpolation.getValue();\n    } // Update callbacks in the end of the frame\n\n\n    if (controller.props.onFrame) controller.props.onFrame(controller.values); // Either call onEnd or next frame\n\n    if (!isActive) {\n      controllers.delete(controller);\n      controller.stop(true);\n    }\n  } // Loop over as long as there are controllers ...\n\n\n  if (controllers.size) {\n    if (manualFrameloop) manualFrameloop();else requestFrame(update);\n  } else {\n    active = false;\n  }\n\n  return active;\n};\n\nconst start = controller => {\n  if (!controllers.has(controller)) controllers.add(controller);\n\n  if (!active) {\n    active = true;\n    if (manualFrameloop) requestFrame(manualFrameloop);else requestFrame(update);\n  }\n};\n\nconst stop = controller => {\n  if (controllers.has(controller)) controllers.delete(controller);\n};\n\nfunction createInterpolator(range, output, extrapolate) {\n  if (typeof range === 'function') {\n    return range;\n  }\n\n  if (Array.isArray(range)) {\n    return createInterpolator({\n      range,\n      output: output,\n      extrapolate\n    });\n  }\n\n  if (interpolation && typeof range.output[0] === 'string') {\n    return interpolation(range);\n  }\n\n  const config = range;\n  const outputRange = config.output;\n  const inputRange = config.range || [0, 1];\n  const extrapolateLeft = config.extrapolateLeft || config.extrapolate || 'extend';\n  const extrapolateRight = config.extrapolateRight || config.extrapolate || 'extend';\n\n  const easing = config.easing || (t => t);\n\n  return input => {\n    const range = findRange(input, inputRange);\n    return interpolate(input, inputRange[range], inputRange[range + 1], outputRange[range], outputRange[range + 1], easing, extrapolateLeft, extrapolateRight, config.map);\n  };\n}\n\nfunction interpolate(input, inputMin, inputMax, outputMin, outputMax, easing, extrapolateLeft, extrapolateRight, map) {\n  let result = map ? map(input) : input; // Extrapolate\n\n  if (result < inputMin) {\n    if (extrapolateLeft === 'identity') return result;else if (extrapolateLeft === 'clamp') result = inputMin;\n  }\n\n  if (result > inputMax) {\n    if (extrapolateRight === 'identity') return result;else if (extrapolateRight === 'clamp') result = inputMax;\n  }\n\n  if (outputMin === outputMax) return outputMin;\n  if (inputMin === inputMax) return input <= inputMin ? outputMin : outputMax; // Input Range\n\n  if (inputMin === -Infinity) result = -result;else if (inputMax === Infinity) result = result - inputMin;else result = (result - inputMin) / (inputMax - inputMin); // Easing\n\n  result = easing(result); // Output Range\n\n  if (outputMin === -Infinity) result = -result;else if (outputMax === Infinity) result = result + outputMin;else result = result * (outputMax - outputMin) + outputMin;\n  return result;\n}\n\nfunction findRange(input, inputRange) {\n  for (var i = 1; i < inputRange.length - 1; ++i) if (inputRange[i] >= input) break;\n\n  return i - 1;\n}\n\nclass AnimatedInterpolation extends AnimatedArray {\n  constructor(parents, range, output, extrapolate) {\n    super();\n    this.calc = void 0;\n    this.payload = parents instanceof AnimatedArray && !(parents instanceof AnimatedInterpolation) ? parents.getPayload() : Array.isArray(parents) ? parents : [parents];\n    this.calc = createInterpolator(range, output, extrapolate);\n  }\n\n  getValue() {\n    return this.calc(...this.payload.map(value => value.getValue()));\n  }\n\n  updateConfig(range, output, extrapolate) {\n    this.calc = createInterpolator(range, output, extrapolate);\n  }\n\n  interpolate(range, output, extrapolate) {\n    return new AnimatedInterpolation(this, range, output, extrapolate);\n  }\n\n}\n\nconst interpolate$1 = (parents, range, output) => parents && new AnimatedInterpolation(parents, range, output);\n\nconst config = {\n  default: {\n    tension: 170,\n    friction: 26\n  },\n  gentle: {\n    tension: 120,\n    friction: 14\n  },\n  wobbly: {\n    tension: 180,\n    friction: 12\n  },\n  stiff: {\n    tension: 210,\n    friction: 20\n  },\n  slow: {\n    tension: 280,\n    friction: 60\n  },\n  molasses: {\n    tension: 280,\n    friction: 120\n  }\n};\n\n/** API\n *  useChain(references, timeSteps, timeFrame)\n */\n\nfunction useChain(refs, timeSteps, timeFrame) {\n  if (timeFrame === void 0) {\n    timeFrame = 1000;\n  }\n\n  const previous = useRef();\n  useEffect(() => {\n    if (is.equ(refs, previous.current)) refs.forEach((_ref) => {\n      let current = _ref.current;\n      return current && current.start();\n    });else if (timeSteps) {\n      refs.forEach((_ref2, index) => {\n        let current = _ref2.current;\n\n        if (current) {\n          const ctrls = current.controllers;\n\n          if (ctrls.length) {\n            const t = timeFrame * timeSteps[index];\n            ctrls.forEach(ctrl => {\n              ctrl.queue = ctrl.queue.map(e => _extends({}, e, {\n                delay: e.delay + t\n              }));\n              ctrl.start();\n            });\n          }\n        }\n      });\n    } else refs.reduce((q, _ref3, rI) => {\n      let current = _ref3.current;\n      return q = q.then(() => current.start());\n    }, Promise.resolve());\n    previous.current = refs;\n  });\n}\n\n/**\n * Animated works by building a directed acyclic graph of dependencies\n * transparently when you render your Animated components.\n *\n *               new Animated.Value(0)\n *     .interpolate()        .interpolate()    new Animated.Value(1)\n *         opacity               translateY      scale\n *          style                         transform\n *         View#234                         style\n *                                         View#123\n *\n * A) Top Down phase\n * When an AnimatedValue is updated, we recursively go down through this\n * graph in order to find leaf nodes: the views that we flag as needing\n * an update.\n *\n * B) Bottom Up phase\n * When a view is flagged as needing an update, we recursively go back up\n * in order to build the new value that it needs. The reason why we need\n * this two-phases process is to deal with composite props such as\n * transform which can receive values from multiple parents.\n */\nfunction addAnimatedStyles(node, styles) {\n  if ('update' in node) {\n    styles.add(node);\n  } else {\n    node.getChildren().forEach(child => addAnimatedStyles(child, styles));\n  }\n}\n\nclass AnimatedValue extends Animated {\n  constructor(_value) {\n    var _this;\n\n    super();\n    _this = this;\n    this.animatedStyles = new Set();\n    this.value = void 0;\n    this.startPosition = void 0;\n    this.lastPosition = void 0;\n    this.lastVelocity = void 0;\n    this.startTime = void 0;\n    this.lastTime = void 0;\n    this.done = false;\n\n    this.setValue = function (value, flush) {\n      if (flush === void 0) {\n        flush = true;\n      }\n\n      _this.value = value;\n      if (flush) _this.flush();\n    };\n\n    this.value = _value;\n    this.startPosition = _value;\n    this.lastPosition = _value;\n  }\n\n  flush() {\n    if (this.animatedStyles.size === 0) {\n      addAnimatedStyles(this, this.animatedStyles);\n    }\n\n    this.animatedStyles.forEach(animatedStyle => animatedStyle.update());\n  }\n\n  clearStyles() {\n    this.animatedStyles.clear();\n  }\n\n  getValue() {\n    return this.value;\n  }\n\n  interpolate(range, output, extrapolate) {\n    return new AnimatedInterpolation(this, range, output, extrapolate);\n  }\n\n}\n\nclass AnimatedValueArray extends AnimatedArray {\n  constructor(values) {\n    super();\n    this.payload = values.map(n => new AnimatedValue(n));\n  }\n\n  setValue(value, flush) {\n    if (flush === void 0) {\n      flush = true;\n    }\n\n    if (Array.isArray(value)) {\n      if (value.length === this.payload.length) {\n        value.forEach((v, i) => this.payload[i].setValue(v, flush));\n      }\n    } else {\n      this.payload.forEach(p => p.setValue(value, flush));\n    }\n  }\n\n  getValue() {\n    return this.payload.map(v => v.getValue());\n  }\n\n  interpolate(range, output) {\n    return new AnimatedInterpolation(this, range, output);\n  }\n\n}\n\nlet G = 0;\n\nclass Controller {\n  constructor() {\n    this.id = void 0;\n    this.idle = true;\n    this.hasChanged = false;\n    this.guid = 0;\n    this.local = 0;\n    this.props = {};\n    this.merged = {};\n    this.animations = {};\n    this.interpolations = {};\n    this.values = {};\n    this.configs = [];\n    this.listeners = [];\n    this.queue = [];\n    this.localQueue = void 0;\n\n    this.getValues = () => this.interpolations;\n\n    this.id = G++;\n  }\n  /** update(props)\n   *  This function filters input props and creates an array of tasks which are executed in .start()\n   *  Each task is allowed to carry a delay, which means it can execute asnychroneously */\n\n\n  update(args) {\n    //this._id = n + this.id\n    if (!args) return this; // Extract delay and the to-prop from props\n\n    const _ref = interpolateTo(args),\n          _ref$delay = _ref.delay,\n          delay = _ref$delay === void 0 ? 0 : _ref$delay,\n          to = _ref.to,\n          props = _objectWithoutPropertiesLoose(_ref, [\"delay\", \"to\"]);\n\n    if (is.arr(to) || is.fun(to)) {\n      // If config is either a function or an array queue it up as is\n      this.queue.push(_extends({}, props, {\n        delay,\n        to\n      }));\n    } else if (to) {\n      // Otherwise go through each key since it could be delayed individually\n      let ops = {};\n      Object.entries(to).forEach((_ref2) => {\n        let k = _ref2[0],\n            v = _ref2[1];\n\n        // Fetch delay and create an entry, consisting of the to-props, the delay, and basic props\n        const entry = _extends({\n          to: {\n            [k]: v\n          },\n          delay: callProp(delay, k)\n        }, props);\n\n        const previous = ops[entry.delay] && ops[entry.delay].to;\n        ops[entry.delay] = _extends({}, ops[entry.delay], entry, {\n          to: _extends({}, previous, entry.to)\n        });\n      });\n      this.queue = Object.values(ops);\n    } // Sort queue, so that async calls go last\n\n\n    this.queue = this.queue.sort((a, b) => a.delay - b.delay); // Diff the reduced props immediately (they'll contain the from-prop and some config)\n\n    this.diff(props);\n    return this;\n  }\n  /** start(onEnd)\n   *  This function either executes a queue, if present, or starts the frameloop, which animates */\n\n\n  start(onEnd) {\n    // If a queue is present we must excecute it\n    if (this.queue.length) {\n      this.idle = false; // Updates can interrupt trailing queues, in that case we just merge values\n\n      if (this.localQueue) {\n        this.localQueue.forEach((_ref3) => {\n          let _ref3$from = _ref3.from,\n              from = _ref3$from === void 0 ? {} : _ref3$from,\n              _ref3$to = _ref3.to,\n              to = _ref3$to === void 0 ? {} : _ref3$to;\n          if (is.obj(from)) this.merged = _extends({}, from, this.merged);\n          if (is.obj(to)) this.merged = _extends({}, this.merged, to);\n        });\n      } // The guid helps us tracking frames, a new queue over an old one means an override\n      // We discard async calls in that case\n\n\n      const local = this.local = ++this.guid;\n      const queue = this.localQueue = this.queue;\n      this.queue = []; // Go through each entry and execute it\n\n      queue.forEach((_ref4, index) => {\n        let delay = _ref4.delay,\n            props = _objectWithoutPropertiesLoose(_ref4, [\"delay\"]);\n\n        const cb = finished => {\n          if (index === queue.length - 1 && local === this.guid && finished) {\n            this.idle = true;\n            if (this.props.onRest) this.props.onRest(this.merged);\n          }\n\n          if (onEnd) onEnd();\n        }; // Entries can be delayed, ansyc or immediate\n\n\n        let async = is.arr(props.to) || is.fun(props.to);\n\n        if (delay) {\n          setTimeout(() => {\n            if (local === this.guid) {\n              if (async) this.runAsync(props, cb);else this.diff(props).start(cb);\n            }\n          }, delay);\n        } else if (async) this.runAsync(props, cb);else this.diff(props).start(cb);\n      });\n    } // Otherwise we kick of the frameloop\n    else {\n        if (is.fun(onEnd)) this.listeners.push(onEnd);\n        if (this.props.onStart) this.props.onStart();\n        start(this);\n      }\n\n    return this;\n  }\n\n  stop(finished) {\n    this.listeners.forEach(onEnd => onEnd(finished));\n    this.listeners = [];\n    return this;\n  }\n  /** Pause sets onEnd listeners free, but also removes the controller from the frameloop */\n\n\n  pause(finished) {\n    this.stop(true);\n    if (finished) stop(this);\n    return this;\n  }\n\n  runAsync(_ref5, onEnd) {\n    var _this = this;\n\n    let delay = _ref5.delay,\n        props = _objectWithoutPropertiesLoose(_ref5, [\"delay\"]);\n\n    const local = this.local; // If \"to\" is either a function or an array it will be processed async, therefor \"to\" should be empty right now\n    // If the view relies on certain values \"from\" has to be present\n\n    let queue = Promise.resolve(undefined);\n\n    if (is.arr(props.to)) {\n      for (let i = 0; i < props.to.length; i++) {\n        const index = i;\n\n        const fresh = _extends({}, props, interpolateTo(props.to[index]));\n\n        if (is.arr(fresh.config)) fresh.config = fresh.config[index];\n        queue = queue.then(() => {\n          //this.stop()\n          if (local === this.guid) return new Promise(r => this.diff(fresh).start(r));\n        });\n      }\n    } else if (is.fun(props.to)) {\n      let index = 0;\n      let last;\n      queue = queue.then(() => props.to( // next(props)\n      p => {\n        const fresh = _extends({}, props, interpolateTo(p));\n\n        if (is.arr(fresh.config)) fresh.config = fresh.config[index];\n        index++; //this.stop()\n\n        if (local === this.guid) return last = new Promise(r => this.diff(fresh).start(r));\n        return;\n      }, // cancel()\n      function (finished) {\n        if (finished === void 0) {\n          finished = true;\n        }\n\n        return _this.stop(finished);\n      }).then(() => last));\n    }\n\n    queue.then(onEnd);\n  }\n\n  diff(props) {\n    this.props = _extends({}, this.props, props);\n    let _this$props = this.props,\n        _this$props$from = _this$props.from,\n        from = _this$props$from === void 0 ? {} : _this$props$from,\n        _this$props$to = _this$props.to,\n        to = _this$props$to === void 0 ? {} : _this$props$to,\n        _this$props$config = _this$props.config,\n        config = _this$props$config === void 0 ? {} : _this$props$config,\n        reverse = _this$props.reverse,\n        attach = _this$props.attach,\n        reset = _this$props.reset,\n        immediate = _this$props.immediate; // Reverse values when requested\n\n    if (reverse) {\n      var _ref6 = [to, from];\n      from = _ref6[0];\n      to = _ref6[1];\n    } // This will collect all props that were ever set, reset merged props when necessary\n\n\n    this.merged = _extends({}, from, this.merged, to);\n    this.hasChanged = false; // Attachment handling, trailed springs can \"attach\" themselves to a previous spring\n\n    let target = attach && attach(this); // Reduces input { name: value } pairs into animated values\n\n    this.animations = Object.entries(this.merged).reduce((acc, _ref7) => {\n      let name = _ref7[0],\n          value = _ref7[1];\n      // Issue cached entries, except on reset\n      let entry = acc[name] || {}; // Figure out what the value is supposed to be\n\n      const isNumber = is.num(value);\n      const isString = is.str(value) && !value.startsWith('#') && !/\\d/.test(value) && !colorNames[value];\n      const isArray = is.arr(value);\n      const isInterpolation = !isNumber && !isArray && !isString;\n      let fromValue = !is.und(from[name]) ? from[name] : value;\n      let toValue = isNumber || isArray ? value : isString ? value : 1;\n      let toConfig = callProp(config, name);\n      if (target) toValue = target.animations[name].parent;\n      let parent = entry.parent,\n          interpolation$$1 = entry.interpolation,\n          toValues = toArray(target ? toValue.getPayload() : toValue),\n          animatedValues;\n      let newValue = value;\n      if (isInterpolation) newValue = interpolation({\n        range: [0, 1],\n        output: [value, value]\n      })(1);\n      let currentValue = interpolation$$1 && interpolation$$1.getValue(); // Change detection flags\n\n      const isFirst = is.und(parent);\n      const isActive = !isFirst && entry.animatedValues.some(v => !v.done);\n      const currentValueDiffersFromGoal = !is.equ(newValue, currentValue);\n      const hasNewGoal = !is.equ(newValue, entry.previous);\n      const hasNewConfig = !is.equ(toConfig, entry.config); // Change animation props when props indicate a new goal (new value differs from previous one)\n      // and current values differ from it. Config changes trigger a new update as well (though probably shouldn't?)\n\n      if (reset || hasNewGoal && currentValueDiffersFromGoal || hasNewConfig) {\n        // Convert regular values into animated values, ALWAYS re-use if possible\n        if (isNumber || isString) parent = interpolation$$1 = entry.parent || new AnimatedValue(fromValue);else if (isArray) parent = interpolation$$1 = entry.parent || new AnimatedValueArray(fromValue);else if (isInterpolation) {\n          let prev = entry.interpolation && entry.interpolation.calc(entry.parent.value);\n          prev = prev !== void 0 && !reset ? prev : fromValue;\n\n          if (entry.parent) {\n            parent = entry.parent;\n            parent.setValue(0, false);\n          } else parent = new AnimatedValue(0);\n\n          const range = {\n            output: [prev, value]\n          };\n\n          if (entry.interpolation) {\n            interpolation$$1 = entry.interpolation;\n            entry.interpolation.updateConfig(range);\n          } else interpolation$$1 = parent.interpolate(range);\n        }\n        toValues = toArray(target ? toValue.getPayload() : toValue);\n        animatedValues = toArray(parent.getPayload());\n        if (reset && !isInterpolation) parent.setValue(fromValue, false);\n        this.hasChanged = true; // Reset animated values\n\n        animatedValues.forEach(value => {\n          value.startPosition = value.value;\n          value.lastPosition = value.value;\n          value.lastVelocity = isActive ? value.lastVelocity : undefined;\n          value.lastTime = isActive ? value.lastTime : undefined;\n          value.startTime = now();\n          value.done = false;\n          value.animatedStyles.clear();\n        }); // Set immediate values\n\n        if (callProp(immediate, name)) {\n          parent.setValue(isInterpolation ? toValue : value, false);\n        }\n\n        return _extends({}, acc, {\n          [name]: _extends({}, entry, {\n            name,\n            parent,\n            interpolation: interpolation$$1,\n            animatedValues,\n            toValues,\n            previous: newValue,\n            config: toConfig,\n            fromValues: toArray(parent.getValue()),\n            immediate: callProp(immediate, name),\n            initialVelocity: withDefault(toConfig.velocity, 0),\n            clamp: withDefault(toConfig.clamp, false),\n            precision: withDefault(toConfig.precision, 0.01),\n            tension: withDefault(toConfig.tension, 170),\n            friction: withDefault(toConfig.friction, 26),\n            mass: withDefault(toConfig.mass, 1),\n            duration: toConfig.duration,\n            easing: withDefault(toConfig.easing, t => t),\n            decay: toConfig.decay\n          })\n        });\n      } else {\n        if (!currentValueDiffersFromGoal) {\n          // So ... the current target value (newValue) appears to be different from the previous value,\n          // which normally constitutes an update, but the actual value (currentValue) matches the target!\n          // In order to resolve this without causing an animation update we silently flag the animation as done,\n          // which it technically is. Interpolations also needs a config update with their target set to 1.\n          if (isInterpolation) {\n            parent.setValue(1, false);\n            interpolation$$1.updateConfig({\n              output: [newValue, newValue]\n            });\n          }\n\n          parent.done = true;\n          this.hasChanged = true;\n          return _extends({}, acc, {\n            [name]: _extends({}, acc[name], {\n              previous: newValue\n            })\n          });\n        }\n\n        return acc;\n      }\n    }, this.animations);\n\n    if (this.hasChanged) {\n      // Make animations available to frameloop\n      this.configs = Object.values(this.animations);\n      this.values = {};\n      this.interpolations = {};\n\n      for (let key in this.animations) {\n        this.interpolations[key] = this.animations[key].interpolation;\n        this.values[key] = this.animations[key].interpolation.getValue();\n      }\n    }\n\n    return this;\n  }\n\n  destroy() {\n    this.stop();\n    this.props = {};\n    this.merged = {};\n    this.animations = {};\n    this.interpolations = {};\n    this.values = {};\n    this.configs = [];\n    this.local = 0;\n  }\n\n}\n\n/** API\n * const props = useSprings(number, [{ ... }, { ... }, ...])\n * const [props, set] = useSprings(number, (i, controller) => ({ ... }))\n */\n\nconst useSprings = (length, props) => {\n  const mounted = useRef(false);\n  const ctrl = useRef();\n  const isFn = is.fun(props); // The controller maintains the animation values, starts and stops animations\n\n  const _useMemo = useMemo(() => {\n    // Remove old controllers\n    if (ctrl.current) {\n      ctrl.current.map(c => c.destroy());\n      ctrl.current = undefined;\n    }\n\n    let ref;\n    return [new Array(length).fill().map((_, i) => {\n      const ctrl = new Controller();\n      const newProps = isFn ? callProp(props, i, ctrl) : props[i];\n      if (i === 0) ref = newProps.ref;\n      ctrl.update(newProps);\n      if (!ref) ctrl.start();\n      return ctrl;\n    }), ref];\n  }, [length]),\n        controllers = _useMemo[0],\n        ref = _useMemo[1];\n\n  ctrl.current = controllers; // The hooks reference api gets defined here ...\n\n  const api = useImperativeHandle(ref, () => ({\n    start: () => Promise.all(ctrl.current.map(c => new Promise(r => c.start(r)))),\n    stop: finished => ctrl.current.forEach(c => c.stop(finished)),\n\n    get controllers() {\n      return ctrl.current;\n    }\n\n  })); // This function updates the controllers\n\n  const updateCtrl = useMemo(() => updateProps => ctrl.current.map((c, i) => {\n    c.update(isFn ? callProp(updateProps, i, c) : updateProps[i]);\n    if (!ref) c.start();\n  }), [length]); // Update controller if props aren't functional\n\n  useEffect(() => {\n    if (mounted.current) {\n      if (!isFn) updateCtrl(props);\n    } else if (!ref) ctrl.current.forEach(c => c.start());\n  }); // Update mounted flag and destroy controller on unmount\n\n  useEffect(() => (mounted.current = true, () => ctrl.current.forEach(c => c.destroy())), []); // Return animated props, or, anim-props + the update-setter above\n\n  const propValues = ctrl.current.map(c => c.getValues());\n  return isFn ? [propValues, updateCtrl, finished => ctrl.current.forEach(c => c.pause(finished))] : propValues;\n};\n\n/** API\n * const props = useSpring({ ... })\n * const [props, set] = useSpring(() => ({ ... }))\n */\n\nconst useSpring = props => {\n  const isFn = is.fun(props);\n\n  const _useSprings = useSprings(1, isFn ? props : [props]),\n        result = _useSprings[0],\n        set = _useSprings[1],\n        pause = _useSprings[2];\n\n  return isFn ? [result[0], set, pause] : result;\n};\n\n/** API\n * const trails = useTrail(number, { ... })\n * const [trails, set] = useTrail(number, () => ({ ... }))\n */\n\nconst useTrail = (length, props) => {\n  const mounted = useRef(false);\n  const isFn = is.fun(props);\n  const updateProps = callProp(props);\n  const instances = useRef();\n\n  const _useSprings = useSprings(length, (i, ctrl) => {\n    if (i === 0) instances.current = [];\n    instances.current.push(ctrl);\n    return _extends({}, updateProps, {\n      config: callProp(updateProps.config, i),\n      attach: i > 0 && (() => instances.current[i - 1])\n    });\n  }),\n        result = _useSprings[0],\n        set = _useSprings[1],\n        pause = _useSprings[2]; // Set up function to update controller\n\n\n  const updateCtrl = useMemo(() => props => set((i, ctrl) => {\n    const last = props.reverse ? i === 0 : length - 1 === i;\n    const attachIdx = props.reverse ? i + 1 : i - 1;\n    const attachController = instances.current[attachIdx];\n    return _extends({}, props, {\n      config: callProp(props.config || updateProps.config, i),\n      attach: attachController && (() => attachController)\n    });\n  }), [length, updateProps.reverse]); // Update controller if props aren't functional\n\n  useEffect(() => void (mounted.current && !isFn && updateCtrl(props))); // Update mounted flag and destroy controller on unmount\n\n  useEffect(() => void (mounted.current = true), []);\n  return isFn ? [result, updateCtrl, pause] : result;\n};\n\n/** API\n * const transitions = useTransition(items, itemKeys, { ... })\n * const [transitions, update] = useTransition(items, itemKeys, () => ({ ... }))\n */\n\nlet guid = 0;\nconst ENTER = 'enter';\nconst LEAVE = 'leave';\nconst UPDATE = 'update';\n\nconst mapKeys = (items, keys) => (typeof keys === 'function' ? items.map(keys) : toArray(keys)).map(String);\n\nconst get = props => {\n  let items = props.items,\n      _props$keys = props.keys,\n      keys = _props$keys === void 0 ? item => item : _props$keys,\n      rest = _objectWithoutPropertiesLoose(props, [\"items\", \"keys\"]);\n\n  items = toArray(items !== void 0 ? items : null);\n  return _extends({\n    items,\n    keys: mapKeys(items, keys)\n  }, rest);\n};\n\nfunction useTransition(input, keyTransform, config) {\n  const props = _extends({\n    items: input,\n    keys: keyTransform || (i => i)\n  }, config);\n\n  const _get = get(props),\n        _get$lazy = _get.lazy,\n        lazy = _get$lazy === void 0 ? false : _get$lazy,\n        _get$unique = _get.unique,\n        _get$reset = _get.reset,\n        reset = _get$reset === void 0 ? false : _get$reset,\n        enter = _get.enter,\n        leave = _get.leave,\n        update = _get.update,\n        onDestroyed = _get.onDestroyed,\n        keys = _get.keys,\n        items = _get.items,\n        onFrame = _get.onFrame,\n        _onRest = _get.onRest,\n        onStart = _get.onStart,\n        ref = _get.ref,\n        extra = _objectWithoutPropertiesLoose(_get, [\"lazy\", \"unique\", \"reset\", \"enter\", \"leave\", \"update\", \"onDestroyed\", \"keys\", \"items\", \"onFrame\", \"onRest\", \"onStart\", \"ref\"]);\n\n  const forceUpdate = useForceUpdate();\n  const mounted = useRef(false);\n  const state = useRef({\n    mounted: false,\n    first: true,\n    deleted: [],\n    current: {},\n    transitions: [],\n    prevProps: {},\n    paused: !!props.ref,\n    instances: !mounted.current && new Map(),\n    forceUpdate\n  });\n  useImperativeHandle(props.ref, () => ({\n    start: () => Promise.all(Array.from(state.current.instances).map((_ref) => {\n      let c = _ref[1];\n      return new Promise(r => c.start(r));\n    })),\n    stop: finished => Array.from(state.current.instances).forEach((_ref2) => {\n      let c = _ref2[1];\n      return c.stop(finished);\n    }),\n\n    get controllers() {\n      return Array.from(state.current.instances).map((_ref3) => {\n        let c = _ref3[1];\n        return c;\n      });\n    }\n\n  })); // Update state\n\n  state.current = diffItems(state.current, props);\n\n  if (state.current.changed) {\n    // Update state\n    state.current.transitions.forEach(transition => {\n      const slot = transition.slot,\n            from = transition.from,\n            to = transition.to,\n            config = transition.config,\n            trail = transition.trail,\n            key = transition.key,\n            item = transition.item;\n      if (!state.current.instances.has(key)) state.current.instances.set(key, new Controller()); // update the map object\n\n      const ctrl = state.current.instances.get(key);\n\n      const newProps = _extends({}, extra, {\n        to,\n        from,\n        config,\n        ref,\n        onRest: values => {\n          if (state.current.mounted) {\n            if (transition.destroyed) {\n              // If no ref is given delete destroyed items immediately\n              if (!ref && !lazy) cleanUp(state, key);\n              if (onDestroyed) onDestroyed(item);\n            } // A transition comes to rest once all its springs conclude\n\n\n            const curInstances = Array.from(state.current.instances);\n            const active = curInstances.some((_ref4) => {\n              let c = _ref4[1];\n              return !c.idle;\n            });\n            if (!active && (ref || lazy) && state.current.deleted.length > 0) cleanUp(state);\n            if (_onRest) _onRest(item, slot, values);\n          }\n        },\n        onStart: onStart && (() => onStart(item, slot)),\n        onFrame: onFrame && (values => onFrame(item, slot, values)),\n        delay: trail,\n        reset: reset && slot === ENTER // Update controller\n\n      });\n\n      ctrl.update(newProps);\n      if (!state.current.paused) ctrl.start();\n    });\n  }\n\n  useEffect(() => {\n    state.current.mounted = mounted.current = true;\n    return () => {\n      state.current.mounted = mounted.current = false;\n      Array.from(state.current.instances).map((_ref5) => {\n        let c = _ref5[1];\n        return c.destroy();\n      });\n      state.current.instances.clear();\n    };\n  }, []);\n  return state.current.transitions.map((_ref6) => {\n    let item = _ref6.item,\n        slot = _ref6.slot,\n        key = _ref6.key;\n    return {\n      item,\n      key,\n      state: slot,\n      props: state.current.instances.get(key).getValues()\n    };\n  });\n}\n\nfunction cleanUp(state, filterKey) {\n  const deleted = state.current.deleted;\n\n  for (let _ref7 of deleted) {\n    let key = _ref7.key;\n\n    const filter = t => t.key !== key;\n\n    if (is.und(filterKey) || filterKey === key) {\n      state.current.instances.delete(key);\n      state.current.transitions = state.current.transitions.filter(filter);\n      state.current.deleted = state.current.deleted.filter(filter);\n    }\n  }\n\n  state.current.forceUpdate();\n}\n\nfunction diffItems(_ref8, props) {\n  let first = _ref8.first,\n      prevProps = _ref8.prevProps,\n      state = _objectWithoutPropertiesLoose(_ref8, [\"first\", \"prevProps\"]);\n\n  let _get2 = get(props),\n      items = _get2.items,\n      keys = _get2.keys,\n      initial = _get2.initial,\n      from = _get2.from,\n      enter = _get2.enter,\n      leave = _get2.leave,\n      update = _get2.update,\n      _get2$trail = _get2.trail,\n      trail = _get2$trail === void 0 ? 0 : _get2$trail,\n      unique = _get2.unique,\n      config = _get2.config,\n      _get2$order = _get2.order,\n      order = _get2$order === void 0 ? [ENTER, LEAVE, UPDATE] : _get2$order;\n\n  let _get3 = get(prevProps),\n      _keys = _get3.keys,\n      _items = _get3.items;\n\n  let current = _extends({}, state.current);\n\n  let deleted = [...state.deleted]; // Compare next keys with current keys\n\n  let currentKeys = Object.keys(current);\n  let currentSet = new Set(currentKeys);\n  let nextSet = new Set(keys);\n  let added = keys.filter(item => !currentSet.has(item));\n  let removed = state.transitions.filter(item => !item.destroyed && !nextSet.has(item.originalKey)).map(i => i.originalKey);\n  let updated = keys.filter(item => currentSet.has(item));\n  let delay = -trail;\n\n  while (order.length) {\n    const changeType = order.shift();\n\n    switch (changeType) {\n      case ENTER:\n        {\n          added.forEach((key, index) => {\n            // In unique mode, remove fading out transitions if their key comes in again\n            if (unique && deleted.find(d => d.originalKey === key)) deleted = deleted.filter(t => t.originalKey !== key);\n            const keyIndex = keys.indexOf(key);\n            const item = items[keyIndex];\n            const slot = first && initial !== void 0 ? 'initial' : ENTER;\n            current[key] = {\n              slot,\n              originalKey: key,\n              key: unique ? String(key) : guid++,\n              item,\n              trail: delay = delay + trail,\n              config: callProp(config, item, slot),\n              from: callProp(first ? initial !== void 0 ? initial || {} : from : from, item),\n              to: callProp(enter, item)\n            };\n          });\n          break;\n        }\n\n      case LEAVE:\n        {\n          removed.forEach(key => {\n            const keyIndex = _keys.indexOf(key);\n\n            const item = _items[keyIndex];\n            const slot = LEAVE;\n            deleted.unshift(_extends({}, current[key], {\n              slot,\n              destroyed: true,\n              left: _keys[Math.max(0, keyIndex - 1)],\n              right: _keys[Math.min(_keys.length, keyIndex + 1)],\n              trail: delay = delay + trail,\n              config: callProp(config, item, slot),\n              to: callProp(leave, item)\n            }));\n            delete current[key];\n          });\n          break;\n        }\n\n      case UPDATE:\n        {\n          updated.forEach(key => {\n            const keyIndex = keys.indexOf(key);\n            const item = items[keyIndex];\n            const slot = UPDATE;\n            current[key] = _extends({}, current[key], {\n              item,\n              slot,\n              trail: delay = delay + trail,\n              config: callProp(config, item, slot),\n              to: callProp(update, item)\n            });\n          });\n          break;\n        }\n    }\n  }\n\n  let out = keys.map(key => current[key]); // This tries to restore order for deleted items by finding their last known siblings\n  // only using the left sibling to keep order placement consistent for all deleted items\n\n  deleted.forEach((_ref9) => {\n    let left = _ref9.left,\n        right = _ref9.right,\n        item = _objectWithoutPropertiesLoose(_ref9, [\"left\", \"right\"]);\n\n    let pos; // Was it the element on the left, if yes, move there ...\n\n    if ((pos = out.findIndex(t => t.originalKey === left)) !== -1) pos += 1; // And if nothing else helps, move it to the start \\_()_/\n\n    pos = Math.max(0, pos);\n    out = [...out.slice(0, pos), item, ...out.slice(pos)];\n  });\n  return _extends({}, state, {\n    changed: added.length || removed.length || updated.length,\n    first: first && added.length === 0,\n    transitions: out,\n    current,\n    deleted,\n    prevProps: props\n  });\n}\n\nclass AnimatedStyle extends AnimatedObject {\n  constructor(style) {\n    if (style === void 0) {\n      style = {};\n    }\n\n    super();\n\n    if (style.transform && !(style.transform instanceof Animated)) {\n      style = applyAnimatedValues.transform(style);\n    }\n\n    this.payload = style;\n  }\n\n}\n\n// http://www.w3.org/TR/css3-color/#svg-color\nconst colors = {\n  transparent: 0x00000000,\n  aliceblue: 0xf0f8ffff,\n  antiquewhite: 0xfaebd7ff,\n  aqua: 0x00ffffff,\n  aquamarine: 0x7fffd4ff,\n  azure: 0xf0ffffff,\n  beige: 0xf5f5dcff,\n  bisque: 0xffe4c4ff,\n  black: 0x000000ff,\n  blanchedalmond: 0xffebcdff,\n  blue: 0x0000ffff,\n  blueviolet: 0x8a2be2ff,\n  brown: 0xa52a2aff,\n  burlywood: 0xdeb887ff,\n  burntsienna: 0xea7e5dff,\n  cadetblue: 0x5f9ea0ff,\n  chartreuse: 0x7fff00ff,\n  chocolate: 0xd2691eff,\n  coral: 0xff7f50ff,\n  cornflowerblue: 0x6495edff,\n  cornsilk: 0xfff8dcff,\n  crimson: 0xdc143cff,\n  cyan: 0x00ffffff,\n  darkblue: 0x00008bff,\n  darkcyan: 0x008b8bff,\n  darkgoldenrod: 0xb8860bff,\n  darkgray: 0xa9a9a9ff,\n  darkgreen: 0x006400ff,\n  darkgrey: 0xa9a9a9ff,\n  darkkhaki: 0xbdb76bff,\n  darkmagenta: 0x8b008bff,\n  darkolivegreen: 0x556b2fff,\n  darkorange: 0xff8c00ff,\n  darkorchid: 0x9932ccff,\n  darkred: 0x8b0000ff,\n  darksalmon: 0xe9967aff,\n  darkseagreen: 0x8fbc8fff,\n  darkslateblue: 0x483d8bff,\n  darkslategray: 0x2f4f4fff,\n  darkslategrey: 0x2f4f4fff,\n  darkturquoise: 0x00ced1ff,\n  darkviolet: 0x9400d3ff,\n  deeppink: 0xff1493ff,\n  deepskyblue: 0x00bfffff,\n  dimgray: 0x696969ff,\n  dimgrey: 0x696969ff,\n  dodgerblue: 0x1e90ffff,\n  firebrick: 0xb22222ff,\n  floralwhite: 0xfffaf0ff,\n  forestgreen: 0x228b22ff,\n  fuchsia: 0xff00ffff,\n  gainsboro: 0xdcdcdcff,\n  ghostwhite: 0xf8f8ffff,\n  gold: 0xffd700ff,\n  goldenrod: 0xdaa520ff,\n  gray: 0x808080ff,\n  green: 0x008000ff,\n  greenyellow: 0xadff2fff,\n  grey: 0x808080ff,\n  honeydew: 0xf0fff0ff,\n  hotpink: 0xff69b4ff,\n  indianred: 0xcd5c5cff,\n  indigo: 0x4b0082ff,\n  ivory: 0xfffff0ff,\n  khaki: 0xf0e68cff,\n  lavender: 0xe6e6faff,\n  lavenderblush: 0xfff0f5ff,\n  lawngreen: 0x7cfc00ff,\n  lemonchiffon: 0xfffacdff,\n  lightblue: 0xadd8e6ff,\n  lightcoral: 0xf08080ff,\n  lightcyan: 0xe0ffffff,\n  lightgoldenrodyellow: 0xfafad2ff,\n  lightgray: 0xd3d3d3ff,\n  lightgreen: 0x90ee90ff,\n  lightgrey: 0xd3d3d3ff,\n  lightpink: 0xffb6c1ff,\n  lightsalmon: 0xffa07aff,\n  lightseagreen: 0x20b2aaff,\n  lightskyblue: 0x87cefaff,\n  lightslategray: 0x778899ff,\n  lightslategrey: 0x778899ff,\n  lightsteelblue: 0xb0c4deff,\n  lightyellow: 0xffffe0ff,\n  lime: 0x00ff00ff,\n  limegreen: 0x32cd32ff,\n  linen: 0xfaf0e6ff,\n  magenta: 0xff00ffff,\n  maroon: 0x800000ff,\n  mediumaquamarine: 0x66cdaaff,\n  mediumblue: 0x0000cdff,\n  mediumorchid: 0xba55d3ff,\n  mediumpurple: 0x9370dbff,\n  mediumseagreen: 0x3cb371ff,\n  mediumslateblue: 0x7b68eeff,\n  mediumspringgreen: 0x00fa9aff,\n  mediumturquoise: 0x48d1ccff,\n  mediumvioletred: 0xc71585ff,\n  midnightblue: 0x191970ff,\n  mintcream: 0xf5fffaff,\n  mistyrose: 0xffe4e1ff,\n  moccasin: 0xffe4b5ff,\n  navajowhite: 0xffdeadff,\n  navy: 0x000080ff,\n  oldlace: 0xfdf5e6ff,\n  olive: 0x808000ff,\n  olivedrab: 0x6b8e23ff,\n  orange: 0xffa500ff,\n  orangered: 0xff4500ff,\n  orchid: 0xda70d6ff,\n  palegoldenrod: 0xeee8aaff,\n  palegreen: 0x98fb98ff,\n  paleturquoise: 0xafeeeeff,\n  palevioletred: 0xdb7093ff,\n  papayawhip: 0xffefd5ff,\n  peachpuff: 0xffdab9ff,\n  peru: 0xcd853fff,\n  pink: 0xffc0cbff,\n  plum: 0xdda0ddff,\n  powderblue: 0xb0e0e6ff,\n  purple: 0x800080ff,\n  rebeccapurple: 0x663399ff,\n  red: 0xff0000ff,\n  rosybrown: 0xbc8f8fff,\n  royalblue: 0x4169e1ff,\n  saddlebrown: 0x8b4513ff,\n  salmon: 0xfa8072ff,\n  sandybrown: 0xf4a460ff,\n  seagreen: 0x2e8b57ff,\n  seashell: 0xfff5eeff,\n  sienna: 0xa0522dff,\n  silver: 0xc0c0c0ff,\n  skyblue: 0x87ceebff,\n  slateblue: 0x6a5acdff,\n  slategray: 0x708090ff,\n  slategrey: 0x708090ff,\n  snow: 0xfffafaff,\n  springgreen: 0x00ff7fff,\n  steelblue: 0x4682b4ff,\n  tan: 0xd2b48cff,\n  teal: 0x008080ff,\n  thistle: 0xd8bfd8ff,\n  tomato: 0xff6347ff,\n  turquoise: 0x40e0d0ff,\n  violet: 0xee82eeff,\n  wheat: 0xf5deb3ff,\n  white: 0xffffffff,\n  whitesmoke: 0xf5f5f5ff,\n  yellow: 0xffff00ff,\n  yellowgreen: 0x9acd32ff\n};\n\n// const INTEGER = '[-+]?\\\\d+';\nconst NUMBER = '[-+]?\\\\d*\\\\.?\\\\d+';\nconst PERCENTAGE = NUMBER + '%';\n\nfunction call() {\n  for (var _len = arguments.length, parts = new Array(_len), _key = 0; _key < _len; _key++) {\n    parts[_key] = arguments[_key];\n  }\n\n  return '\\\\(\\\\s*(' + parts.join(')\\\\s*,\\\\s*(') + ')\\\\s*\\\\)';\n}\n\nconst rgb = new RegExp('rgb' + call(NUMBER, NUMBER, NUMBER));\nconst rgba = new RegExp('rgba' + call(NUMBER, NUMBER, NUMBER, NUMBER));\nconst hsl = new RegExp('hsl' + call(NUMBER, PERCENTAGE, PERCENTAGE));\nconst hsla = new RegExp('hsla' + call(NUMBER, PERCENTAGE, PERCENTAGE, NUMBER));\nconst hex3 = /^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/;\nconst hex4 = /^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/;\nconst hex6 = /^#([0-9a-fA-F]{6})$/;\nconst hex8 = /^#([0-9a-fA-F]{8})$/;\n\n/*\nhttps://github.com/react-community/normalize-css-color\n\nBSD 3-Clause License\n\nCopyright (c) 2016, React Community\nAll rights reserved.\n\nRedistribution and use in source and binary forms, with or without\nmodification, are permitted provided that the following conditions are met:\n\n* Redistributions of source code must retain the above copyright notice, this\n  list of conditions and the following disclaimer.\n\n* Redistributions in binary form must reproduce the above copyright notice,\n  this list of conditions and the following disclaimer in the documentation\n  and/or other materials provided with the distribution.\n\n* Neither the name of the copyright holder nor the names of its\n  contributors may be used to endorse or promote products derived from\n  this software without specific prior written permission.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\nAND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\nIMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\nDISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE\nFOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL\nDAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\nSERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER\nCAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\nOR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\nOF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\nfunction normalizeColor(color) {\n  let match;\n\n  if (typeof color === 'number') {\n    return color >>> 0 === color && color >= 0 && color <= 0xffffffff ? color : null;\n  } // Ordered based on occurrences on Facebook codebase\n\n\n  if (match = hex6.exec(color)) return parseInt(match[1] + 'ff', 16) >>> 0;\n  if (colors.hasOwnProperty(color)) return colors[color];\n\n  if (match = rgb.exec(color)) {\n    return (parse255(match[1]) << 24 | // r\n    parse255(match[2]) << 16 | // g\n    parse255(match[3]) << 8 | // b\n    0x000000ff) >>> // a\n    0;\n  }\n\n  if (match = rgba.exec(color)) {\n    return (parse255(match[1]) << 24 | // r\n    parse255(match[2]) << 16 | // g\n    parse255(match[3]) << 8 | // b\n    parse1(match[4])) >>> // a\n    0;\n  }\n\n  if (match = hex3.exec(color)) {\n    return parseInt(match[1] + match[1] + // r\n    match[2] + match[2] + // g\n    match[3] + match[3] + // b\n    'ff', // a\n    16) >>> 0;\n  } // https://drafts.csswg.org/css-color-4/#hex-notation\n\n\n  if (match = hex8.exec(color)) return parseInt(match[1], 16) >>> 0;\n\n  if (match = hex4.exec(color)) {\n    return parseInt(match[1] + match[1] + // r\n    match[2] + match[2] + // g\n    match[3] + match[3] + // b\n    match[4] + match[4], // a\n    16) >>> 0;\n  }\n\n  if (match = hsl.exec(color)) {\n    return (hslToRgb(parse360(match[1]), // h\n    parsePercentage(match[2]), // s\n    parsePercentage(match[3]) // l\n    ) | 0x000000ff) >>> // a\n    0;\n  }\n\n  if (match = hsla.exec(color)) {\n    return (hslToRgb(parse360(match[1]), // h\n    parsePercentage(match[2]), // s\n    parsePercentage(match[3]) // l\n    ) | parse1(match[4])) >>> // a\n    0;\n  }\n\n  return null;\n}\n\nfunction hue2rgb(p, q, t) {\n  if (t < 0) t += 1;\n  if (t > 1) t -= 1;\n  if (t < 1 / 6) return p + (q - p) * 6 * t;\n  if (t < 1 / 2) return q;\n  if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\n  return p;\n}\n\nfunction hslToRgb(h, s, l) {\n  const q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n  const p = 2 * l - q;\n  const r = hue2rgb(p, q, h + 1 / 3);\n  const g = hue2rgb(p, q, h);\n  const b = hue2rgb(p, q, h - 1 / 3);\n  return Math.round(r * 255) << 24 | Math.round(g * 255) << 16 | Math.round(b * 255) << 8;\n}\n\nfunction parse255(str) {\n  const int = parseInt(str, 10);\n  if (int < 0) return 0;\n  if (int > 255) return 255;\n  return int;\n}\n\nfunction parse360(str) {\n  const int = parseFloat(str);\n  return (int % 360 + 360) % 360 / 360;\n}\n\nfunction parse1(str) {\n  const num = parseFloat(str);\n  if (num < 0) return 0;\n  if (num > 1) return 255;\n  return Math.round(num * 255);\n}\n\nfunction parsePercentage(str) {\n  // parseFloat conveniently ignores the final %\n  const int = parseFloat(str);\n  if (int < 0) return 0;\n  if (int > 100) return 1;\n  return int / 100;\n}\n\nfunction colorToRgba(input) {\n  let int32Color = normalizeColor(input);\n  if (int32Color === null) return input;\n  int32Color = int32Color || 0;\n  let r = (int32Color & 0xff000000) >>> 24;\n  let g = (int32Color & 0x00ff0000) >>> 16;\n  let b = (int32Color & 0x0000ff00) >>> 8;\n  let a = (int32Color & 0x000000ff) / 255;\n  return `rgba(${r}, ${g}, ${b}, ${a})`;\n} // Problem: https://github.com/animatedjs/animated/pull/102\n// Solution: https://stackoverflow.com/questions/638565/parsing-scientific-notation-sensibly/658662\n\n\nconst stringShapeRegex = /[+\\-]?(?:0|[1-9]\\d*)(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g; // Covers rgb, rgba, hsl, hsla\n// Taken from https://gist.github.com/olmokramer/82ccce673f86db7cda5e\n\nconst colorRegex = /(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\\((-?\\d+%?[,\\s]+){2,3}\\s*[\\d\\.]+%?\\))/gi; // Covers color names (transparent, blue, etc.)\n\nconst colorNamesRegex = new RegExp(`(${Object.keys(colors).join('|')})`, 'g');\n/**\n * Supports string shapes by extracting numbers so new values can be computed,\n * and recombines those values into new strings of the same shape.  Supports\n * things like:\n *\n *   rgba(123, 42, 99, 0.36)           // colors\n *   -45deg                            // values with units\n *   0 2px 2px 0px rgba(0, 0, 0, 0.12) // box shadows\n */\n\nconst createStringInterpolator = config => {\n  // Replace colors with rgba\n  const outputRange = config.output.map(rangeValue => rangeValue.replace(colorRegex, colorToRgba)).map(rangeValue => rangeValue.replace(colorNamesRegex, colorToRgba));\n  const outputRanges = outputRange[0].match(stringShapeRegex).map(() => []);\n  outputRange.forEach(value => {\n    value.match(stringShapeRegex).forEach((number, i) => outputRanges[i].push(+number));\n  });\n  const interpolations = outputRange[0].match(stringShapeRegex).map((_value, i) => createInterpolator(_extends({}, config, {\n    output: outputRanges[i]\n  })));\n  return input => {\n    let i = 0;\n    return outputRange[0] // 'rgba(0, 100, 200, 0)'\n    // ->\n    // 'rgba(${interpolations[0](input)}, ${interpolations[1](input)}, ...'\n    .replace(stringShapeRegex, () => interpolations[i++](input)) // rgba requires that the r,g,b are integers.... so we want to round them, but we *dont* want to\n    // round the opacity (4th column).\n    .replace(/rgba\\(([0-9\\.-]+), ([0-9\\.-]+), ([0-9\\.-]+), ([0-9\\.-]+)\\)/gi, (_, p1, p2, p3, p4) => `rgba(${Math.round(p1)}, ${Math.round(p2)}, ${Math.round(p3)}, ${p4})`);\n  };\n};\n\nlet isUnitlessNumber = {\n  animationIterationCount: true,\n  borderImageOutset: true,\n  borderImageSlice: true,\n  borderImageWidth: true,\n  boxFlex: true,\n  boxFlexGroup: true,\n  boxOrdinalGroup: true,\n  columnCount: true,\n  columns: true,\n  flex: true,\n  flexGrow: true,\n  flexPositive: true,\n  flexShrink: true,\n  flexNegative: true,\n  flexOrder: true,\n  gridRow: true,\n  gridRowEnd: true,\n  gridRowSpan: true,\n  gridRowStart: true,\n  gridColumn: true,\n  gridColumnEnd: true,\n  gridColumnSpan: true,\n  gridColumnStart: true,\n  fontWeight: true,\n  lineClamp: true,\n  lineHeight: true,\n  opacity: true,\n  order: true,\n  orphans: true,\n  tabSize: true,\n  widows: true,\n  zIndex: true,\n  zoom: true,\n  // SVG-related properties\n  fillOpacity: true,\n  floodOpacity: true,\n  stopOpacity: true,\n  strokeDasharray: true,\n  strokeDashoffset: true,\n  strokeMiterlimit: true,\n  strokeOpacity: true,\n  strokeWidth: true\n};\n\nconst prefixKey = (prefix, key) => prefix + key.charAt(0).toUpperCase() + key.substring(1);\n\nconst prefixes = ['Webkit', 'Ms', 'Moz', 'O'];\nisUnitlessNumber = Object.keys(isUnitlessNumber).reduce((acc, prop) => {\n  prefixes.forEach(prefix => acc[prefixKey(prefix, prop)] = acc[prop]);\n  return acc;\n}, isUnitlessNumber);\n\nfunction dangerousStyleValue(name, value, isCustomProperty) {\n  if (value == null || typeof value === 'boolean' || value === '') return '';\n  if (!isCustomProperty && typeof value === 'number' && value !== 0 && !(isUnitlessNumber.hasOwnProperty(name) && isUnitlessNumber[name])) return value + 'px'; // Presumes implicit 'px' suffix for unitless numbers\n\n  return ('' + value).trim();\n}\n\nconst attributeCache = {};\ninjectCreateAnimatedStyle(style => new AnimatedStyle(style));\ninjectDefaultElement('div');\ninjectStringInterpolator(createStringInterpolator);\ninjectColorNames(colors);\ninjectApplyAnimatedValues((instance, props) => {\n  if (instance.nodeType && instance.setAttribute !== undefined) {\n    const style = props.style,\n          children = props.children,\n          scrollTop = props.scrollTop,\n          scrollLeft = props.scrollLeft,\n          attributes = _objectWithoutPropertiesLoose(props, [\"style\", \"children\", \"scrollTop\", \"scrollLeft\"]);\n\n    const filter = instance.nodeName === 'filter' || instance.parentNode && instance.parentNode.nodeName === 'filter';\n    if (scrollTop !== void 0) instance.scrollTop = scrollTop;\n    if (scrollLeft !== void 0) instance.scrollLeft = scrollLeft; // Set textContent, if children is an animatable value\n\n    if (children !== void 0) instance.textContent = children; // Set styles ...\n\n    for (let styleName in style) {\n      if (!style.hasOwnProperty(styleName)) continue;\n      var isCustomProperty = styleName.indexOf('--') === 0;\n      var styleValue = dangerousStyleValue(styleName, style[styleName], isCustomProperty);\n      if (styleName === 'float') styleName = 'cssFloat';\n      if (isCustomProperty) instance.style.setProperty(styleName, styleValue);else instance.style[styleName] = styleValue;\n    } // Set attributes ...\n\n\n    for (let name in attributes) {\n      // Attributes are written in dash case\n      const dashCase = filter ? name : attributeCache[name] || (attributeCache[name] = name.replace(/([A-Z])/g, n => '-' + n.toLowerCase()));\n      if (typeof instance.getAttribute(dashCase) !== 'undefined') instance.setAttribute(dashCase, attributes[name]);\n    }\n\n    return;\n  } else return false;\n}, style => style);\n\nconst domElements = ['a', 'abbr', 'address', 'area', 'article', 'aside', 'audio', 'b', 'base', 'bdi', 'bdo', 'big', 'blockquote', 'body', 'br', 'button', 'canvas', 'caption', 'cite', 'code', 'col', 'colgroup', 'data', 'datalist', 'dd', 'del', 'details', 'dfn', 'dialog', 'div', 'dl', 'dt', 'em', 'embed', 'fieldset', 'figcaption', 'figure', 'footer', 'form', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'head', 'header', 'hgroup', 'hr', 'html', 'i', 'iframe', 'img', 'input', 'ins', 'kbd', 'keygen', 'label', 'legend', 'li', 'link', 'main', 'map', 'mark', 'menu', 'menuitem', 'meta', 'meter', 'nav', 'noscript', 'object', 'ol', 'optgroup', 'option', 'output', 'p', 'param', 'picture', 'pre', 'progress', 'q', 'rp', 'rt', 'ruby', 's', 'samp', 'script', 'section', 'select', 'small', 'source', 'span', 'strong', 'style', 'sub', 'summary', 'sup', 'table', 'tbody', 'td', 'textarea', 'tfoot', 'th', 'thead', 'time', 'title', 'tr', 'track', 'u', 'ul', 'var', 'video', 'wbr', // SVG\n'circle', 'clipPath', 'defs', 'ellipse', 'foreignObject', 'g', 'image', 'line', 'linearGradient', 'mask', 'path', 'pattern', 'polygon', 'polyline', 'radialGradient', 'rect', 'stop', 'svg', 'text', 'tspan'];\n// Extend animated with all the available THREE elements\nconst apply = merge(createAnimatedComponent, false);\nconst extendedAnimated = apply(domElements);\n\nexport { apply, config, update, extendedAnimated as animated, extendedAnimated as a, interpolate$1 as interpolate, Globals, useSpring, useTrail, useTransition, useChain, useSprings };\n","import React, { useRef } from 'react';\n\n// vector add\nfunction addV(v1, v2) {\n  return v1.map(function (v, i) {\n    return v + v2[i];\n  });\n} // vector substract\n\nfunction subV(v1, v2) {\n  return v1.map(function (v, i) {\n    return v - v2[i];\n  });\n}\n/**\r\n * Calculates distance\r\n * @param movement the difference between current and initial vectors\r\n * @returns distance\r\n */\n\nfunction calculateDistance(movement) {\n  return Math.hypot.apply(Math, movement);\n}\nfunction calculateAllGeometry(movement, delta) {\n  if (delta === void 0) {\n    delta = movement;\n  }\n\n  var dl = calculateDistance(delta);\n  var alpha = dl === 0 ? 0 : 1 / dl;\n  var direction = delta.map(function (v) {\n    return alpha * v;\n  });\n  var distance = calculateDistance(movement);\n  return {\n    distance: distance,\n    direction: direction\n  };\n}\n/**\r\n * Calculates all kinematics\r\n * @template T the expected vector type\r\n * @param movement the difference between current and initial vectors\r\n * @param delta the difference between current and previous vectors\r\n * @param delta_t the time difference between current and previous timestamps\r\n * @returns all kinematics\r\n */\n\nfunction calculateAllKinematics(movement, delta, dt) {\n  var dl = calculateDistance(delta);\n  var alpha = dl === 0 ? 0 : 1 / dl;\n  var beta = dt === 0 ? 0 : 1 / dt;\n  var velocity = beta * dl;\n  var velocities = delta.map(function (v) {\n    return beta * v;\n  });\n  var direction = delta.map(function (v) {\n    return alpha * v;\n  });\n  var distance = calculateDistance(movement);\n  return {\n    velocities: velocities,\n    velocity: velocity,\n    distance: distance,\n    direction: direction\n  };\n}\n/**\r\n * Because IE doesn't support `Math.sign` function, so we use the polyfill version of the function.\r\n * This polyfill function is suggested by Mozilla:\r\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/sign#Polyfill\r\n * @param x target number\r\n */\n\nfunction sign(x) {\n  if (Math.sign) return Math.sign(x);\n  return Number(x > 0) - Number(x < 0) || +x;\n}\n\nfunction minMax(value, min, max) {\n  return Math.max(min, Math.min(value, max));\n} // Based on @aholachek ;)\n// https://twitter.com/chpwn/status/285540192096497664\n// iOS constant = 0.55\n// https://medium.com/@nathangitter/building-fluid-interfaces-ios-swift-9732bb934bf5\n\n\nfunction rubberband2(distance, constant) {\n  // default constant from the article is 0.7\n  return Math.pow(distance, constant * 5);\n}\n\nfunction rubberband(distance, dimension, constant) {\n  if (dimension === 0 || Math.abs(dimension) === Infinity) return rubberband2(distance, constant);\n  return distance * dimension * constant / (dimension + constant * distance);\n}\n\nfunction rubberbandIfOutOfBounds(position, min, max, constant) {\n  if (constant === void 0) {\n    constant = 0.15;\n  }\n\n  if (constant === 0) return minMax(position, min, max);\n  if (position < min) return -rubberband(min - position, max - min, constant) + min;\n  if (position > max) return +rubberband(position - max, max - min, constant) + max;\n  return position;\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _createForOfIteratorHelperLoose(o, allowArrayLike) {\n  var it;\n\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n      return function () {\n        if (i >= o.length) return {\n          done: true\n        };\n        return {\n          done: false,\n          value: o[i++]\n        };\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  it = o[Symbol.iterator]();\n  return it.next.bind(it);\n}\n\nfunction noop() {}\n/**\r\n * TODO Beware that only optimized cases are covered in tests =)\r\n * TODO Need to cover general case as well\r\n *\r\n * @param fns\r\n */\n\nfunction chainFns() {\n  for (var _len = arguments.length, fns = new Array(_len), _key = 0; _key < _len; _key++) {\n    fns[_key] = arguments[_key];\n  }\n\n  if (fns.length === 0) return noop;\n  if (fns.length === 1) return fns[0];\n  return function () {\n    var result;\n\n    for (var _iterator = _createForOfIteratorHelperLoose(fns), _step; !(_step = _iterator()).done;) {\n      var fn = _step.value;\n      result = fn.apply(this, arguments) || result;\n    }\n\n    return result;\n  };\n}\n/**\r\n * Expects a simple value or 2D vector (an array with 2 elements) and\r\n * always returns 2D vector. If simple value is passed, returns a\r\n * vector with this value as both coordinates.\r\n *\r\n * @param value\r\n */\n\nfunction ensureVector(value, fallback) {\n  if (value === undefined) {\n    if (fallback === undefined) {\n      throw new Error('Must define fallback value if undefined is expected');\n    }\n\n    value = fallback;\n  }\n\n  if (Array.isArray(value)) return value;\n  return [value, value];\n}\n/**\r\n * Helper for defining a default value\r\n *\r\n * @param value\r\n * @param fallback\r\n */\n\nfunction assignDefault(value, fallback) {\n  return Object.assign({}, fallback, value || {});\n}\n/**\r\n * Resolves getters (functions) by calling them\r\n * If simple value is given it just passes through\r\n *\r\n * @param v\r\n */\n\nfunction valueFn(v) {\n  if (typeof v === 'function') {\n    for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n      args[_key2 - 1] = arguments[_key2];\n    }\n\n    // @ts-ignore\n    return v.apply(void 0, args);\n  } else {\n    return v;\n  }\n}\n\nfunction resolveWith(config, resolvers) {\n  if (config === void 0) {\n    config = {};\n  }\n\n  var result = {};\n\n  for (var _i = 0, _Object$entries = Object.entries(resolvers); _i < _Object$entries.length; _i++) {\n    var _Object$entries$_i = _Object$entries[_i],\n        key = _Object$entries$_i[0],\n        resolver = _Object$entries$_i[1];\n\n    switch (typeof resolver) {\n      case 'function':\n        result[key] = resolver.call(result, config[key], key, config);\n        break;\n\n      case 'object':\n        result[key] = resolveWith(config[key], resolver);\n        break;\n\n      case 'boolean':\n        if (resolver) result[key] = config[key];\n        break;\n    }\n  }\n\n  return result;\n}\n\n/**\r\n * Whether the browser supports GestureEvent (ie Safari)\r\n * @returns true if the browser supports gesture event\r\n */\nfunction supportsGestureEvents() {\n  try {\n    // TODO [TS] possibly find GestureEvent definitions?\n    // @ts-ignore: no type definitions for webkit GestureEvents\n    return 'constructor' in GestureEvent;\n  } catch (e) {\n    return false;\n  }\n}\nfunction supportsTouchEvents() {\n  return typeof window !== 'undefined' && 'ontouchstart' in window;\n}\nfunction supportsPointerEvents() {\n  return typeof window !== 'undefined' && 'onpointerdown' in window;\n}\n\nfunction getEventTouches(event) {\n  if ('pointerId' in event) return null;\n  return event.type === 'touchend' ? event.changedTouches : event.targetTouches;\n}\n\nfunction getTouchIds(event) {\n  return Array.from(getEventTouches(event)).map(function (t) {\n    return t.identifier;\n  });\n}\nfunction getGenericEventData(event) {\n  var buttons = 'buttons' in event ? event.buttons : 0;\n  var shiftKey = event.shiftKey,\n      altKey = event.altKey,\n      metaKey = event.metaKey,\n      ctrlKey = event.ctrlKey; // TODO check if this might create some overrides?\n\n  return {\n    buttons: buttons,\n    shiftKey: shiftKey,\n    altKey: altKey,\n    metaKey: metaKey,\n    ctrlKey: ctrlKey\n  };\n}\n\nvar identity = function identity(xy) {\n  return xy;\n};\n/**\r\n * Gets pointer event values.\r\n * @param event\r\n * @returns pointer event values\r\n */\n\n\nfunction getPointerEventValues(event, transform) {\n  if (transform === void 0) {\n    transform = identity;\n  }\n\n  var touchEvents = getEventTouches(event);\n\n  var _ref = touchEvents ? touchEvents[0] : event,\n      clientX = _ref.clientX,\n      clientY = _ref.clientY;\n\n  return transform([clientX, clientY]);\n}\n/**\r\n * Gets two touches event data\r\n * @param event\r\n * @returns two touches event data\r\n */\n\nfunction getTwoTouchesEventValues(event, pointerIds, transform) {\n  if (transform === void 0) {\n    transform = identity;\n  }\n\n  var _Array$from$filter = Array.from(event.touches).filter(function (t) {\n    return pointerIds.includes(t.identifier);\n  }),\n      A = _Array$from$filter[0],\n      B = _Array$from$filter[1];\n\n  if (!A || !B) throw Error(\"The event doesn't have two pointers matching the pointerIds\");\n  var dx = B.clientX - A.clientX;\n  var dy = B.clientY - A.clientY;\n  var cx = (B.clientX + A.clientX) / 2;\n  var cy = (B.clientY + A.clientY) / 2; // const e: any = 'nativeEvent' in event ? event.nativeEvent : event\n\n  var distance = Math.hypot(dx, dy); // FIXME rotation has inconsistant values so we're not using it atm\n  // const angle = (e.rotation as number) ?? -(Math.atan2(dx, dy) * 180) / Math.PI\n\n  var angle = -(Math.atan2(dx, dy) * 180) / Math.PI;\n  var values = transform([distance, angle]);\n  var origin = transform([cx, cy]);\n  return {\n    values: values,\n    origin: origin\n  };\n}\n/**\r\n * Gets scroll event values\r\n * @param event\r\n * @returns scroll event values\r\n */\n\nfunction getScrollEventValues(event, transform) {\n  if (transform === void 0) {\n    transform = identity;\n  }\n\n  // If the currentTarget is the window then we return the scrollX/Y position.\n  // If not (ie the currentTarget is a DOM element), then we return scrollLeft/Top\n  var _event$currentTarget = event.currentTarget,\n      scrollX = _event$currentTarget.scrollX,\n      scrollY = _event$currentTarget.scrollY,\n      scrollLeft = _event$currentTarget.scrollLeft,\n      scrollTop = _event$currentTarget.scrollTop;\n  return transform([scrollX || scrollLeft || 0, scrollY || scrollTop || 0]);\n} // wheel delta defaults from https://github.com/facebookarchive/fixed-data-table/blob/master/src/vendor_upstream/dom/normalizeWheel.js\n\nvar LINE_HEIGHT = 40;\nvar PAGE_HEIGHT = 800;\n/**\r\n * Gets wheel event values.\r\n * @param event\r\n * @returns wheel event values\r\n */\n\nfunction getWheelEventValues(event, transform) {\n  if (transform === void 0) {\n    transform = identity;\n  }\n\n  var deltaX = event.deltaX,\n      deltaY = event.deltaY,\n      deltaMode = event.deltaMode; // normalize wheel values, especially for Firefox\n\n  if (deltaMode === 1) {\n    deltaX *= LINE_HEIGHT;\n    deltaY *= LINE_HEIGHT;\n  } else if (deltaMode === 2) {\n    deltaX *= PAGE_HEIGHT;\n    deltaY *= PAGE_HEIGHT;\n  }\n\n  return transform([deltaX, deltaY]);\n}\n/**\r\n * Gets webkit gesture event values.\r\n * @param event\r\n * @returns webkit gesture event values\r\n */\n\nfunction getWebkitGestureEventValues(event, transform) {\n  if (transform === void 0) {\n    transform = identity;\n  }\n\n  return transform([event.scale, event.rotation]);\n}\n\nvar DEFAULT_DRAG_DELAY = 180;\nvar DEFAULT_RUBBERBAND = 0.15;\nvar DEFAULT_SWIPE_VELOCITY = 0.5;\nvar DEFAULT_SWIPE_DISTANCE = 50;\nvar DEFAULT_SWIPE_DURATION = 250;\nvar InternalGestureOptionsNormalizers = {\n  threshold: function threshold(value) {\n    if (value === void 0) {\n      value = 0;\n    }\n\n    return ensureVector(value);\n  },\n  rubberband: function rubberband(value) {\n    if (value === void 0) {\n      value = 0;\n    }\n\n    switch (value) {\n      case true:\n        return ensureVector(DEFAULT_RUBBERBAND);\n\n      case false:\n        return ensureVector(0);\n\n      default:\n        return ensureVector(value);\n    }\n  },\n  enabled: function enabled(value) {\n    if (value === void 0) {\n      value = true;\n    }\n\n    return value;\n  },\n  triggerAllEvents: function triggerAllEvents(value) {\n    if (value === void 0) {\n      value = false;\n    }\n\n    return value;\n  },\n  initial: function initial(value) {\n    if (value === void 0) {\n      value = 0;\n    }\n\n    if (typeof value === 'function') return value;\n    return ensureVector(value);\n  },\n  transform: true\n};\n\nvar InternalCoordinatesOptionsNormalizers = /*#__PURE__*/_extends({}, InternalGestureOptionsNormalizers, {\n  axis: true,\n  lockDirection: function lockDirection(value) {\n    if (value === void 0) {\n      value = false;\n    }\n\n    return value;\n  },\n  bounds: function bounds(value) {\n    if (value === void 0) {\n      value = {};\n    }\n\n    if (typeof value === 'function') return function (state) {\n      return InternalCoordinatesOptionsNormalizers.bounds(value(state));\n    };\n    var _value2 = value,\n        _value2$left = _value2.left,\n        left = _value2$left === void 0 ? -Infinity : _value2$left,\n        _value2$right = _value2.right,\n        right = _value2$right === void 0 ? Infinity : _value2$right,\n        _value2$top = _value2.top,\n        top = _value2$top === void 0 ? -Infinity : _value2$top,\n        _value2$bottom = _value2.bottom,\n        bottom = _value2$bottom === void 0 ? Infinity : _value2$bottom;\n    return [[left, right], [top, bottom]];\n  }\n});\n\nvar isBrowser = typeof window !== 'undefined' && window.document && window.document.createElement;\nvar InternalGenericOptionsNormalizers = {\n  enabled: function enabled(value) {\n    if (value === void 0) {\n      value = true;\n    }\n\n    return value;\n  },\n  domTarget: true,\n  window: /*#__PURE__*/function (_window) {\n    function window(_x) {\n      return _window.apply(this, arguments);\n    }\n\n    window.toString = function () {\n      return _window.toString();\n    };\n\n    return window;\n  }(function (value) {\n    if (value === void 0) {\n      value = isBrowser ? window : undefined;\n    }\n\n    return value;\n  }),\n  eventOptions: function eventOptions(_temp) {\n    var _ref = _temp === void 0 ? {} : _temp,\n        _ref$passive = _ref.passive,\n        passive = _ref$passive === void 0 ? true : _ref$passive,\n        _ref$capture = _ref.capture,\n        capture = _ref$capture === void 0 ? false : _ref$capture;\n\n    return {\n      passive: passive,\n      capture: capture\n    };\n  },\n  transform: true\n};\n\nvar InternalDistanceAngleOptionsNormalizers = /*#__PURE__*/_extends({}, InternalGestureOptionsNormalizers, {\n  bounds: function bounds(_value, _key, _ref2) {\n    var _ref2$distanceBounds = _ref2.distanceBounds,\n        distanceBounds = _ref2$distanceBounds === void 0 ? {} : _ref2$distanceBounds,\n        _ref2$angleBounds = _ref2.angleBounds,\n        angleBounds = _ref2$angleBounds === void 0 ? {} : _ref2$angleBounds;\n\n    var _distanceBounds = function _distanceBounds(state) {\n      var D = assignDefault(valueFn(distanceBounds, state), {\n        min: -Infinity,\n        max: Infinity\n      });\n      return [D.min, D.max];\n    };\n\n    var _angleBounds = function _angleBounds(state) {\n      var A = assignDefault(valueFn(angleBounds, state), {\n        min: -Infinity,\n        max: Infinity\n      });\n      return [A.min, A.max];\n    };\n\n    if (typeof distanceBounds !== 'function' && typeof angleBounds !== 'function') return [_distanceBounds(), _angleBounds()];\n    return function (state) {\n      return [_distanceBounds(state), _angleBounds(state)];\n    };\n  }\n});\n\nvar InternalDragOptionsNormalizers = /*#__PURE__*/_extends({}, InternalCoordinatesOptionsNormalizers, {\n  useTouch: function useTouch(value) {\n    if (value === void 0) {\n      value = false;\n    }\n\n    var supportsTouch = supportsTouchEvents();\n    var supportsPointer = supportsPointerEvents();\n    if (value && supportsTouch) return true;\n    if (supportsTouch && !supportsPointer) return true;\n    return false;\n  },\n  experimental_preventWindowScrollY: function experimental_preventWindowScrollY(value) {\n    if (value === void 0) {\n      value = false;\n    }\n\n    return value;\n  },\n  threshold: function threshold(v, _k, _ref3) {\n    var _ref3$filterTaps = _ref3.filterTaps,\n        filterTaps = _ref3$filterTaps === void 0 ? false : _ref3$filterTaps,\n        _ref3$lockDirection = _ref3.lockDirection,\n        lockDirection = _ref3$lockDirection === void 0 ? false : _ref3$lockDirection,\n        _ref3$axis = _ref3.axis,\n        axis = _ref3$axis === void 0 ? undefined : _ref3$axis;\n    var A = ensureVector(v, filterTaps ? 3 : lockDirection ? 1 : axis ? 1 : 0);\n    this.filterTaps = filterTaps;\n    return A;\n  },\n  swipeVelocity: function swipeVelocity(v) {\n    if (v === void 0) {\n      v = DEFAULT_SWIPE_VELOCITY;\n    }\n\n    return ensureVector(v);\n  },\n  swipeDistance: function swipeDistance(v) {\n    if (v === void 0) {\n      v = DEFAULT_SWIPE_DISTANCE;\n    }\n\n    return ensureVector(v);\n  },\n  swipeDuration: function swipeDuration(value) {\n    if (value === void 0) {\n      value = DEFAULT_SWIPE_DURATION;\n    }\n\n    return value;\n  },\n  delay: function delay(value) {\n    if (value === void 0) {\n      value = 0;\n    }\n\n    switch (value) {\n      case true:\n        return DEFAULT_DRAG_DELAY;\n\n      case false:\n        return 0;\n\n      default:\n        return value;\n    }\n  }\n});\n\nfunction getInternalGenericOptions(config) {\n  if (config === void 0) {\n    config = {};\n  }\n\n  // TODO warn when passive is set to true and domTarget is undefined\n  return resolveWith(config, InternalGenericOptionsNormalizers);\n}\nfunction getInternalCoordinatesOptions(config) {\n  if (config === void 0) {\n    config = {};\n  }\n\n  return resolveWith(config, InternalCoordinatesOptionsNormalizers);\n}\nfunction getInternalDistanceAngleOptions(config) {\n  if (config === void 0) {\n    config = {};\n  }\n\n  return resolveWith(config, InternalDistanceAngleOptionsNormalizers);\n}\nfunction getInternalDragOptions(config) {\n  if (config === void 0) {\n    config = {};\n  }\n\n  return resolveWith(config, InternalDragOptionsNormalizers);\n}\n\nfunction _buildMoveConfig(_ref) {\n  var domTarget = _ref.domTarget,\n      eventOptions = _ref.eventOptions,\n      window = _ref.window,\n      enabled = _ref.enabled,\n      rest = _objectWithoutPropertiesLoose(_ref, [\"domTarget\", \"eventOptions\", \"window\", \"enabled\"]);\n\n  var opts = getInternalGenericOptions({\n    domTarget: domTarget,\n    eventOptions: eventOptions,\n    window: window,\n    enabled: enabled\n  });\n  opts.move = getInternalCoordinatesOptions(rest);\n  return opts;\n}\nfunction _buildHoverConfig(_ref2) {\n  var domTarget = _ref2.domTarget,\n      eventOptions = _ref2.eventOptions,\n      window = _ref2.window,\n      enabled = _ref2.enabled,\n      rest = _objectWithoutPropertiesLoose(_ref2, [\"domTarget\", \"eventOptions\", \"window\", \"enabled\"]);\n\n  var opts = getInternalGenericOptions({\n    domTarget: domTarget,\n    eventOptions: eventOptions,\n    window: window,\n    enabled: enabled\n  });\n  opts.hover = _extends({\n    enabled: true\n  }, rest);\n  return opts;\n}\nfunction _buildDragConfig(_ref3) {\n  var domTarget = _ref3.domTarget,\n      eventOptions = _ref3.eventOptions,\n      window = _ref3.window,\n      enabled = _ref3.enabled,\n      rest = _objectWithoutPropertiesLoose(_ref3, [\"domTarget\", \"eventOptions\", \"window\", \"enabled\"]);\n\n  var opts = getInternalGenericOptions({\n    domTarget: domTarget,\n    eventOptions: eventOptions,\n    window: window,\n    enabled: enabled\n  });\n  opts.drag = getInternalDragOptions(rest);\n  return opts;\n}\nfunction _buildPinchConfig(_ref4) {\n  var domTarget = _ref4.domTarget,\n      eventOptions = _ref4.eventOptions,\n      window = _ref4.window,\n      enabled = _ref4.enabled,\n      rest = _objectWithoutPropertiesLoose(_ref4, [\"domTarget\", \"eventOptions\", \"window\", \"enabled\"]);\n\n  var opts = getInternalGenericOptions({\n    domTarget: domTarget,\n    eventOptions: eventOptions,\n    window: window,\n    enabled: enabled\n  });\n  opts.pinch = getInternalDistanceAngleOptions(rest);\n  return opts;\n}\nfunction _buildScrollConfig(_ref5) {\n  var domTarget = _ref5.domTarget,\n      eventOptions = _ref5.eventOptions,\n      window = _ref5.window,\n      enabled = _ref5.enabled,\n      rest = _objectWithoutPropertiesLoose(_ref5, [\"domTarget\", \"eventOptions\", \"window\", \"enabled\"]);\n\n  var opts = getInternalGenericOptions({\n    domTarget: domTarget,\n    eventOptions: eventOptions,\n    window: window,\n    enabled: enabled\n  });\n  opts.scroll = getInternalCoordinatesOptions(rest);\n  return opts;\n}\nfunction _buildWheelConfig(_ref6) {\n  var domTarget = _ref6.domTarget,\n      eventOptions = _ref6.eventOptions,\n      window = _ref6.window,\n      enabled = _ref6.enabled,\n      rest = _objectWithoutPropertiesLoose(_ref6, [\"domTarget\", \"eventOptions\", \"window\", \"enabled\"]);\n\n  var opts = getInternalGenericOptions({\n    domTarget: domTarget,\n    eventOptions: eventOptions,\n    window: window,\n    enabled: enabled\n  });\n  opts.wheel = getInternalCoordinatesOptions(rest);\n  return opts;\n}\nfunction buildComplexConfig(config, actions) {\n  if (config === void 0) {\n    config = {};\n  }\n\n  if (actions === void 0) {\n    actions = new Set();\n  }\n\n  var _config = config,\n      drag = _config.drag,\n      wheel = _config.wheel,\n      move = _config.move,\n      scroll = _config.scroll,\n      pinch = _config.pinch,\n      hover = _config.hover,\n      eventOptions = _config.eventOptions,\n      window = _config.window,\n      transform = _config.transform,\n      domTarget = _config.domTarget,\n      enabled = _config.enabled;\n  var mergedConfig = getInternalGenericOptions({\n    domTarget: domTarget,\n    eventOptions: eventOptions,\n    transform: transform,\n    window: window,\n    enabled: enabled\n  });\n  if (actions.has('onDrag')) mergedConfig.drag = getInternalDragOptions(drag);\n  if (actions.has('onWheel')) mergedConfig.wheel = getInternalCoordinatesOptions(wheel);\n  if (actions.has('onScroll')) mergedConfig.scroll = getInternalCoordinatesOptions(scroll);\n  if (actions.has('onMove')) mergedConfig.move = getInternalCoordinatesOptions(move);\n  if (actions.has('onPinch')) mergedConfig.pinch = getInternalDistanceAngleOptions(pinch);\n  if (actions.has('onHover')) mergedConfig.hover = _extends({\n    enabled: true\n  }, hover);\n  return mergedConfig;\n}\n\nfunction getInitial(mixed) {\n  return _extends({\n    _active: false,\n    _blocked: false,\n    _intentional: [false, false],\n    _movement: [0, 0],\n    _initial: [0, 0],\n    _bounds: [[-Infinity, Infinity], [-Infinity, Infinity]],\n    _threshold: [0, 0],\n    _lastEventType: undefined,\n    _dragStarted: false,\n    _dragPreventScroll: false,\n    _dragIsTap: true,\n    _dragDelayed: false,\n    event: undefined,\n    intentional: false,\n    values: [0, 0],\n    velocities: [0, 0],\n    delta: [0, 0],\n    movement: [0, 0],\n    offset: [0, 0],\n    lastOffset: [0, 0],\n    direction: [0, 0],\n    initial: [0, 0],\n    previous: [0, 0],\n    first: false,\n    last: false,\n    active: false,\n    timeStamp: 0,\n    startTime: 0,\n    elapsedTime: 0,\n    cancel: noop,\n    canceled: false,\n    memo: undefined,\n    args: undefined\n  }, mixed);\n}\n\nfunction getInitialState() {\n  var shared = {\n    hovering: false,\n    scrolling: false,\n    wheeling: false,\n    dragging: false,\n    moving: false,\n    pinching: false,\n    touches: 0,\n    buttons: 0,\n    down: false,\n    shiftKey: false,\n    altKey: false,\n    metaKey: false,\n    ctrlKey: false,\n    locked: false\n  };\n  var drag = getInitial({\n    _pointerId: undefined,\n    axis: undefined,\n    xy: [0, 0],\n    vxvy: [0, 0],\n    velocity: 0,\n    distance: 0,\n    tap: false,\n    swipe: [0, 0]\n  });\n  var pinch = getInitial({\n    // @ts-expect-error when used _pointerIds we can assert its type will be [number, number]\n    _pointerIds: [],\n    da: [0, 0],\n    vdva: [0, 0],\n    // @ts-expect-error origin can never be passed as undefined in userland\n    origin: undefined,\n    turns: 0\n  });\n  var wheel = getInitial({\n    axis: undefined,\n    xy: [0, 0],\n    vxvy: [0, 0],\n    velocity: 0,\n    distance: 0\n  });\n  var move = getInitial({\n    axis: undefined,\n    xy: [0, 0],\n    vxvy: [0, 0],\n    velocity: 0,\n    distance: 0\n  });\n  var scroll = getInitial({\n    axis: undefined,\n    xy: [0, 0],\n    vxvy: [0, 0],\n    velocity: 0,\n    distance: 0\n  });\n  return {\n    shared: shared,\n    drag: drag,\n    pinch: pinch,\n    wheel: wheel,\n    move: move,\n    scroll: scroll\n  };\n}\n\nvar RecognizersMap = /*#__PURE__*/new Map();\n\nvar identity$1 = function identity(xy) {\n  return xy;\n};\n/**\r\n * @private\r\n * Recognizer abstract class.\r\n */\n\n\nvar Recognizer = /*#__PURE__*/function () {\n  /**\r\n   * Creates an instance of a gesture recognizer.\r\n   * @param stateKey drag, move, pinch, etc.\r\n   * @param controller the controller attached to the gesture\r\n   * @param [args] the args that should be passed to the gesture handler\r\n   */\n  function Recognizer(controller, args) {\n    var _this = this;\n\n    if (args === void 0) {\n      args = [];\n    }\n\n    this.controller = controller;\n    this.args = args;\n    this.debounced = true; // Convenience method to set a timeout for a given gesture\n\n    this.setTimeout = function (callback, ms) {\n      var _window;\n\n      if (ms === void 0) {\n        ms = 140;\n      }\n\n      clearTimeout(_this.controller.timeouts[_this.stateKey]);\n\n      for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n        args[_key - 2] = arguments[_key];\n      }\n\n      _this.controller.timeouts[_this.stateKey] = (_window = window).setTimeout.apply(_window, [callback, ms].concat(args));\n    }; // Convenience method to clear a timeout for a given gesture\n\n\n    this.clearTimeout = function () {\n      clearTimeout(_this.controller.timeouts[_this.stateKey]);\n    };\n    /**\r\n     * Fires the gesture handler\r\n     */\n\n\n    this.fireGestureHandler = function (forceFlag) {\n      if (forceFlag === void 0) {\n        forceFlag = false;\n      }\n\n      /**\r\n       * If the gesture has been blocked (this can happen when the gesture has started in an unwanted direction),\r\n       * clean everything and don't do anything.\r\n       */\n      if (_this.state._blocked) {\n        // we need debounced gestures to end by themselves\n        if (!_this.debounced) {\n          _this.state._active = false;\n\n          _this.clean();\n        }\n\n        return null;\n      } // If the gesture has no intentional dimension, don't fire the handler.\n\n\n      if (!forceFlag && !_this.state.intentional && !_this.config.triggerAllEvents) return null;\n\n      if (_this.state.intentional) {\n        var prev_active = _this.state.active;\n        var next_active = _this.state._active;\n        _this.state.active = next_active;\n        _this.state.first = next_active && !prev_active;\n        _this.state.last = prev_active && !next_active;\n        _this.controller.state.shared[_this.ingKey] = next_active; // Sets dragging, pinching, etc. to the gesture active state\n      }\n\n      var touches = _this.controller.pointerIds.size || _this.controller.touchIds.size;\n      var down = _this.controller.state.shared.buttons > 0 || touches > 0;\n\n      var state = _extends({}, _this.controller.state.shared, _this.state, _this.mapStateValues(_this.state), {\n        locked: !!document.pointerLockElement,\n        touches: touches,\n        down: down\n      }); // @ts-expect-error\n\n\n      var newMemo = _this.handler(state); // Sets memo to the returned value of the handler (unless it's not undefined)\n\n\n      _this.state.memo = newMemo !== void 0 ? newMemo : _this.state.memo;\n      return state;\n    };\n\n    this.controller = controller;\n    this.args = args;\n  } // Returns the gesture config\n\n\n  var _proto = Recognizer.prototype;\n\n  // Convenience method to update the shared state\n  _proto.updateSharedState = function updateSharedState(sharedState) {\n    Object.assign(this.controller.state.shared, sharedState);\n  } // Convenience method to update the gesture state\n  ;\n\n  _proto.updateGestureState = function updateGestureState(gestureState) {\n    Object.assign(this.state, gestureState);\n  }\n  /**\r\n   * Returns state properties depending on the movement and state.\r\n   *\r\n   * Should be overriden for custom behavior, doesn't do anything in the implementation\r\n   * below.\r\n   */\n  ;\n\n  _proto.checkIntentionality = function checkIntentionality(_intentional, _movement) {\n    return {\n      _intentional: _intentional,\n      _blocked: false\n    };\n  }\n  /**\r\n   * Returns basic movement properties for the gesture based on the next values and current state.\r\n   */\n  ;\n\n  _proto.getMovement = function getMovement(values) {\n    var rubberband = this.config.rubberband;\n    var _this$state = this.state,\n        _bounds = _this$state._bounds,\n        _initial = _this$state._initial,\n        _active = _this$state._active,\n        wasIntentional = _this$state._intentional,\n        lastOffset = _this$state.lastOffset,\n        prevMovement = _this$state.movement,\n        _T = _this$state._threshold;\n    var M = this.getInternalMovement(values, this.state);\n    var i0 = wasIntentional[0] === false ? getIntentionalDisplacement(M[0], _T[0]) : wasIntentional[0];\n    var i1 = wasIntentional[1] === false ? getIntentionalDisplacement(M[1], _T[1]) : wasIntentional[1]; // Get gesture specific state properties based on intentionality and movement.\n\n    var intentionalityCheck = this.checkIntentionality([i0, i1], M);\n\n    if (intentionalityCheck._blocked) {\n      return _extends({}, intentionalityCheck, {\n        _movement: M,\n        delta: [0, 0]\n      });\n    }\n\n    var _intentional = intentionalityCheck._intentional;\n    var _movement = M;\n    /**\r\n     * The movement sent to the handler has 0 in its dimensions when intentionality is false.\r\n     * It is calculated from the actual movement minus the threshold.\r\n     */\n\n    var movement = [_intentional[0] !== false ? M[0] - _intentional[0] : 0, _intentional[1] !== false ? M[1] - _intentional[1] : 0];\n    var offset = addV(movement, lastOffset);\n    /**\r\n     * Rubberband should be 0 when the gesture is no longer active, so that movement\r\n     * and offset can return within their bounds.\r\n     */\n\n    var _rubberband = _active ? rubberband : [0, 0];\n\n    movement = computeRubberband(_bounds, addV(movement, _initial), _rubberband);\n    return _extends({}, intentionalityCheck, {\n      intentional: _intentional[0] !== false || _intentional[1] !== false,\n      _initial: _initial,\n      _movement: _movement,\n      movement: movement,\n      values: values,\n      offset: computeRubberband(_bounds, offset, _rubberband),\n      delta: subV(movement, prevMovement)\n    });\n  } // Cleans the gesture. Can be overriden by gestures.\n  ;\n\n  _proto.clean = function clean() {\n    this.clearTimeout();\n  };\n\n  _createClass(Recognizer, [{\n    key: \"config\",\n    get: function get() {\n      return this.controller.config[this.stateKey];\n    } // Is the gesture enabled\n\n  }, {\n    key: \"enabled\",\n    get: function get() {\n      return this.controller.config.enabled && this.config.enabled;\n    } // Returns the controller state for a given gesture\n\n  }, {\n    key: \"state\",\n    get: function get() {\n      return this.controller.state[this.stateKey];\n    } // Returns the gesture handler\n\n  }, {\n    key: \"handler\",\n    get: function get() {\n      return this.controller.handlers[this.stateKey];\n    }\n  }, {\n    key: \"transform\",\n    get: function get() {\n      return this.config.transform || this.controller.config.transform || identity$1;\n    }\n  }]);\n\n  return Recognizer;\n}(); //--------------------------------------------\n\nfunction getIntentionalDisplacement(movement, threshold) {\n  if (Math.abs(movement) >= threshold) {\n    return sign(movement) * threshold;\n  } else {\n    return false;\n  }\n}\n\nfunction computeRubberband(bounds, _ref, _ref2) {\n  var Vx = _ref[0],\n      Vy = _ref[1];\n  var Rx = _ref2[0],\n      Ry = _ref2[1];\n  var _bounds$ = bounds[0],\n      X1 = _bounds$[0],\n      X2 = _bounds$[1],\n      _bounds$2 = bounds[1],\n      Y1 = _bounds$2[0],\n      Y2 = _bounds$2[1];\n  return [rubberbandIfOutOfBounds(Vx, X1, X2, Rx), rubberbandIfOutOfBounds(Vy, Y1, Y2, Ry)];\n}\n/**\r\n * Returns a generic, common payload for all gestures from an event.\r\n */\n\n\nfunction getGenericPayload(_ref3, event, isStartEvent) {\n  var state = _ref3.state;\n  var timeStamp = event.timeStamp,\n      _lastEventType = event.type;\n  var previous = state.values;\n  var elapsedTime = isStartEvent ? 0 : timeStamp - state.startTime;\n  return {\n    _lastEventType: _lastEventType,\n    event: event,\n    timeStamp: timeStamp,\n    elapsedTime: elapsedTime,\n    previous: previous\n  };\n}\n/**\r\n * Returns the reinitialized start state for the gesture.\r\n * Should be common to all gestures.\r\n */\n\nfunction getStartGestureState(_ref4, values, event, initial) {\n  var state = _ref4.state,\n      config = _ref4.config,\n      stateKey = _ref4.stateKey,\n      args = _ref4.args,\n      transform = _ref4.transform;\n  var offset = state.offset;\n  var startTime = event.timeStamp;\n  var initialFn = config.initial,\n      bounds = config.bounds,\n      threshold = config.threshold; // the _threshold is the difference between a [0,0] offset converted to\n  // its new space coordinates\n\n  var _threshold = subV(transform(threshold), transform([0, 0])).map(Math.abs);\n\n  var _state = _extends({}, getInitialState()[stateKey], {\n    _active: true,\n    args: args,\n    values: values,\n    initial: initial != null ? initial : values,\n    _threshold: _threshold,\n    offset: offset,\n    lastOffset: offset,\n    startTime: startTime\n  });\n\n  return _extends({}, _state, {\n    _initial: valueFn(initialFn, _state),\n    _bounds: valueFn(bounds, _state)\n  });\n}\n\n/**\r\n * The controller will keep track of the state for all gestures and also keep\r\n * track of timeouts, and window listeners.\r\n */\n\nvar Controller = function Controller(classes) {\n  var _this = this;\n\n  this.classes = classes;\n  this.pointerIds = new Set(); // register Pointer Events pointerIds\n\n  this.touchIds = new Set(); // register Touch Events identifiers\n\n  this.supportsTouchEvents = supportsTouchEvents();\n  this.supportsGestureEvents = supportsGestureEvents();\n\n  this.bind = function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var bindings = {};\n\n    for (var _iterator = _createForOfIteratorHelperLoose(_this.classes), _step; !(_step = _iterator()).done;) {\n      var RecognizerClass = _step.value;\n      new RecognizerClass(_this, args).addBindings(bindings);\n    } // // we also add event bindings for native handlers\n\n\n    var _loop = function _loop(eventKey) {\n      addBindings(bindings, eventKey, function (event) {\n        return _this.nativeRefs[eventKey](_extends({}, _this.state.shared, {\n          event: event,\n          args: args\n        }));\n      });\n    };\n\n    for (var eventKey in _this.nativeRefs) {\n      _loop(eventKey);\n    }\n\n    if (_this.config.domTarget) {\n      // If config.domTarget is set we add event listeners to it and return the clean function.\n      return updateDomListeners(_this, bindings);\n    } else {\n      // If not, we return an object that contains gesture handlers mapped to react handler event keys.\n      return getPropsListener(_this, bindings);\n    }\n  };\n\n  this.effect = function () {\n    if (_this.config.domTarget) _this.bind();\n    return _this.clean;\n  };\n  /**\r\n   * Function ran on component unmount: cleans timeouts and removes dom listeners set by the bind function.\r\n   */\n\n\n  this.clean = function () {\n    var domTarget = getDomTargetFromConfig(_this.config);\n    var eventOptions = _this.config.eventOptions;\n    if (domTarget) removeListeners(domTarget, takeAll(_this.domListeners), eventOptions);\n    Object.values(_this.timeouts).forEach(clearTimeout);\n    clearAllWindowListeners(_this);\n  };\n\n  this.classes = classes;\n  this.state = getInitialState();\n  this.timeouts = {};\n  this.domListeners = [];\n  this.windowListeners = {};\n};\nfunction addEventIds(controller, event) {\n  if ('pointerId' in event) {\n    controller.pointerIds.add(event.pointerId);\n  } else {\n    controller.touchIds = new Set(getTouchIds(event));\n  }\n}\nfunction removeEventIds(controller, event) {\n  if ('pointerId' in event) {\n    controller.pointerIds[\"delete\"](event.pointerId);\n  } else {\n    getTouchIds(event).forEach(function (id) {\n      return controller.touchIds[\"delete\"](id);\n    });\n  }\n}\nfunction clearAllWindowListeners(controller) {\n  var _controller$config = controller.config,\n      el = _controller$config.window,\n      eventOptions = _controller$config.eventOptions,\n      windowListeners = controller.windowListeners;\n  if (!el) return;\n\n  for (var stateKey in windowListeners) {\n    var handlers = windowListeners[stateKey];\n    removeListeners(el, handlers, eventOptions);\n  }\n\n  controller.windowListeners = {};\n}\nfunction clearWindowListeners(_ref, stateKey, options) {\n  var config = _ref.config,\n      windowListeners = _ref.windowListeners;\n\n  if (options === void 0) {\n    options = config.eventOptions;\n  }\n\n  if (!config.window) return;\n  removeListeners(config.window, windowListeners[stateKey], options);\n  delete windowListeners[stateKey];\n}\nfunction updateWindowListeners(_ref2, stateKey, listeners, options) {\n  var config = _ref2.config,\n      windowListeners = _ref2.windowListeners;\n\n  if (listeners === void 0) {\n    listeners = [];\n  }\n\n  if (options === void 0) {\n    options = config.eventOptions;\n  }\n\n  if (!config.window) return;\n  removeListeners(config.window, windowListeners[stateKey], options);\n  addListeners(config.window, windowListeners[stateKey] = listeners, options);\n}\n\nfunction updateDomListeners(_ref3, bindings) {\n  var config = _ref3.config,\n      domListeners = _ref3.domListeners;\n  var domTarget = getDomTargetFromConfig(config);\n  if (!domTarget) throw new Error('domTarget must be defined');\n  var eventOptions = config.eventOptions;\n  removeListeners(domTarget, takeAll(domListeners), eventOptions);\n\n  for (var _i = 0, _Object$entries = Object.entries(bindings); _i < _Object$entries.length; _i++) {\n    var _Object$entries$_i = _Object$entries[_i],\n        key = _Object$entries$_i[0],\n        fns = _Object$entries$_i[1];\n    var name = key.slice(2).toLowerCase();\n    domListeners.push([name, chainFns.apply(void 0, fns)]);\n  }\n\n  addListeners(domTarget, domListeners, eventOptions);\n}\n\nfunction getPropsListener(_ref4, bindings) {\n  var config = _ref4.config;\n  var props = {};\n  var captureString = config.eventOptions.capture ? 'Capture' : '';\n\n  for (var _i2 = 0, _Object$entries2 = Object.entries(bindings); _i2 < _Object$entries2.length; _i2++) {\n    var _Object$entries2$_i = _Object$entries2[_i2],\n        event = _Object$entries2$_i[0],\n        fns = _Object$entries2$_i[1];\n    var fnsArray = Array.isArray(fns) ? fns : [fns];\n    var key = event + captureString;\n    props[key] = chainFns.apply(void 0, fnsArray);\n  }\n\n  return props;\n}\n\nfunction takeAll(array) {\n  if (array === void 0) {\n    array = [];\n  }\n\n  return array.splice(0, array.length);\n}\n\nfunction getDomTargetFromConfig(_ref5) {\n  var domTarget = _ref5.domTarget;\n  return domTarget && 'current' in domTarget ? domTarget.current : domTarget;\n}\n/**\r\n * bindings is an object which keys match ReactEventHandlerKeys.\r\n * Since a recognizer might want to bind a handler function to an event key already used by a previously\r\n * added recognizer, we need to make sure that each event key is an array of all the functions mapped for\r\n * that key.\r\n */\n\n\nfunction addBindings(bindings, name, fn) {\n  if (!bindings[name]) bindings[name] = [];\n  bindings[name].push(fn);\n}\n\nfunction addListeners(el, listeners, options) {\n  if (listeners === void 0) {\n    listeners = [];\n  }\n\n  if (options === void 0) {\n    options = {};\n  }\n\n  for (var _iterator2 = _createForOfIteratorHelperLoose(listeners), _step2; !(_step2 = _iterator2()).done;) {\n    var _step2$value = _step2.value,\n        eventName = _step2$value[0],\n        eventHandler = _step2$value[1];\n    el.addEventListener(eventName, eventHandler, options);\n  }\n}\n\nfunction removeListeners(el, listeners, options) {\n  if (listeners === void 0) {\n    listeners = [];\n  }\n\n  if (options === void 0) {\n    options = {};\n  }\n\n  for (var _iterator3 = _createForOfIteratorHelperLoose(listeners), _step3; !(_step3 = _iterator3()).done;) {\n    var _step3$value = _step3.value,\n        eventName = _step3$value[0],\n        eventHandler = _step3$value[1];\n    el.removeEventListener(eventName, eventHandler, options);\n  }\n}\n\n/* eslint-disable react-hooks/exhaustive-deps */\n/**\r\n * Utility hook called by all gesture hooks and that will be responsible for the internals.\r\n *\r\n * @param handlers\r\n * @param classes\r\n * @param config\r\n * @param nativeHandlers - native handlers such as onClick, onMouseDown, etc.\r\n */\n\nfunction useRecognizers(handlers, config, nativeHandlers) {\n  if (nativeHandlers === void 0) {\n    nativeHandlers = {};\n  }\n\n  var classes = resolveClasses(handlers);\n  var controller = React.useMemo(function () {\n    return new Controller(classes);\n  }, []);\n  controller.config = config;\n  controller.handlers = handlers;\n  controller.nativeRefs = nativeHandlers;\n  React.useEffect(controller.effect, []); // @ts-ignore\n\n  if (controller.config.domTarget) return deprecationNoticeForDomTarget; // @ts-ignore\n\n  return controller.bind;\n}\n\nfunction deprecationNoticeForDomTarget() {\n  if (process.env.NODE_ENV === 'development') {\n    // eslint-disable-next-line no-console\n    console.warn(\"Deprecation notice: When the `domTarget` option is specified, you don't need to write `useEffect(bind, [bind])` anymore: event binding is now made handled internally to this lib.\\n\\nNext version won't return anything when `domTarget` is provided, therefore your code will break if you try to call `useEffect`.\");\n  }\n}\n\nfunction resolveClasses(internalHandlers) {\n  var classes = new Set();\n  if (internalHandlers.drag) classes.add(RecognizersMap.get('drag'));\n  if (internalHandlers.wheel) classes.add(RecognizersMap.get('wheel'));\n  if (internalHandlers.scroll) classes.add(RecognizersMap.get('scroll'));\n  if (internalHandlers.move) classes.add(RecognizersMap.get('move'));\n  if (internalHandlers.pinch) classes.add(RecognizersMap.get('pinch'));\n  if (internalHandlers.hover) classes.add(RecognizersMap.get('hover'));\n  return classes;\n}\n\n/**\r\n * @private\r\n * Abstract class for coordinates-based gesture recongizers\r\n */\n\nvar CoordinatesRecognizer = /*#__PURE__*/function (_Recognizer) {\n  _inheritsLoose(CoordinatesRecognizer, _Recognizer);\n\n  function CoordinatesRecognizer() {\n    return _Recognizer.apply(this, arguments) || this;\n  }\n\n  var _proto = CoordinatesRecognizer.prototype;\n\n  /**\r\n   * Returns the real movement (without taking intentionality into account)\r\n   */\n  _proto.getInternalMovement = function getInternalMovement(values, state) {\n    return subV(values, state.initial);\n  }\n  /**\r\n   * In coordinates-based gesture, this function will detect the first intentional axis,\r\n   * lock the gesture axis if lockDirection is specified in the config, block the gesture\r\n   * if the first intentional axis doesn't match the specified axis in config.\r\n   */\n  ;\n\n  _proto.checkIntentionality = function checkIntentionality(_intentional, _movement) {\n    if (_intentional[0] === false && _intentional[1] === false) {\n      return {\n        _intentional: _intentional,\n        axis: this.state.axis\n      };\n    }\n\n    var _movement$map = _movement.map(Math.abs),\n        absX = _movement$map[0],\n        absY = _movement$map[1];\n\n    var axis = this.state.axis || (absX > absY ? 'x' : absX < absY ? 'y' : undefined);\n    if (!this.config.axis && !this.config.lockDirection) return {\n      _intentional: _intentional,\n      _blocked: false,\n      axis: axis\n    };\n    if (!axis) return {\n      _intentional: [false, false],\n      _blocked: false,\n      axis: axis\n    };\n    if (!!this.config.axis && axis !== this.config.axis) return {\n      _intentional: _intentional,\n      _blocked: true,\n      axis: axis\n    };\n    _intentional[axis === 'x' ? 1 : 0] = false;\n    return {\n      _intentional: _intentional,\n      _blocked: false,\n      axis: axis\n    };\n  };\n\n  _proto.getKinematics = function getKinematics(values, event) {\n    var state = this.getMovement(values);\n\n    if (!state._blocked) {\n      var dt = event.timeStamp - this.state.timeStamp;\n      Object.assign(state, calculateAllKinematics(state.movement, state.delta, dt));\n    }\n\n    return state;\n  };\n\n  _proto.mapStateValues = function mapStateValues(state) {\n    return {\n      xy: state.values,\n      vxvy: state.velocities\n    };\n  };\n\n  return CoordinatesRecognizer;\n}(Recognizer);\n\nvar TAP_DISTANCE_THRESHOLD = 3;\n\nfunction persistEvent(event) {\n  'persist' in event && typeof event.persist === 'function' && event.persist();\n}\n\nvar DragRecognizer = /*#__PURE__*/function (_CoordinatesRecognize) {\n  _inheritsLoose(DragRecognizer, _CoordinatesRecognize);\n\n  function DragRecognizer() {\n    var _this;\n\n    _this = _CoordinatesRecognize.apply(this, arguments) || this;\n    _this.ingKey = 'dragging';\n    _this.stateKey = 'drag'; // TODO add back when setPointerCapture is widely wupported\n    // https://caniuse.com/#search=setPointerCapture\n\n    _this.setPointerCapture = function (event) {\n      // don't perform pointere capture when user wants to use touch events or\n      // when a pointerLockElement exists as this would throw an error\n      if (_this.config.useTouch || document.pointerLockElement) return;\n      var target = event.target,\n          pointerId = event.pointerId;\n\n      if (target && 'setPointerCapture' in target) {\n        // this would work in the DOM but doesn't with react three fiber\n        // target.addEventListener('pointermove', this.onDragChange, this.controller.config.eventOptions)\n        // @ts-expect-error\n        target.setPointerCapture(pointerId);\n      }\n\n      _this.updateGestureState({\n        _dragTarget: target,\n        _dragPointerId: pointerId\n      });\n    };\n\n    _this.releasePointerCapture = function () {\n      if (_this.config.useTouch || document.pointerLockElement) return;\n      var _this$state = _this.state,\n          _dragTarget = _this$state._dragTarget,\n          _dragPointerId = _this$state._dragPointerId;\n\n      if (_dragPointerId && _dragTarget && 'releasePointerCapture' in _dragTarget) {\n        // this would work in the DOM but doesn't with react three fiber\n        // target.removeEventListener('pointermove', this.onDragChange, this.controller.config.eventOptions)\n        if (!('hasPointerCapture' in _dragTarget) || _dragTarget.hasPointerCapture(_dragPointerId)) try {\n          _dragTarget.releasePointerCapture(_dragPointerId);\n        } catch (e) {}\n      }\n    };\n\n    _this.preventScroll = function (event) {\n      if (_this.state._dragPreventScroll && event.cancelable) {\n        event.preventDefault();\n      }\n    };\n\n    _this.getEventId = function (event) {\n      if (_this.config.useTouch) return event.changedTouches[0].identifier;\n      return event.pointerId;\n    };\n\n    _this.isValidEvent = function (event) {\n      // if we were using pointer events only event.isPrimary === 1 would suffice\n      return _this.state._pointerId === _this.getEventId(event);\n    };\n\n    _this.shouldPreventWindowScrollY = _this.config.experimental_preventWindowScrollY && _this.controller.supportsTouchEvents;\n\n    _this.setUpWindowScrollDetection = function (event) {\n      persistEvent(event); // we add window listeners that will prevent the scroll when the user has started dragging\n\n      updateWindowListeners(_this.controller, _this.stateKey, [['touchmove', _this.preventScroll], ['touchend', _this.clean.bind(_assertThisInitialized(_this))], ['touchcancel', _this.clean.bind(_assertThisInitialized(_this))]], {\n        passive: false\n      });\n\n      _this.setTimeout(_this.startDrag.bind(_assertThisInitialized(_this)), 250, event);\n    };\n\n    _this.setUpDelayedDragTrigger = function (event) {\n      _this.state._dragDelayed = true;\n      persistEvent(event);\n\n      _this.setTimeout(_this.startDrag.bind(_assertThisInitialized(_this)), _this.config.delay, event);\n    };\n\n    _this.setStartState = function (event) {\n      var values = getPointerEventValues(event, _this.transform);\n\n      _this.updateSharedState(getGenericEventData(event));\n\n      _this.updateGestureState(_extends({}, getStartGestureState(_assertThisInitialized(_this), values, event), getGenericPayload(_assertThisInitialized(_this), event, true), {\n        _pointerId: _this.getEventId(event)\n      }));\n\n      _this.updateGestureState(_this.getMovement(values));\n    };\n\n    _this.onDragStart = function (event) {\n      addEventIds(_this.controller, event);\n      if (!_this.enabled || _this.state._active) return;\n\n      _this.setStartState(event);\n\n      _this.setPointerCapture(event);\n\n      if (_this.shouldPreventWindowScrollY) _this.setUpWindowScrollDetection(event);else if (_this.config.delay > 0) _this.setUpDelayedDragTrigger(event);else _this.startDrag(event, true); // we pass the values to the startDrag event\n    };\n\n    _this.onDragChange = function (event) {\n      if ( // if the gesture was canceled or\n      _this.state.canceled || // if onDragStart wasn't fired or\n      !_this.state._active || // if the event pointerId doesn't match the one that initiated the drag\n      !_this.isValidEvent(event) || // if the event has the same timestamp as the previous event\n      // note that checking type equality is ONLY for tests \\_()_/\n      _this.state._lastEventType === event.type && event.timeStamp === _this.state.timeStamp) return;\n      var values;\n\n      if (document.pointerLockElement) {\n        var movementX = event.movementX,\n            movementY = event.movementY;\n        values = addV(_this.transform([movementX, movementY]), _this.state.values);\n      } else values = getPointerEventValues(event, _this.transform);\n\n      var kinematics = _this.getKinematics(values, event); // if startDrag hasn't fired\n\n\n      if (!_this.state._dragStarted) {\n        // If the gesture isn't active then respond to the event only if\n        // it's been delayed via the `delay` option, in which case start\n        // the gesture immediately.\n        if (_this.state._dragDelayed) {\n          _this.startDrag(event);\n\n          return;\n        } // if the user wants to prevent vertical window scroll when user starts dragging\n\n\n        if (_this.shouldPreventWindowScrollY) {\n          if (!_this.state._dragPreventScroll && kinematics.axis) {\n            // if the user is dragging horizontally then we should allow the drag\n            if (kinematics.axis === 'x') {\n              _this.startDrag(event);\n            } else {\n              _this.state._active = false;\n              return;\n            }\n          } else return;\n        } else return;\n      }\n\n      var genericEventData = getGenericEventData(event);\n\n      _this.updateSharedState(genericEventData);\n\n      var genericPayload = getGenericPayload(_assertThisInitialized(_this), event); // This verifies if the drag can be assimilated to a tap by checking\n      // if the real distance of the drag (ie not accounting for the threshold) is\n      // greater than the TAP_DISTANCE_THRESHOLD.\n\n      var realDistance = calculateDistance(kinematics._movement);\n      var _dragIsTap = _this.state._dragIsTap;\n      if (_dragIsTap && realDistance >= TAP_DISTANCE_THRESHOLD) _dragIsTap = false;\n\n      _this.updateGestureState(_extends({}, genericPayload, kinematics, {\n        _dragIsTap: _dragIsTap\n      }));\n\n      _this.fireGestureHandler();\n    };\n\n    _this.onDragEnd = function (event) {\n      removeEventIds(_this.controller, event); // if the event pointerId doesn't match the one that initiated the drag\n      // we don't want to end the drag\n\n      if (!_this.isValidEvent(event)) return;\n\n      _this.clean(); // if the gesture is no longer active (ie canceled)\n      // don't do anything\n\n\n      if (!_this.state._active) return;\n      _this.state._active = false;\n      var tap = _this.state._dragIsTap;\n      var _this$state$velocitie = _this.state.velocities,\n          vx = _this$state$velocitie[0],\n          vy = _this$state$velocitie[1];\n      var _this$state$movement = _this.state.movement,\n          mx = _this$state$movement[0],\n          my = _this$state$movement[1];\n      var _this$state$_intentio = _this.state._intentional,\n          ix = _this$state$_intentio[0],\n          iy = _this$state$_intentio[1];\n      var _this$config$swipeVel = _this.config.swipeVelocity,\n          svx = _this$config$swipeVel[0],\n          svy = _this$config$swipeVel[1];\n      var _this$config$swipeDis = _this.config.swipeDistance,\n          sx = _this$config$swipeDis[0],\n          sy = _this$config$swipeDis[1];\n      var sd = _this.config.swipeDuration;\n\n      var endState = _extends({}, getGenericPayload(_assertThisInitialized(_this), event), _this.getMovement(_this.state.values));\n\n      var swipe = [0, 0];\n\n      if (endState.elapsedTime < sd) {\n        if (ix !== false && Math.abs(vx) > svx && Math.abs(mx) > sx) swipe[0] = sign(vx);\n        if (iy !== false && Math.abs(vy) > svy && Math.abs(my) > sy) swipe[1] = sign(vy);\n      }\n\n      _this.updateSharedState({\n        buttons: 0\n      });\n\n      _this.updateGestureState(_extends({}, endState, {\n        tap: tap,\n        swipe: swipe\n      }));\n\n      _this.fireGestureHandler(_this.config.filterTaps && tap === true);\n    };\n\n    _this.clean = function () {\n      _CoordinatesRecognize.prototype.clean.call(_assertThisInitialized(_this));\n\n      _this.state._dragStarted = false;\n\n      _this.releasePointerCapture();\n\n      clearWindowListeners(_this.controller, _this.stateKey);\n    };\n\n    _this.onCancel = function () {\n      if (_this.state.canceled) return;\n\n      _this.updateGestureState({\n        canceled: true,\n        _active: false\n      });\n\n      _this.updateSharedState({\n        buttons: 0\n      });\n\n      setTimeout(function () {\n        return _this.fireGestureHandler();\n      }, 0);\n    };\n\n    _this.onClick = function (event) {\n      if (!_this.state._dragIsTap) event.stopPropagation();\n    };\n\n    return _this;\n  }\n\n  var _proto = DragRecognizer.prototype;\n\n  _proto.startDrag = function startDrag(event, onDragIsStart) {\n    if (onDragIsStart === void 0) {\n      onDragIsStart = false;\n    }\n\n    // startDrag can happen after a timeout, so we need to check if the gesture is still active\n    // as the user might have lift up the pointer in between.\n    if ( // if the gesture isn't active (probably means)\n    !this.state._active || // if the drag has already started we should ignore subsequent attempts\n    this.state._dragStarted) return;\n    if (!onDragIsStart) this.setStartState(event);\n    this.updateGestureState({\n      _dragStarted: true,\n      _dragPreventScroll: true,\n      cancel: this.onCancel\n    });\n    this.clearTimeout();\n    this.fireGestureHandler();\n  };\n\n  _proto.addBindings = function addBindings$1(bindings) {\n    if (this.config.useTouch) {\n      addBindings(bindings, 'onTouchStart', this.onDragStart);\n\n      addBindings(bindings, 'onTouchMove', this.onDragChange); // this is needed for react-three-fiber\n\n\n      addBindings(bindings, 'onTouchEnd', this.onDragEnd);\n\n      addBindings(bindings, 'onTouchCancel', this.onDragEnd);\n    } else {\n      addBindings(bindings, 'onPointerDown', this.onDragStart);\n\n      addBindings(bindings, 'onPointerMove', this.onDragChange); // this is needed for react-three-fiber\n\n\n      addBindings(bindings, 'onPointerUp', this.onDragEnd);\n\n      addBindings(bindings, 'onPointerCancel', this.onDragEnd);\n    }\n\n    if (this.config.filterTaps) {\n      var handler = this.controller.config.eventOptions.capture ? 'onClick' : 'onClickCapture';\n\n      addBindings(bindings, handler, this.onClick);\n    }\n  };\n\n  return DragRecognizer;\n}(CoordinatesRecognizer);\n\n/**\r\n * Inlined from https://github.com/alexreardon/memoize-one\r\n */\nfunction memoizeOne(resultFn, isEqual) {\n  var lastThis;\n  var lastArgs = [];\n  var lastResult;\n  var calledOnce = false;\n\n  function memoized() {\n    for (var _len = arguments.length, newArgs = new Array(_len), _key = 0; _key < _len; _key++) {\n      newArgs[_key] = arguments[_key];\n    }\n\n    if (calledOnce && lastThis === this && isEqual(newArgs, lastArgs)) {\n      return lastResult;\n    }\n\n    lastResult = resultFn.apply(this, newArgs);\n    calledOnce = true;\n    lastThis = this;\n    lastArgs = newArgs;\n    return lastResult;\n  }\n\n  return memoized;\n}\n\n/**\r\n * Taken from https://github.com/FormidableLabs/react-fast-compare\r\n *\r\n * Dropped comments and ArrayBuffer handling\r\n */\nfunction equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n    var length, i, keys;\n\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length !== b.length) return false;\n\n      for (i = length; i-- !== 0;) {\n        if (!equal(a[i], b[i])) return false;\n      }\n\n      return true;\n    }\n\n    var it;\n\n    if (typeof Map === 'function' && a instanceof Map && b instanceof Map) {\n      if (a.size !== b.size) return false;\n      it = a.entries();\n\n      while (!(i = it.next()).done) {\n        if (!b.has(i.value[0])) return false;\n      }\n\n      it = a.entries();\n\n      while (!(i = it.next()).done) {\n        if (!equal(i.value[1], b.get(i.value[0]))) return false;\n      }\n\n      return true;\n    }\n\n    if (typeof Set === 'function' && a instanceof Set && b instanceof Set) {\n      if (a.size !== b.size) return false;\n      it = a.entries();\n\n      while (!(i = it.next()).done) {\n        if (!b.has(i.value[0])) return false;\n      }\n\n      return true;\n    }\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;) {\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n    }\n\n    if (typeof Element !== 'undefined' && a instanceof Element) return false;\n\n    for (i = length; i-- !== 0;) {\n      if (keys[i] === '_owner' && a.$$typeof) continue;\n      if (!equal(a[keys[i]], b[keys[i]])) return false;\n    }\n\n    return true;\n  } // true if both NaN, false otherwise  NaN !== NaN  true\n  // eslint-disable-next-line no-self-compare\n\n\n  return a !== a && b !== b;\n}\n\nfunction isEqual(a, b) {\n  try {\n    return equal(a, b);\n  } catch (error) {\n    if ((error.message || '').match(/stack|recursion/i)) {\n      // eslint-disable-next-line no-console\n      console.warn('react-fast-compare cannot handle circular refs');\n      return false;\n    }\n\n    throw error;\n  }\n}\n\n/**\r\n * Drag hook.\r\n *\r\n * @param handler - the function fired every time the drag gesture updates\r\n * @param [config={}] - the config object including generic options and drag options\r\n */\n\nfunction useDrag(handler, config) {\n  if (config === void 0) {\n    config = {};\n  }\n\n  RecognizersMap.set('drag', DragRecognizer);\n  var buildDragConfig = useRef();\n\n  if (!buildDragConfig.current) {\n    buildDragConfig.current = memoizeOne(_buildDragConfig, isEqual);\n  }\n\n  return useRecognizers({\n    drag: handler\n  }, buildDragConfig.current(config));\n}\n\n/**\r\n * @private\r\n * Abstract class for distance/angle-based gesture recongizers\r\n */\n\nvar DistanceAngleRecognizer = /*#__PURE__*/function (_Recognizer) {\n  _inheritsLoose(DistanceAngleRecognizer, _Recognizer);\n\n  function DistanceAngleRecognizer() {\n    return _Recognizer.apply(this, arguments) || this;\n  }\n\n  var _proto = DistanceAngleRecognizer.prototype;\n\n  _proto.getInternalMovement = function getInternalMovement(values, state) {\n    var prev_a = state.values[1]; // not be defined if ctrl+wheel is used for zoom only\n\n    var d = values[0],\n        _values$ = values[1],\n        a = _values$ === void 0 ? prev_a : _values$;\n    var delta_a = a - prev_a;\n    var next_turns = state.turns;\n    if (Math.abs(delta_a) > 270) next_turns += sign(delta_a);\n    return subV([d, a - 360 * next_turns], state.initial);\n  };\n\n  _proto.getKinematics = function getKinematics(values, event) {\n    var state = this.getMovement(values);\n    var turns = (values[1] - state._movement[1] - this.state.initial[1]) / 360;\n    var dt = event.timeStamp - this.state.timeStamp;\n\n    var _calculateAllKinemati = calculateAllKinematics(state.movement, state.delta, dt),\n        kinematics = _objectWithoutPropertiesLoose(_calculateAllKinemati, [\"distance\", \"velocity\"]);\n\n    return _extends({\n      turns: turns\n    }, state, kinematics);\n  };\n\n  _proto.mapStateValues = function mapStateValues(state) {\n    return {\n      da: state.values,\n      vdva: state.velocities\n    };\n  };\n\n  return DistanceAngleRecognizer;\n}(Recognizer);\n\nvar ZOOM_CONSTANT = 7;\nvar WEBKIT_DISTANCE_SCALE_FACTOR = 260;\nvar PinchRecognizer = /*#__PURE__*/function (_DistanceAngleRecogni) {\n  _inheritsLoose(PinchRecognizer, _DistanceAngleRecogni);\n\n  function PinchRecognizer() {\n    var _this;\n\n    _this = _DistanceAngleRecogni.apply(this, arguments) || this;\n    _this.ingKey = 'pinching';\n    _this.stateKey = 'pinch';\n\n    _this.onPinchStart = function (event) {\n      addEventIds(_this.controller, event);\n      var touchIds = _this.controller.touchIds;\n      if (!_this.enabled) return;\n\n      if (_this.state._active) {\n        // check that the pointerIds that initiated the gesture\n        // are still enabled. This is useful for when the page\n        // loses track of the pointers (minifying gesture on iPad).\n        if (_this.state._pointerIds.every(function (id) {\n          return touchIds.has(id);\n        })) return; // something was wrong with the pointers but we let it go.\n      } // until we reach two fingers on the target don't react\n\n\n      if (touchIds.size < 2) return;\n\n      var _pointerIds = Array.from(touchIds).slice(0, 2);\n\n      var _getTwoTouchesEventVa = getTwoTouchesEventValues(event, _pointerIds, _this.transform),\n          values = _getTwoTouchesEventVa.values,\n          origin = _getTwoTouchesEventVa.origin;\n\n      _this.updateSharedState(getGenericEventData(event));\n\n      _this.updateGestureState(_extends({}, getStartGestureState(_assertThisInitialized(_this), values, event), getGenericPayload(_assertThisInitialized(_this), event, true), {\n        _pointerIds: _pointerIds,\n        cancel: _this.onCancel,\n        origin: origin\n      }));\n\n      _this.updateGestureState(_this.getMovement(values));\n\n      _this.fireGestureHandler();\n    };\n\n    _this.onPinchChange = function (event) {\n      var _this$state = _this.state,\n          canceled = _this$state.canceled,\n          _active = _this$state._active;\n      if (canceled || !_active || // if the event has the same timestamp as the previous event\n      event.timeStamp === _this.state.timeStamp) return;\n      var genericEventData = getGenericEventData(event);\n\n      _this.updateSharedState(genericEventData);\n\n      try {\n        var _getTwoTouchesEventVa2 = getTwoTouchesEventValues(event, _this.state._pointerIds, _this.transform),\n            values = _getTwoTouchesEventVa2.values,\n            origin = _getTwoTouchesEventVa2.origin;\n\n        var kinematics = _this.getKinematics(values, event);\n\n        _this.updateGestureState(_extends({}, getGenericPayload(_assertThisInitialized(_this), event), kinematics, {\n          origin: origin\n        }));\n\n        _this.fireGestureHandler();\n      } catch (e) {\n        _this.onPinchEnd(event);\n      }\n    };\n\n    _this.onPinchEnd = function (event) {\n      removeEventIds(_this.controller, event);\n      var pointerIds = getTouchIds(event); // if none of the lifted pointerIds is in the state pointerIds don't do anything\n\n      if (_this.state._pointerIds.every(function (id) {\n        return !pointerIds.includes(id);\n      })) return;\n\n      _this.clean();\n\n      if (!_this.state._active) return;\n\n      _this.updateGestureState(_extends({}, getGenericPayload(_assertThisInitialized(_this), event), _this.getMovement(_this.state.values), {\n        _active: false\n      }));\n\n      _this.fireGestureHandler();\n    };\n\n    _this.onCancel = function () {\n      if (_this.state.canceled) return;\n\n      _this.updateGestureState({\n        _active: false,\n        canceled: true\n      });\n\n      setTimeout(function () {\n        return _this.fireGestureHandler();\n      }, 0);\n    };\n    /**\r\n     * PINCH WITH WEBKIT GESTURES\r\n     */\n\n\n    _this.onGestureStart = function (event) {\n      if (!_this.enabled) return;\n      event.preventDefault();\n      var values = getWebkitGestureEventValues(event, _this.transform);\n\n      _this.updateSharedState(getGenericEventData(event));\n\n      _this.updateGestureState(_extends({}, getStartGestureState(_assertThisInitialized(_this), values, event), getGenericPayload(_assertThisInitialized(_this), event, true), {\n        origin: [event.clientX, event.clientY],\n        cancel: _this.onCancel\n      }));\n\n      _this.updateGestureState(_this.getMovement(values));\n\n      _this.fireGestureHandler();\n    };\n\n    _this.onGestureChange = function (event) {\n      var _this$state2 = _this.state,\n          canceled = _this$state2.canceled,\n          _active = _this$state2._active;\n      if (canceled || !_active) return;\n      event.preventDefault();\n      var genericEventData = getGenericEventData(event);\n\n      _this.updateSharedState(genericEventData); // this normalizes the values of the Safari's WebKitEvent by calculating\n      // the delta and then multiplying it by a constant.\n\n\n      var values = getWebkitGestureEventValues(event, _this.transform);\n      values[0] = (values[0] - _this.state.event.scale) * WEBKIT_DISTANCE_SCALE_FACTOR + _this.state.values[0];\n\n      var kinematics = _this.getKinematics(values, event);\n\n      _this.updateGestureState(_extends({}, getGenericPayload(_assertThisInitialized(_this), event), kinematics, {\n        origin: [event.clientX, event.clientY]\n      }));\n\n      _this.fireGestureHandler();\n    };\n\n    _this.onGestureEnd = function (event) {\n      _this.clean();\n\n      if (!_this.state._active) return;\n\n      _this.updateGestureState(_extends({}, getGenericPayload(_assertThisInitialized(_this), event), _this.getMovement(_this.state.values), {\n        _active: false,\n        origin: [event.clientX, event.clientY]\n      }));\n\n      _this.fireGestureHandler();\n    };\n    /**\r\n     * PINCH WITH WHEEL\r\n     */\n\n\n    _this.wheelShouldRun = function (event) {\n      return _this.enabled && event.ctrlKey;\n    };\n\n    _this.getWheelValuesFromEvent = function (event) {\n      var _getWheelEventValues = getWheelEventValues(event, _this.transform),\n          delta_d = _getWheelEventValues[1];\n\n      var _this$state$values = _this.state.values,\n          prev_d = _this$state$values[0],\n          prev_a = _this$state$values[1]; // ZOOM_CONSTANT is based on Safari trackpad natural zooming\n\n      var _delta_d = -delta_d * ZOOM_CONSTANT; // new distance is the previous state distance added to the delta\n\n\n      var d = prev_d + _delta_d;\n      var a = prev_a !== void 0 ? prev_a : 0;\n      return {\n        values: [d, a],\n        origin: [event.clientX, event.clientY],\n        delta: [_delta_d, a]\n      };\n    };\n\n    _this.onWheel = function (event) {\n      if (!_this.wheelShouldRun(event)) return;\n\n      _this.setTimeout(_this.onWheelEnd);\n\n      if (!_this.state._active) _this.onWheelStart(event);else _this.onWheelChange(event);\n    };\n\n    _this.onWheelStart = function (event) {\n      var _this$getWheelValuesF = _this.getWheelValuesFromEvent(event),\n          values = _this$getWheelValuesF.values,\n          delta = _this$getWheelValuesF.delta,\n          origin = _this$getWheelValuesF.origin;\n\n      if (event.cancelable) event.preventDefault();else if (process.env.NODE_ENV === 'development') {\n        // eslint-disable-next-line no-console\n        console.warn('To properly support zoom on trackpads, try using the `domTarget` option and `config.eventOptions.passive` set to `false`. This message will only appear in development mode.');\n      }\n\n      _this.updateSharedState(getGenericEventData(event));\n\n      _this.updateGestureState(_extends({}, getStartGestureState(_assertThisInitialized(_this), values, event, _this.state.values), getGenericPayload(_assertThisInitialized(_this), event, true), {\n        offset: values,\n        delta: delta,\n        origin: origin\n      }));\n\n      _this.updateGestureState(_this.getMovement(values));\n\n      _this.fireGestureHandler();\n    };\n\n    _this.onWheelChange = function (event) {\n      if (event.cancelable) event.preventDefault();\n\n      _this.updateSharedState(getGenericEventData(event));\n\n      var _this$getWheelValuesF2 = _this.getWheelValuesFromEvent(event),\n          values = _this$getWheelValuesF2.values,\n          origin = _this$getWheelValuesF2.origin,\n          delta = _this$getWheelValuesF2.delta;\n\n      _this.updateGestureState(_extends({}, getGenericPayload(_assertThisInitialized(_this), event), _this.getKinematics(values, event), {\n        origin: origin,\n        delta: delta\n      }));\n\n      _this.fireGestureHandler();\n    };\n\n    _this.onWheelEnd = function () {\n      _this.clean();\n\n      if (!_this.state._active) return;\n      _this.state._active = false;\n\n      _this.updateGestureState(_this.getMovement(_this.state.values));\n\n      _this.fireGestureHandler();\n    };\n\n    return _this;\n  }\n\n  var _proto = PinchRecognizer.prototype;\n\n  _proto.addBindings = function addBindings$1(bindings) {\n    // Only try to use gesture events when they are supported and domTarget is set\n    // as React doesn't support gesture handlers.\n    if (this.controller.config.domTarget && !this.controller.supportsTouchEvents && this.controller.supportsGestureEvents) {\n      addBindings(bindings, 'onGestureStart', this.onGestureStart);\n\n      addBindings(bindings, 'onGestureChange', this.onGestureChange);\n\n      addBindings(bindings, 'onGestureEnd', this.onGestureEnd);\n    } else {\n      addBindings(bindings, 'onTouchStart', this.onPinchStart);\n\n      addBindings(bindings, 'onTouchMove', this.onPinchChange);\n\n      addBindings(bindings, 'onTouchEnd', this.onPinchEnd);\n\n      addBindings(bindings, 'onTouchCancel', this.onPinchEnd);\n\n      addBindings(bindings, 'onWheel', this.onWheel);\n    }\n  };\n\n  return PinchRecognizer;\n}(DistanceAngleRecognizer);\n\n/**\r\n * Pinch hook.\r\n *\r\n * @param handler - the function fired every time the pinch gesture updates\r\n * @param [config={}] - the config object including generic options and pinch options\r\n */\n\nfunction usePinch(handler, config) {\n  if (config === void 0) {\n    config = {};\n  }\n\n  RecognizersMap.set('pinch', PinchRecognizer);\n  var buildPinchConfig = useRef();\n\n  if (!buildPinchConfig.current) {\n    buildPinchConfig.current = memoizeOne(_buildPinchConfig, isEqual);\n  }\n\n  return useRecognizers({\n    pinch: handler\n  }, buildPinchConfig.current(config));\n}\n\nvar WheelRecognizer = /*#__PURE__*/function (_CoordinatesRecognize) {\n  _inheritsLoose(WheelRecognizer, _CoordinatesRecognize);\n\n  function WheelRecognizer() {\n    var _this;\n\n    _this = _CoordinatesRecognize.apply(this, arguments) || this;\n    _this.ingKey = 'wheeling';\n    _this.stateKey = 'wheel';\n    _this.debounced = true;\n\n    _this.handleEvent = function (event) {\n      if (event.ctrlKey && 'pinch' in _this.controller.handlers) return;\n      if (!_this.enabled) return;\n\n      _this.setTimeout(_this.onEnd);\n\n      _this.updateSharedState(getGenericEventData(event));\n\n      var values = addV(getWheelEventValues(event, _this.transform), _this.state.values);\n\n      if (!_this.state._active) {\n        _this.updateGestureState(_extends({}, getStartGestureState(_assertThisInitialized(_this), values, event, _this.state.values), getGenericPayload(_assertThisInitialized(_this), event, true)));\n\n        var movement = _this.getMovement(values);\n\n        var geometry = calculateAllGeometry(movement.delta);\n\n        _this.updateGestureState(movement);\n\n        _this.updateGestureState(geometry);\n      } else {\n        _this.updateGestureState(_extends({}, getGenericPayload(_assertThisInitialized(_this), event), _this.getKinematics(values, event)));\n      }\n\n      _this.fireGestureHandler();\n    };\n\n    _this.onEnd = function () {\n      _this.clean();\n\n      if (!_this.state._active) return;\n\n      var movement = _this.getMovement(_this.state.values);\n\n      _this.updateGestureState(movement);\n\n      _this.updateGestureState({\n        _active: false,\n        velocities: [0, 0],\n        velocity: 0\n      });\n\n      _this.fireGestureHandler();\n    };\n\n    return _this;\n  }\n\n  var _proto = WheelRecognizer.prototype;\n\n  _proto.addBindings = function addBindings$1(bindings) {\n    addBindings(bindings, 'onWheel', this.handleEvent);\n  };\n\n  return WheelRecognizer;\n}(CoordinatesRecognizer);\n\n/**\r\n * Wheel hook.\r\n *\r\n * @param handler - the function fired every time the wheel gesture updates\r\n * @param the config object including generic options and wheel options\r\n */\n\nfunction useWheel(handler, config) {\n  if (config === void 0) {\n    config = {};\n  }\n\n  RecognizersMap.set('wheel', WheelRecognizer);\n  var buildWheelConfig = useRef();\n\n  if (!buildWheelConfig.current) {\n    buildWheelConfig.current = memoizeOne(_buildWheelConfig, isEqual);\n  }\n\n  return useRecognizers({\n    wheel: handler\n  }, buildWheelConfig.current(config));\n}\n\nvar MoveRecognizer = /*#__PURE__*/function (_CoordinatesRecognize) {\n  _inheritsLoose(MoveRecognizer, _CoordinatesRecognize);\n\n  function MoveRecognizer() {\n    var _this;\n\n    _this = _CoordinatesRecognize.apply(this, arguments) || this;\n    _this.ingKey = 'moving';\n    _this.stateKey = 'move';\n    _this.debounced = true;\n\n    _this.onMove = function (event) {\n      if (!_this.enabled) return;\n\n      _this.setTimeout(_this.onMoveEnd);\n\n      if (!_this.state._active) _this.onMoveStart(event);else _this.onMoveChange(event);\n    };\n\n    _this.onMoveStart = function (event) {\n      _this.updateSharedState(getGenericEventData(event));\n\n      var values = getPointerEventValues(event, _this.transform);\n\n      _this.updateGestureState(_extends({}, getStartGestureState(_assertThisInitialized(_this), values, event), getGenericPayload(_assertThisInitialized(_this), event, true)));\n\n      _this.updateGestureState(_this.getMovement(values));\n\n      _this.fireGestureHandler();\n    };\n\n    _this.onMoveChange = function (event) {\n      _this.updateSharedState(getGenericEventData(event));\n\n      var values = getPointerEventValues(event, _this.transform);\n\n      _this.updateGestureState(_extends({}, getGenericPayload(_assertThisInitialized(_this), event), _this.getKinematics(values, event)));\n\n      _this.fireGestureHandler();\n    };\n\n    _this.onMoveEnd = function () {\n      _this.clean();\n\n      if (!_this.state._active) return;\n      var values = _this.state.values;\n\n      _this.updateGestureState(_this.getMovement(values));\n\n      _this.updateGestureState({\n        velocities: [0, 0],\n        velocity: 0,\n        _active: false\n      });\n\n      _this.fireGestureHandler();\n    };\n\n    _this.hoverTransform = function () {\n      return _this.controller.config.hover.transform || _this.controller.config.transform;\n    };\n\n    _this.onPointerEnter = function (event) {\n      _this.controller.state.shared.hovering = true;\n      if (!_this.controller.config.enabled) return;\n\n      if (_this.controller.config.hover.enabled) {\n        var values = getPointerEventValues(event, _this.hoverTransform());\n\n        var state = _extends({}, _this.controller.state.shared, _this.state, getGenericPayload(_assertThisInitialized(_this), event, true), {\n          args: _this.args,\n          values: values,\n          active: true,\n          hovering: true\n        });\n\n        _this.controller.handlers.hover(_extends({}, state, _this.mapStateValues(state)));\n      }\n\n      if ('move' in _this.controller.handlers) _this.onMoveStart(event);\n    };\n\n    _this.onPointerLeave = function (event) {\n      _this.controller.state.shared.hovering = false;\n      if ('move' in _this.controller.handlers) _this.onMoveEnd();\n      if (!_this.controller.config.hover.enabled) return;\n      var values = getPointerEventValues(event, _this.hoverTransform());\n\n      var state = _extends({}, _this.controller.state.shared, _this.state, getGenericPayload(_assertThisInitialized(_this), event), {\n        args: _this.args,\n        values: values,\n        active: false\n      });\n\n      _this.controller.handlers.hover(_extends({}, state, _this.mapStateValues(state)));\n    };\n\n    return _this;\n  }\n\n  var _proto = MoveRecognizer.prototype;\n\n  _proto.addBindings = function addBindings$1(bindings) {\n    if ('move' in this.controller.handlers) {\n      addBindings(bindings, 'onPointerMove', this.onMove);\n    }\n\n    if ('hover' in this.controller.handlers) {\n      addBindings(bindings, 'onPointerEnter', this.onPointerEnter);\n\n      addBindings(bindings, 'onPointerLeave', this.onPointerLeave);\n    }\n  };\n\n  return MoveRecognizer;\n}(CoordinatesRecognizer);\n\n/**\r\n * Move hook.\r\n *\r\n * @param handler - the function fired every time the move gesture updates\r\n * @param [config={}] - the config object including generic options and move options\r\n */\n\nfunction useMove(handler, config) {\n  if (config === void 0) {\n    config = {};\n  }\n\n  RecognizersMap.set('move', MoveRecognizer);\n  var buildMoveConfig = useRef();\n\n  if (!buildMoveConfig.current) {\n    buildMoveConfig.current = memoizeOne(_buildMoveConfig, isEqual);\n  }\n\n  return useRecognizers({\n    move: handler\n  }, buildMoveConfig.current(config));\n}\n\n/**\r\n * Hover hook.\r\n *\r\n * @param handler - the function fired every time the hover gesture updates\r\n * @param [config={}] - the config object including generic options and hover options\r\n */\n\nfunction useHover(handler, config) {\n  if (config === void 0) {\n    config = {};\n  }\n\n  RecognizersMap.set('hover', MoveRecognizer);\n  var buildHoverConfig = useRef();\n\n  if (!buildHoverConfig.current) {\n    buildHoverConfig.current = memoizeOne(_buildHoverConfig, isEqual);\n  }\n\n  return useRecognizers({\n    hover: handler\n  }, buildHoverConfig.current(config));\n}\n\nvar ScrollRecognizer = /*#__PURE__*/function (_CoordinatesRecognize) {\n  _inheritsLoose(ScrollRecognizer, _CoordinatesRecognize);\n\n  function ScrollRecognizer() {\n    var _this;\n\n    _this = _CoordinatesRecognize.apply(this, arguments) || this;\n    _this.ingKey = 'scrolling';\n    _this.stateKey = 'scroll';\n    _this.debounced = true;\n\n    _this.handleEvent = function (event) {\n      if (!_this.enabled) return;\n\n      _this.clearTimeout();\n\n      _this.setTimeout(_this.onEnd);\n\n      var values = getScrollEventValues(event, _this.transform);\n\n      _this.updateSharedState(getGenericEventData(event));\n\n      if (!_this.state._active) {\n        _this.updateGestureState(_extends({}, getStartGestureState(_assertThisInitialized(_this), values, event, _this.state.values), getGenericPayload(_assertThisInitialized(_this), event, true)));\n\n        var movementDetection = _this.getMovement(values);\n\n        var geometry = calculateAllGeometry(movementDetection.delta);\n\n        _this.updateGestureState(movementDetection);\n\n        _this.updateGestureState(geometry);\n      } else {\n        _this.updateGestureState(_extends({}, getGenericPayload(_assertThisInitialized(_this), event), _this.getKinematics(values, event)));\n      }\n\n      _this.fireGestureHandler();\n    };\n\n    _this.onEnd = function () {\n      _this.clean();\n\n      if (!_this.state._active) return;\n\n      _this.updateGestureState(_extends({}, _this.getMovement(_this.state.values), {\n        _active: false,\n        velocities: [0, 0],\n        velocity: 0\n      }));\n\n      _this.fireGestureHandler();\n    };\n\n    return _this;\n  }\n\n  var _proto = ScrollRecognizer.prototype;\n\n  _proto.addBindings = function addBindings$1(bindings) {\n    addBindings(bindings, 'onScroll', this.handleEvent);\n  };\n\n  return ScrollRecognizer;\n}(CoordinatesRecognizer);\n\n/**\r\n * Scroll hook.\r\n *\r\n * @param handler - the function fired every time the scroll gesture updates\r\n * @param [config={}] - the config object including generic options and scroll options\r\n */\n\nfunction useScroll(handler, config) {\n  if (config === void 0) {\n    config = {};\n  }\n\n  RecognizersMap.set('scroll', ScrollRecognizer);\n  var buildScrollConfig = useRef();\n\n  if (!buildScrollConfig.current) {\n    buildScrollConfig.current = memoizeOne(_buildScrollConfig, isEqual);\n  }\n\n  return useRecognizers({\n    scroll: handler\n  }, buildScrollConfig.current(config));\n}\n\nvar RE_NOT_NATIVE = /^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;\n\nfunction sortHandlers(handlers) {\n  var _native = {};\n  var handle = {};\n  var actions = new Set();\n\n  for (var key in handlers) {\n    if (RE_NOT_NATIVE.test(key)) {\n      actions.add(RegExp.lastMatch);\n      handle[key] = handlers[key];\n    } else {\n      _native[key] = handlers[key];\n    }\n  }\n\n  return [handle, _native, actions];\n}\n/**\r\n * @public\r\n *\r\n * The most complete gesture hook, allowing support for multiple gestures.\r\n *\r\n * @param {Handlers} handlers - an object with on[Gesture] keys containg gesture handlers\r\n * @param {UseGestureConfig} [config={}] - the full config object\r\n * @returns {(...args: any[]) => HookReturnType<Config>}\r\n */\n\n\nfunction useGesture(_handlers, config) {\n  if (config === void 0) {\n    config = {};\n  }\n\n  var _sortHandlers = sortHandlers(_handlers),\n      handlers = _sortHandlers[0],\n      nativeHandlers = _sortHandlers[1],\n      actions = _sortHandlers[2];\n\n  RecognizersMap.set('drag', DragRecognizer);\n  RecognizersMap.set('hover', MoveRecognizer);\n  RecognizersMap.set('move', MoveRecognizer);\n  RecognizersMap.set('pinch', PinchRecognizer);\n  RecognizersMap.set('scroll', ScrollRecognizer);\n  RecognizersMap.set('wheel', WheelRecognizer);\n  var mergedConfig = buildComplexConfig(config, actions);\n  var internalHandlers = {};\n  if (actions.has('onDrag')) internalHandlers.drag = includeStartEndHandlers(handlers, 'onDrag');\n  if (actions.has('onWheel')) internalHandlers.wheel = includeStartEndHandlers(handlers, 'onWheel');\n  if (actions.has('onScroll')) internalHandlers.scroll = includeStartEndHandlers(handlers, 'onScroll');\n  if (actions.has('onMove')) internalHandlers.move = includeStartEndHandlers(handlers, 'onMove');\n  if (actions.has('onPinch')) internalHandlers.pinch = includeStartEndHandlers(handlers, 'onPinch');\n  if (actions.has('onHover')) internalHandlers.hover = handlers.onHover;\n  return useRecognizers(internalHandlers, mergedConfig, nativeHandlers);\n}\n\nfunction includeStartEndHandlers(handlers, handlerKey) {\n  var startKey = handlerKey + 'Start';\n  var endKey = handlerKey + 'End';\n\n  var fn = function fn(state) {\n    var memo = undefined;\n    if (state.first && startKey in handlers) handlers[startKey](state);\n    if (handlerKey in handlers) memo = handlers[handlerKey](state);\n    if (state.last && endKey in handlers) handlers[endKey](state);\n    return memo;\n  };\n\n  return fn;\n}\n\nexport { addV, rubberbandIfOutOfBounds, subV, useDrag, useGesture, useHover, useMove, usePinch, useScroll, useWheel };\n//# sourceMappingURL=reactusegesture.esm.js.map\n","import React from 'react'\nimport styled, { css } from 'styled-components'\nimport { animated, useTransition, useSpring } from 'react-spring'\nimport { DialogOverlay, DialogContent } from '@reach/dialog'\nimport { isMobile } from 'react-device-detect'\nimport '@reach/dialog/styles.css'\nimport { transparentize } from 'polished'\nimport { useGesture } from 'react-use-gesture'\n\nconst AnimatedDialogOverlay = animated(DialogOverlay)\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst StyledDialogOverlay = styled(AnimatedDialogOverlay)`\n  &[data-reach-dialog-overlay] {\n    z-index: 2;\n    background-color: transparent;\n    overflow: hidden;\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    background-color: ${({ theme }) => theme.modalBG};\n  }\n`\n\nconst AnimatedDialogContent = animated(DialogContent)\n// destructure to not pass custom props to Dialog DOM element\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst StyledDialogContent = styled(({ minHeight, maxHeight, mobile, isOpen, ...rest }) => (\n  <AnimatedDialogContent {...rest} />\n)).attrs({\n  'aria-label': 'dialog'\n})`\n  overflow-y: ${({ mobile }) => (mobile ? 'scroll' : 'hidden')};\n\n  &[data-reach-dialog-content] {\n    margin: 0 0 2rem 0;\n    background-color: ${({ theme }) => theme.bg1};\n    box-shadow: 0 4px 8px 0 ${({ theme }) => transparentize(0.95, theme.shadow1)};\n    padding: 0px;\n    width: 50vw;\n    overflow-y: ${({ mobile }) => (mobile ? 'scroll' : 'hidden')};\n    overflow-x: hidden;\n\n    align-self: ${({ mobile }) => (mobile ? 'flex-end' : 'center')};\n\n    max-width: 420px;\n    ${({ maxHeight }) =>\n      maxHeight &&\n      css`\n        max-height: ${maxHeight}vh;\n      `}\n    ${({ minHeight }) =>\n      minHeight &&\n      css`\n        min-height: ${minHeight}vh;\n      `}\n    display: flex;\n    border-radius: 20px;\n    ${({ theme }) => theme.mediaWidth.upToMedium`\n      width: 65vw;\n      margin: 0;\n    `}\n    ${({ theme, mobile }) => theme.mediaWidth.upToSmall`\n      width:  85vw;\n      ${mobile &&\n        css`\n          width: 100vw;\n          border-radius: 20px;\n          border-bottom-left-radius: 0;\n          border-bottom-right-radius: 0;\n        `}\n    `}\n  }\n`\n\ninterface ModalProps {\n  isOpen: boolean\n  onDismiss: () => void\n  minHeight?: number | false\n  maxHeight?: number\n  initialFocusRef?: React.RefObject<any>\n  children?: React.ReactNode\n}\n\nexport function Modal({\n  isOpen,\n  onDismiss,\n  minHeight = false,\n  maxHeight = 90,\n  initialFocusRef,\n  children\n}: ModalProps) {\n  const fadeTransition = useTransition(isOpen, null, {\n    config: { duration: 200 },\n    from: { opacity: 0 },\n    enter: { opacity: 1 },\n    leave: { opacity: 0 }\n  })\n\n  const [{ y }, set] = useSpring(() => ({ y: 0, config: { mass: 1, tension: 210, friction: 20 } }))\n  const bind = useGesture({\n    onDrag: state => {\n      set({\n        y: state.down ? state.movement[1] : 0\n      })\n      if (state.movement[1] > 300 || (state.velocity > 3 && state.direction[1] > 0)) {\n        onDismiss()\n      }\n    }\n  })\n\n  return (\n    <>\n      {fadeTransition.map(\n        ({ item, key, props }) =>\n          item && (\n            <StyledDialogOverlay\n              key={key}\n              style={props}\n              onDismiss={onDismiss}\n              initialFocusRef={initialFocusRef}\n              unstable_lockFocusAcrossFrames={false}\n            >\n              <StyledDialogContent\n                {...(isMobile\n                  ? {\n                      ...bind(),\n                      // @ts-ignore\n                      style: { transform: y.interpolate((y) => `translateY(${y > 0 ? y : 0}px)`) }\n                    }\n                  : {})}\n                aria-label=\"dialog content\"\n                minHeight={minHeight}\n                maxHeight={maxHeight}\n                mobile={isMobile}\n              >\n                {/* prevents the automatic focusing of inputs on mobile by the reach dialog */}\n                {!initialFocusRef && isMobile ? <div tabIndex={1} /> : null}\n                {children}\n              </StyledDialogContent>\n            </StyledDialogOverlay>\n          )\n      )}\n    </>\n  )\n}\n","import React from 'react'\nimport styled from 'styled-components'\nimport { ExternalLink } from '../../theme'\n\nconst InfoCard = styled.button<{ active?: boolean }>`\n  background-color: ${({ theme, active }) => (active ? theme.bg3 : theme.bg2)};\n  padding: 1rem;\n  outline: none;\n  border: 1px solid;\n  border-radius: 12px;\n  width: 100% !important;\n  &:focus {\n    box-shadow: 0 0 0 1px ${({ theme }) => theme.primary1};\n  }\n  border-color: ${({ theme, active }) => (active ? 'transparent' : theme.bg3)};\n`\n\nconst OptionCard = styled(InfoCard as any)`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  margin-top: 2rem;\n  padding: 1rem;\n`\n\nconst OptionCardLeft = styled.div`\n  ${({ theme }) => theme.flexColumnNoWrap};\n  justify-content: center;\n  height: 100%;\n`\n\nconst OptionCardClickable = styled(OptionCard as any)<{ clickable?: boolean }>`\n  margin-top: 0;\n  &:hover {\n    cursor: ${({ clickable }) => (clickable ? 'pointer' : '')};\n    border: ${({ clickable, theme }) => (clickable ? `1px solid ${theme.primary1}` : ``)};\n  }\n  opacity: ${({ disabled }) => (disabled ? '0.5' : '1')};\n`\n\nconst GreenCircle = styled.div`\n  ${({ theme }) => theme.flexRowNoWrap}\n  justify-content: center;\n  align-items: center;\n\n  &:first-child {\n    height: 8px;\n    width: 8px;\n    margin-right: 8px;\n    background-color: ${({ theme }) => theme.green1};\n    border-radius: 50%;\n  }\n`\n\nconst CircleWrapper = styled.div`\n  color: ${({ theme }) => theme.green1};\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`\n\nconst HeaderText = styled.div`\n  ${({ theme }) => theme.flexRowNoWrap};\n  color: ${props => (props.color === 'blue' ? ({ theme }) => theme.primary1 : ({ theme }) => theme.text1)};\n  font-size: 1rem;\n  font-weight: 500;\n`\n\nconst SubHeader = styled.div`\n  color: ${({ theme }) => theme.text1};\n  margin-top: 10px;\n  font-size: 12px;\n`\n\nconst IconWrapper = styled.div<{ size?: number | null }>`\n  ${({ theme }) => theme.flexColumnNoWrap};\n  align-items: center;\n  justify-content: center;\n  & > img,\n  span {\n    height: ${({ size }) => (size ? size + 'px' : '24px')};\n    width: ${({ size }) => (size ? size + 'px' : '24px')};\n  }\n  ${({ theme }) => theme.mediaWidth.upToMedium`\n    align-items: flex-end;\n  `};\n`\n\nexport function Option({\n  link = null,\n  clickable = true,\n  size,\n  onClick = null,\n  color,\n  header,\n  subheader = null,\n  icon,\n  active = false,\n  id\n}: {\n  link?: string | null\n  clickable?: boolean\n  size?: number | null\n  onClick?: null | (() => void)\n  color: string\n  header: React.ReactNode\n  subheader: React.ReactNode | null\n  icon: string\n  active?: boolean\n  id: string\n}) {\n  const content = (\n    <OptionCardClickable id={id} onClick={onClick} clickable={clickable && !active} active={active}>\n      <OptionCardLeft>\n        <HeaderText color={color}>\n          {active ? (\n            <CircleWrapper>\n              <GreenCircle>\n                <div />\n              </GreenCircle>\n            </CircleWrapper>\n          ) : (\n            ''\n          )}\n          {header}\n        </HeaderText>\n        {subheader && <SubHeader>{subheader}</SubHeader>}\n      </OptionCardLeft>\n      <IconWrapper size={size}>\n        <img src={icon} alt={'Icon'} width=\"24px\" height=\"24px\"/>\n      </IconWrapper>\n    </OptionCardClickable>\n  )\n  if (link) {\n    return <ExternalLink href={link}>{content}</ExternalLink>\n  }\n\n  return content\n}\n","import { AbstractConnector } from '@web3-react/abstract-connector'\nimport React from 'react'\nimport styled from 'styled-components'\nimport { Option } from './Option'\nimport { SUPPORTED_WALLETS } from '../../constants'\nimport { injected } from '../../connectors'\nimport { darken } from 'polished'\nimport { Loader } from '../common/Loader'\n\nconst PendingSection = styled.div`\n  ${({ theme }) => theme.flexColumnNoWrap};\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  & > * {\n    width: 100%;\n  }\n`\n\nconst StyledLoader = styled(Loader)`\n  margin-right: 1rem;\n`\n\nconst LoadingMessage = styled.div<{ error?: boolean }>`\n  ${({ theme }) => theme.flexRowNoWrap};\n  align-items: center;\n  justify-content: flex-start;\n  border-radius: 12px;\n  margin-bottom: 20px;\n  color: ${({ theme, error }) => (error ? theme.red1 : 'inherit')};\n  border: 1px solid ${({ theme, error }) => (error ? theme.red1 : theme.text4)};\n\n  & > * {\n    padding: 1rem;\n  }\n`\n\nconst ErrorGroup = styled.div`\n  ${({ theme }) => theme.flexRowNoWrap};\n  align-items: center;\n  justify-content: flex-start;\n`\n\nconst ErrorButton = styled.div`\n  border-radius: 8px;\n  font-size: 12px;\n  color: ${({ theme }) => theme.text1};\n  background-color: ${({ theme }) => theme.bg4};\n  margin-left: 1rem;\n  padding: 0.5rem;\n  font-weight: 600;\n  user-select: none;\n\n  &:hover {\n    cursor: pointer;\n    background-color: ${({ theme }) => darken(0.1, theme.text4)};\n  }\n`\n\nconst LoadingWrapper = styled.div`\n  ${({ theme }) => theme.flexRowNoWrap};\n  align-items: center;\n  justify-content: center;\n`\n\nexport function PendingView({\n  connector,\n  error = false,\n  setPendingError,\n  tryActivation\n}: {\n  connector?: AbstractConnector\n  error?: boolean\n  setPendingError: (error: boolean) => void\n  tryActivation: (connector: AbstractConnector) => void\n}) {\n  // @ts-ignore\n  const isMetamask = window?.ethereum?.isMetaMask\n\n  return (\n    <PendingSection>\n      <LoadingMessage error={error}>\n        <LoadingWrapper>\n          {error ? (\n            <ErrorGroup>\n              <div>Error connecting.</div>\n              <ErrorButton\n                onClick={() => {\n                  setPendingError(false)\n                  connector && tryActivation(connector)\n                }}\n              >\n                Try Again\n              </ErrorButton>\n            </ErrorGroup>\n          ) : (\n            <>\n              <StyledLoader />\n              Initializing...\n            </>\n          )}\n        </LoadingWrapper>\n      </LoadingMessage>\n      {Object.keys(SUPPORTED_WALLETS).map(key => {\n        const option = SUPPORTED_WALLETS[key]\n        if (option.connector === connector) {\n          if (option.connector === injected) {\n            if (isMetamask && option.name !== 'MetaMask') {\n              return null\n            }\n            if (!isMetamask && option.name === 'MetaMask') {\n              return null\n            }\n          }\n          return (\n            <Option\n              id={`connect-${key}`}\n              key={key}\n              clickable={false}\n              color={option.color}\n              header={option.name}\n              subheader={option.description}\n              icon={'/assets/images/' + option.iconName}\n            />\n          )\n        }\n        return null\n      })}\n    </PendingSection>\n  )\n}\n","import { AbstractConnector } from '@web3-react/abstract-connector'\nimport { UnsupportedChainIdError, useWeb3React } from '@web3-react/core'\nimport { WalletConnectConnector } from '@web3-react/walletconnect-connector'\nimport React, { useEffect, useState, useContext } from 'react'\nimport { isMobile } from 'react-device-detect'\nimport styled from 'styled-components'\nimport Close from '../../../public/assets/images/x.svg'\nimport { fortmatic, injected, portis } from '../../connectors'\nimport { OVERLAY_READY } from '../../connectors/Fortmatic'\nimport { SUPPORTED_WALLETS } from '../../constants'\nimport usePrevious from '../../hooks/usePrevious'\nimport { ExternalLink } from '../../theme'\nimport { AccountDetails } from './AccountDetails'\nimport { ApplicationState, ApplicationActions } from '../../state/state.provider'\n\nimport { Modal } from '../common/Modal'\nimport { Option } from './Option'\nimport { PendingView } from './PendingView'\n\nconst CloseIcon = styled.div`\n  position: absolute;\n  right: 1rem;\n  top: 14px;\n  &:hover {\n    cursor: pointer;\n    opacity: 0.6;\n  }\n`\n\n// @ts-ignore\nconst CloseColor = styled(Close)`\n  path {\n    stroke: ${({ theme }) => theme.text4};\n  }\n`\n\nconst Wrapper = styled.div`\n  ${({ theme }) => theme.flexColumnNoWrap}\n  margin: 0;\n  padding: 0;\n  width: 100%;\n`\n\nconst HeaderRow = styled.div`\n  ${({ theme }) => theme.flexRowNoWrap};\n  padding: 1rem 1rem;\n  font-weight: 500;\n  color: ${(props) => (props.color === 'blue' ? ({ theme }) => theme.primary1 : 'inherit')};\n  ${({ theme }) => theme.mediaWidth.upToMedium`\n    padding: 1rem;\n  `};\n`\n\nconst ContentWrapper = styled.div`\n  background-color: ${({ theme }) => theme.bg2};\n  padding: 2rem;\n  border-bottom-left-radius: 20px;\n  border-bottom-right-radius: 20px;\n\n  ${({ theme }) => theme.mediaWidth.upToMedium`padding: 1rem`};\n`\n\nconst UpperSection = styled.div`\n  position: relative;\n\n  h5 {\n    margin: 0;\n    margin-bottom: 0.5rem;\n    font-size: 1rem;\n    font-weight: 400;\n  }\n\n  h5:last-child {\n    margin-bottom: 0px;\n  }\n\n  h4 {\n    margin-top: 0;\n    font-weight: 500;\n  }\n`\n\nconst Blurb = styled.div`\n  ${({ theme }) => theme.flexRowNoWrap}\n  align-items: center;\n  justify-content: center;\n  flex-wrap: wrap;\n  margin-top: 2rem;\n  ${({ theme }) => theme.mediaWidth.upToMedium`\n    margin: 1rem;\n    font-size: 12px;\n  `};\n`\n\nconst OptionGrid = styled.div`\n  display: grid;\n  grid-gap: 10px;\n  ${({ theme }) => theme.mediaWidth.upToMedium`\n    grid-template-columns: 1fr;\n    grid-gap: 10px;\n  `};\n`\n\nconst HoverText = styled.div`\n  :hover {\n    cursor: pointer;\n  }\n`\n\nconst WALLET_VIEWS = {\n  OPTIONS: 'options',\n  OPTIONS_SECONDARY: 'options_secondary',\n  ACCOUNT: 'account',\n  PENDING: 'pending',\n}\n\nexport function WalletModal({\n  pendingTransactions,\n  confirmedTransactions,\n  ENSName,\n}: {\n  pendingTransactions: string[] // hashes of pending\n  confirmedTransactions: string[] // hashes of confirmed\n  ENSName?: string\n}) {\n  // important that these are destructed from the account-specific web3-react context\n  const { active, account, connector, activate, error } = useWeb3React()\n\n  const [walletView, setWalletView] = useState(WALLET_VIEWS.ACCOUNT)\n\n  const [pendingWallet, setPendingWallet] = useState<AbstractConnector | undefined>()\n\n  const [pendingError, setPendingError] = useState<boolean>()\n\n  const { modalOpen } = useContext(ApplicationState)\n  const { toggleModal } = useContext(ApplicationActions)\n\n  const previousAccount = usePrevious(account)\n\n  // close on connection, when logged out before\n  useEffect(() => {\n    if (account && !previousAccount && modalOpen) {\n      toggleModal()\n    }\n  }, [account, previousAccount, toggleModal, modalOpen])\n\n  // always reset to account view\n  useEffect(() => {\n    if (modalOpen) {\n      setPendingError(false)\n      setWalletView(WALLET_VIEWS.ACCOUNT)\n    }\n  }, [modalOpen])\n\n  // close modal when a connection is successful\n  const activePrevious = usePrevious(active)\n  const connectorPrevious = usePrevious(connector)\n  useEffect(() => {\n    if (modalOpen && ((active && !activePrevious) || (connector && connector !== connectorPrevious && !error))) {\n      setWalletView(WALLET_VIEWS.ACCOUNT)\n    }\n  }, [setWalletView, active, error, connector, modalOpen, activePrevious, connectorPrevious])\n\n  const tryActivation = async (connector: AbstractConnector | undefined) => {\n    let name = ''\n    Object.keys(SUPPORTED_WALLETS).map((key) => {\n      if (connector === SUPPORTED_WALLETS[key].connector) {\n        return (name = SUPPORTED_WALLETS[key].name)\n      }\n      return true\n    })\n\n    setPendingWallet(connector) // set wallet for pending view\n    setWalletView(WALLET_VIEWS.PENDING)\n\n    // if the connector is walletconnect and the user has already tried to connect, manually reset the connector\n    if (connector instanceof WalletConnectConnector && connector.walletConnectProvider?.wc?.uri) {\n      connector.walletConnectProvider = undefined\n    }\n\n    connector &&\n      activate(connector, undefined, true).catch((error) => {\n        if (error instanceof UnsupportedChainIdError) {\n          activate(connector) // a little janky...can't use setError because the connector isn't set\n        } else {\n          setPendingError(true)\n        }\n      })\n  }\n\n  // close wallet modal if fortmatic modal is active\n  useEffect(() => {\n    fortmatic.on(OVERLAY_READY, () => {\n      toggleModal()\n    })\n  }, [toggleModal])\n\n  // get wallets user can switch too, depending on device/browser\n  function getOptions() {\n    // @ts-ignore\n    const isMetamask = window.ethereum && window.ethereum.isMetaMask\n    return Object.keys(SUPPORTED_WALLETS).map((key) => {\n      const option = SUPPORTED_WALLETS[key]\n      // check for mobile options\n      if (isMobile) {\n        //disable portis on mobile for now\n        if (option.connector === portis) {\n          return null\n        }\n        // @ts-ignore\n        if (!window.web3 && !window.ethereum && option.mobile) {\n          return (\n            <Option\n              onClick={() => {\n                option.connector !== connector && !option.href && tryActivation(option.connector)\n              }}\n              id={`connect-${key}`}\n              key={key}\n              active={option.connector && option.connector === connector}\n              color={option.color}\n              link={option.href}\n              header={option.name}\n              subheader={null}\n              icon={'/assets/images/' + option.iconName}\n            />\n          )\n        }\n        return null\n      }\n\n      // overwrite injected when needed\n      if (option.connector === injected) {\n        // don't show injected if there's no injected provider\n        // @ts-ignore\n        if (!(window.web3 || window.ethereum)) {\n          if (option.name === 'MetaMask') {\n            return (\n              <Option\n                id={`connect-${key}`}\n                key={key}\n                color={'#E8831D'}\n                header={'Install Metamask'}\n                subheader={null}\n                link={'https://metamask.io/'}\n                icon={\"/assets/images/metamask.png\"}\n              />\n            )\n          } else {\n            return null //dont want to return install twice\n          }\n        }\n        // don't return metamask if injected provider isn't metamask\n        else if (option.name === 'MetaMask' && !isMetamask) {\n          return null\n        }\n        // likewise for generic\n        else if (option.name === 'Injected' && isMetamask) {\n          return null\n        }\n      }\n\n      // return rest of options\n      return (\n        !isMobile &&\n        !option.mobileOnly && (\n          <Option\n            id={`connect-${key}`}\n            onClick={() => {\n              option.connector === connector\n                ? setWalletView(WALLET_VIEWS.ACCOUNT)\n                : !option.href && tryActivation(option.connector)\n            }}\n            key={key}\n            active={option.connector === connector}\n            color={option.color}\n            link={option.href}\n            header={option.name}\n            subheader={null} //use option.descriptio to bring back multi-line\n            icon={'/assets/images/' + option.iconName}\n          />\n        )\n      )\n    })\n  }\n\n  function getModalContent() {\n    if (error) {\n      return (\n        <UpperSection>\n          <CloseIcon onClick={toggleModal}>\n            <CloseColor />\n          </CloseIcon>\n          <HeaderRow>{error instanceof UnsupportedChainIdError ? 'Wrong Network' : 'Error connecting'}</HeaderRow>\n          <ContentWrapper>\n            {error instanceof UnsupportedChainIdError ? (\n              <h5>Please connect to the appropriate Ethereum network.</h5>\n            ) : (\n              'Error connecting. Try refreshing the page.'\n            )}\n          </ContentWrapper>\n        </UpperSection>\n      )\n    }\n    if (account && walletView === WALLET_VIEWS.ACCOUNT) {\n      return (\n        <AccountDetails\n          toggleWalletModal={toggleModal}\n          pendingTransactions={pendingTransactions}\n          confirmedTransactions={confirmedTransactions}\n          ENSName={ENSName}\n          openOptions={() => setWalletView(WALLET_VIEWS.OPTIONS)}\n        />\n      )\n    }\n    return (\n      <UpperSection>\n        <CloseIcon onClick={toggleModal}>\n          <CloseColor />\n        </CloseIcon>\n        {walletView !== WALLET_VIEWS.ACCOUNT ? (\n          <HeaderRow color=\"blue\">\n            <HoverText\n              onClick={() => {\n                setPendingError(false)\n                setWalletView(WALLET_VIEWS.ACCOUNT)\n              }}\n            >\n              Back\n            </HoverText>\n          </HeaderRow>\n        ) : (\n          <HeaderRow>\n            <HoverText>Connect to a wallet</HoverText>\n          </HeaderRow>\n        )}\n        <ContentWrapper>\n          {walletView === WALLET_VIEWS.PENDING ? (\n            <PendingView\n              connector={pendingWallet}\n              error={pendingError}\n              setPendingError={setPendingError}\n              tryActivation={tryActivation}\n            />\n          ) : (\n            <OptionGrid>{getOptions()}</OptionGrid>\n          )}\n          {walletView !== WALLET_VIEWS.PENDING && (\n            <Blurb>\n              <span>New to Ethereum? &nbsp;</span>{' '}\n              <ExternalLink href=\"https://ethereum.org/wallets/\">Learn more about wallets</ExternalLink>\n            </Blurb>\n          )}\n        </ContentWrapper>\n      </UpperSection>\n    )\n  }\n\n  return (\n    <Modal isOpen={modalOpen} onDismiss={toggleModal} minHeight={false} maxHeight={90}>\n      <Wrapper>{getModalContent()}</Wrapper>\n    </Modal>\n  )\n}\n","import { AbstractConnector } from '@web3-react/abstract-connector'\nimport { UnsupportedChainIdError, useWeb3React } from '@web3-react/core'\nimport React, { useMemo, useContext } from 'react'\nimport { Activity } from 'react-feather'\nimport styled, { css } from 'styled-components'\nimport { darken, lighten } from 'polished'\nimport { fortmatic, injected, portis, walletconnect, walletlink } from '../../connectors'\nimport { NetworkContextName } from '../../constants'\nimport useENSName from '../../hooks/useENSName'\nimport { useHasSocks } from '../../hooks/useSocksBalance'\n// import { useWalletModalToggle } from '../../state/application/hooks'\nimport { isTransactionRecent, useAllTransactions, TransactionDetails } from '../../state/transactions/hooks'\nimport { shortenAddress } from '../../utils'\nimport { ButtonSecondary } from '../common/Button'\n\nimport { Identicon } from '../common/Identicon'\nimport { Loader } from '../common/Loader'\n\nimport { RowBetween } from '../common/Row'\n// TODO\nimport { WalletModal } from '../WalletModal'\n\nimport { ApplicationActions } from '../../state/state.provider'\n\nconst IconWrapper = styled.div<{ size?: number }>`\n  ${({ theme }) => theme.flexColumnNoWrap};\n  align-items: center;\n  justify-content: center;\n  & > * {\n    height: ${({ size }) => (size ? size + 'px' : '32px')};\n    width: ${({ size }) => (size ? size + 'px' : '32px')};\n  }\n`\n\nconst Web3StatusGeneric = styled(ButtonSecondary)`\n  ${({ theme }) => theme.flexRowNoWrap}\n  width: 100%;\n  align-items: center;\n  padding: 0.5rem;\n  border-radius: 12px;\n  cursor: pointer;\n  user-select: none;\n  :focus {\n    outline: none;\n  }\n`\nconst Web3StatusError = styled(Web3StatusGeneric)`\n  background-color: ${({ theme }) => theme.red1};\n  border: 1px solid ${({ theme }) => theme.red1};\n  color: ${({ theme }) => theme.white};\n  font-weight: 500;\n  :hover,\n  :focus {\n    background-color: ${({ theme }) => darken(0.1, theme.red1)};\n  }\n`\n\nconst Web3StatusConnect = styled(Web3StatusGeneric)<{ faded?: boolean }>`\n  background-color: ${({ theme }) => theme.primary4};\n  border: none;\n  color: ${({ theme }) => theme.primaryText1};\n  font-weight: 500;\n\n  :hover,\n  :focus {\n    border: 1px solid ${({ theme }) => darken(0.05, theme.primary4)};\n    color: ${({ theme }) => theme.primaryText1};\n  }\n\n  ${({ faded }) =>\n    faded &&\n    css`\n      background-color: ${({ theme }) => theme.primary5};\n      border: 1px solid ${({ theme }) => theme.primary5};\n      color: ${({ theme }) => theme.primaryText1};\n\n      :hover,\n      :focus {\n        border: 1px solid ${({ theme }) => darken(0.05, theme.primary4)};\n        color: ${({ theme }) => darken(0.05, theme.primaryText1)};\n      }\n    `}\n`\n\nconst Web3StatusConnected = styled(Web3StatusGeneric)<{ pending?: boolean }>`\n  background-color: ${({ pending, theme }) => (pending ? theme.primary1 : theme.bg2)};\n  border: 1px solid ${({ pending, theme }) => (pending ? theme.primary1 : theme.bg3)};\n  color: ${({ pending, theme }) => (pending ? theme.white : theme.text1)};\n  font-weight: 500;\n  :hover,\n  :focus {\n    background-color: ${({ pending, theme }) => (pending ? darken(0.05, theme.primary1) : lighten(0.05, theme.bg2))};\n\n    :focus {\n      border: 1px solid ${({ pending, theme }) => (pending ? darken(0.1, theme.primary1) : darken(0.1, theme.bg3))};\n    }\n  }\n`\n\nconst Text = styled.p`\n  flex: 1 1 auto;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  margin: 0 0.5rem 0 0.25rem;\n  font-size: 1rem;\n  width: fit-content;\n  font-weight: 500;\n`\n\nconst NetworkIcon = styled(Activity)`\n  margin-left: 0.25rem;\n  margin-right: 0.5rem;\n  width: 16px;\n  height: 16px;\n`\n\n// we want the latest one to come first, so return negative if a is after b\nfunction newTransactionsFirst(a: TransactionDetails, b: TransactionDetails) {\n  return b.addedTime - a.addedTime\n}\n\nconst SOCK = (\n  <span role=\"img\" aria-label=\"has socks emoji\" style={{ marginTop: -4, marginBottom: -4 }}>\n    \n  </span>\n)\n\n// eslint-disable-next-line react/prop-types\nfunction StatusIcon({ connector }: { connector: AbstractConnector }) {\n  if (connector === injected) {\n    return <Identicon />\n  } else if (connector === walletconnect) {\n    return (\n      <IconWrapper size={16}>\n        <img src={\"/assets/images/walletConnectIcon.svg\"} alt={''}/>\n      </IconWrapper>\n    )\n  } else if (connector === walletlink) {\n    return (\n      <IconWrapper size={16}>\n        <img src={\"/assets/images/coinbaseWalletIcon.svg\"} alt={''} />\n      </IconWrapper>\n    )\n  } else if (connector === fortmatic) {\n    return (\n      <IconWrapper size={16}>\n        <img src={\"/assets/images/fortmaticIcon.png\"} alt={''}/>\n      </IconWrapper>\n    )\n  } else if (connector === portis) {\n    return (\n      <IconWrapper size={16}>\n        <img src={\"/assets/images/portisIcon.png\"} alt={''} />\n      </IconWrapper>\n    )\n  }\n  return null\n}\n\nfunction Web3StatusInner() {\n  const { account, connector, error } = useWeb3React()\n\n  const { ENSName } = useENSName(account ?? undefined)\n\n  const allTransactions = useAllTransactions()\n\n  const sortedRecentTransactions = useMemo(() => {\n    const txs = Object.values(allTransactions)\n    return txs.filter(isTransactionRecent).sort(newTransactionsFirst)\n  }, [allTransactions])\n\n  const pending = sortedRecentTransactions.filter((tx) => !tx.receipt).map((tx) => tx.hash)\n\n  const hasPendingTransactions = !!pending.length\n  const hasSocks = useHasSocks()\n  const {toggleModal} = useContext(ApplicationActions)\n\n  if (account) {\n    return (\n      <Web3StatusConnected id=\"web3-status-connected\" onClick={toggleModal} pending={hasPendingTransactions}>\n        {hasPendingTransactions ? (\n          <RowBetween>\n            <Text>{pending?.length} Pending</Text> <Loader stroke=\"white\" />\n          </RowBetween>\n        ) : (\n          <>\n            {hasSocks ? SOCK : null}\n            <Text>{ENSName || shortenAddress(account)}</Text>\n          </>\n        )}\n        {!hasPendingTransactions && connector && <StatusIcon connector={connector} />}\n      </Web3StatusConnected>\n    )\n  } else if (error) {\n    return (\n      <Web3StatusError onClick={toggleModal}>\n        <NetworkIcon />\n        <Text>{error instanceof UnsupportedChainIdError ? 'Wrong Network' : 'Error'}</Text>\n      </Web3StatusError>\n    )\n  } else {\n    return (\n      <Web3StatusConnect id=\"connect-wallet\" onClick={toggleModal} faded={!account}>\n        <Text>Connect to a wallet</Text>\n      </Web3StatusConnect>\n    )\n  }\n}\n\nexport function Web3Status() {\n  const { active, account } = useWeb3React()\n  const contextNetwork = useWeb3React(NetworkContextName)\n\n  const { ENSName } = useENSName(account ?? undefined)\n\n  const allTransactions = useAllTransactions()\n\n  const sortedRecentTransactions = useMemo(() => {\n    const txs = Object.values(allTransactions)\n    return txs.filter(isTransactionRecent).sort(newTransactionsFirst)\n  }, [allTransactions])\n\n  const pending = sortedRecentTransactions.filter((tx) => !tx.receipt).map((tx) => tx.hash)\n  const confirmed = sortedRecentTransactions.filter((tx) => tx.receipt).map((tx) => tx.hash)\n\n  if (!contextNetwork.active && !active) {\n    return null\n  }\n\n  return (\n    <>\n      <Web3StatusInner />\n      <WalletModal ENSName={ENSName ?? undefined} pendingTransactions={pending} confirmedTransactions={confirmed} />\n    </>\n  )\n}\n","import { ChainId } from '@uniswap/sdk'\nimport React from 'react'\n\nimport styled from 'styled-components'\n\nimport { useActiveWeb3React } from '../../hooks'\n// import { useETHBalances } from '../../state/wallet/hooks'\nimport { Web3Status } from './Web3Status'\nimport { Box } from 'rebass/styled-components'\nimport { Text } from 'rebass'\n\nconst Card = styled(Box)<{ width?: string; padding?: string; border?: string; borderRadius?: string }>`\n  width: ${({ width }) => width ?? '100%'};\n  border-radius: 16px;\n  padding: 1.25rem;\n  padding: ${({ padding }) => padding};\n  border: ${({ border }) => border};\n  border-radius: ${({ borderRadius }) => borderRadius};\n`\n\nexport const YellowCard = styled(Card)`\n  background-color: rgba(243, 132, 30, 0.05);\n  color: ${({ theme }) => theme.yellow2};\n  font-weight: 500;\n`\n\nconst HeaderFrame = styled.div`\n  display: grid;\n  grid-template-columns: 1fr 120px;\n  align-items: center;\n  justify-content: space-between;\n  align-items: center;\n  flex-direction: row;\n  width: 100%;\n  top: 0;\n  position: relative;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.1);\n  padding: 1rem;\n  z-index: 2;\n`\n\nconst HeaderControls = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-self: flex-end;\n`\n\nconst HeaderElement = styled.div`\n  display: flex;\n  align-items: center;\n\n  /* addresses safari's lack of support for \"gap\" */\n  & > *:not(:first-child) {\n    margin-left: 8px;\n  }\n\n   ${({ theme }) => theme.mediaWidth.upToMedium`\n    flex-direction: row-reverse;\n     align-items: center;\n   `};\n`\n\nconst AccountElement = styled.div<{ active: boolean }>`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  background-color: ${({ theme, active }) => (!active ? theme.bg1 : theme.bg3)};\n  border-radius: 12px;\n  white-space: nowrap;\n  width: 100%;\n  cursor: pointer;\n\n  :focus {\n    border: 1px solid blue;\n  }\n`\n\nconst HideSmall = styled.span`\n   ${({ theme }) => theme.mediaWidth.upToSmall`\n     display: none;\n   `};\n`\n\nconst NetworkCard = styled(YellowCard)`\n  border-radius: 12px;\n  padding: 8px 12px;\n   ${({ theme }) => theme.mediaWidth.upToSmall`\n     margin: 0;\n     margin-right: 0.5rem;\n     width: initial;\n     overflow: hidden;\n     text-overflow: ellipsis;\n     flex-shrink: 1;\n   `};\n`\n\n\nexport const StyledMenuButton = styled.button`\n  position: relative;\n  width: 100%;\n  height: 100%;\n  border: none;\n  background-color: transparent;\n  margin: 0;\n  padding: 0;\n  height: 35px;\n  background-color: ${({ theme }) => theme.bg3};\n  margin-left: 8px;\n  padding: 0.15rem 0.5rem;\n  border-radius: 0.5rem;\n\n  :hover,\n  :focus {\n    cursor: pointer;\n    outline: none;\n    background-color: ${({ theme }) => theme.bg4};\n  }\n\n  svg {\n    margin-top: 2px;\n  }\n  > * {\n     stroke: ${({ theme }) => theme.text1};\n  }\n`\n\nconst BalanceText = styled(Text)`\n   ${({ theme }) => theme.mediaWidth.upToExtraSmall`\n     display: none;\n   `};\n`\n\nconst NETWORK_LABELS: { [t: number]: string } = {\n  [ChainId.RINKEBY]: 'Rinkeby',\n  [ChainId.ROPSTEN]: 'Ropsten',\n  [ChainId.GRLI]: 'Grli',\n  [ChainId.KOVAN]: 'Kovan',\n  [ChainId.MAINNET]: 'Mainnet',\n  31337: 'Localhost',\n}\n\nexport function Header() {\n  const { account, chainId } = useActiveWeb3React()\n\n  //TODO const userEthBalance = useETHBalances(account ? [account] : [])?.[account ?? '']\n  const userEthBalance = {\n    toSignificant: (_: any) => \"0.33\"\n  }\n  return (\n    <HeaderFrame>\n      <HeaderControls>\n        <HeaderElement>\n          <HideSmall>\n            {chainId && NETWORK_LABELS[chainId] && (\n              <NetworkCard title={NETWORK_LABELS[chainId]}>{NETWORK_LABELS[chainId]}</NetworkCard>\n            )}\n          </HideSmall>\n          <AccountElement active={!!account} style={{ pointerEvents: 'auto' }}>\n            {account && userEthBalance ? (\n              <BalanceText style={{ flexShrink: 0 }} pl=\"0.75rem\" pr=\"0.5rem\" fontWeight={500}>\n                {userEthBalance?.toSignificant(4)} ETH\n              </BalanceText>\n            ) : null}\n            <Web3Status />\n          </AccountElement>\n        </HeaderElement>\n      </HeaderControls>\n    </HeaderFrame>\n  )\n}\n","import React from 'react'\nimport styled from 'styled-components'\nimport { Web3ReactManager } from './Web3ReactManager'\nimport { Header } from './Header'\nimport { ApplicationProvider } from '../../state/state.provider'\n\nconst AppWrapper = styled.div`\n  display: flex;\n  flex-flow: column;\n  align-items: flex-start;\n  overflow-x: hidden;\n`\n\nconst HeaderWrapper = styled.div`\n  ${({ theme }) => theme.flexRowNoWrap}\n  width: 100%;\n  justify-content: space-between;\n`\n\nconst BodyWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  padding-top: 100px;\n  align-items: center;\n  flex: 1;\n  overflow-y: auto;\n  overflow-x: hidden;\n  z-index: 10;\n\n  ${({ theme }) => theme.mediaWidth.upToSmall`\n    padding: 16px;\n    padding-top: 2rem;\n  `};\n\n  z-index: 1;\n`\n\nconst Marginer = styled.div`\n  margin-top: 5rem;\n`\n\nexport function Layout({ children }: {children: JSX.Element}) {\n  return (\n    <AppWrapper>\n      <ApplicationProvider>\n        <HeaderWrapper>\n          <Header />\n        </HeaderWrapper>\n        <BodyWrapper>\n          <Web3ReactManager>{children}</Web3ReactManager>\n          <Marginer />\n        </BodyWrapper>\n      </ApplicationProvider>\n    </AppWrapper>\n  )\n}\n","import { StrictMode, Component } from 'react'\nimport { ThemeProvider, ThemedGlobalStyle } from './theme'\nimport { createWeb3ReactRoot, Web3ReactProvider } from '@web3-react/core'\nimport { getLibrary } from './utils/getLibrary'\nimport { NetworkContextName } from './constants'\nexport { Layout } from './components/pages/Layout'\n\ninterface Props {children: JSX.Element}\n// TODO stupid way to load web3provider\nclass ErrorBoundaryWeb3ProviderNetwork extends Component<Props, {hasError: boolean}> {\n  constructor(props: Props) {\n    super(props)\n    this.state = { hasError: false }\n  }\n\n  static getDerivedStateFromError() {\n    // Update state so the next render will show the fallback UI.\n    return { hasError: true }\n  }\n  render() {\n    let Web3ProviderNetwork\n    try {\n      Web3ProviderNetwork = createWeb3ReactRoot(NetworkContextName)\n    } catch (e) {\n      return this.props.children\n    }\n    if (this.state.hasError) {\n      return this.props.children\n    }\n    return <Web3ProviderNetwork getLibrary={getLibrary}>{this.props.children}</Web3ProviderNetwork>\n  }\n}\n\nexport default function Wallet({ children }: {children: JSX.Element}) {\n  return (\n    <StrictMode>\n      <Web3ReactProvider getLibrary={getLibrary}>\n        <ErrorBoundaryWeb3ProviderNetwork>\n          <ThemeProvider>\n            <ThemedGlobalStyle />\n            {children}\n          </ThemeProvider>\n        </ErrorBoundaryWeb3ProviderNetwork>\n      </Web3ReactProvider>\n    </StrictMode>\n  )\n}\n"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_assertThisInitialized","self","ReferenceError","_setPrototypeOf","o","p","setPrototypeOf","__proto__","_inheritsLoose","subClass","superClass","create","constructor","_getPrototypeOf","getPrototypeOf","_isNativeFunction","fn","Function","toString","indexOf","_isNativeReflectConstruct","Reflect","construct","sham","Proxy","Boolean","valueOf","e","_construct","Parent","args","Class","isNativeReflectConstruct","a","push","Constructor","bind","instance","_wrapNativeSuper","_cache","Map","undefined","isNativeFunction","TypeError","has","get","set","Wrapper","value","enumerable","writable","configurable","ERRORS","format","_len","Array","_key","b","c","forEach","d","replace","PolishedError","_Error","code","_this","process","env","NODE_ENV","_len2","_key2","concat","Error","colorToInt","color","Math","round","convertToInt","red","green","blue","hslToRgb","hue","saturation","lightness","convert","huePrime","chroma","abs","secondComponent","lightnessModification","finalRed","finalGreen","finalBlue","namedColorMap","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","nameToHex","normalizedColorName","toLowerCase","hexRegex","hexRgbaRegex","reducedHexRegex","reducedRgbaHexRegex","rgbRegex","rgbaRegex","hslRegex","hslaRegex","parseToRgb","normalizedColor","match","parseInt","alpha","parseFloat","toFixed","_alpha","rgbMatched","exec","rgbaMatched","hslMatched","rgbColorString","hslRgbMatched","hslaMatched","_hue","_saturation","_lightness","_rgbColorString","_hslRgbMatched","rgbToHsl","max","min","delta","parseToHsl","reduceHexValue","numberToHex","hex","colorToHex","convertToHex","hslToHex","hsl","hsla","rgb","rgba","firstValue","secondValue","thirdValue","fourthValue","rgbValue","isRgb","isRgba","isHsl","isHsla","toColorString","curried","f","acc","combined","slice","curry","guard","lowerBoundary","upperBoundary","darken","amount","hslColor","curriedDarken","lighten","curriedLighten","transparentize","parsedColor","colorWithAlpha","curriedTransparentize","styled","button","attrs","warning","theme","backgroundColor","red1","primary1","bg1","text4","X","div","size","marginRight","marginLeft","stroke","blue1","LinkStyledButton","disabled","text2","StyledInternalLink","StyledLink","LinkIconFeather","Trash","text3","rotateImg","keyframes","img","ExternalLink","href","rel","rest","handleClick","useCallback","event","React","rotate","Spinner","text1","span","mediaWidth","upToSmall","upToExtraSmall","MEDIA_WIDTHS","upToMedium","upToLarge","mediaWidthTemplates","keys","reduce","accumulator","css","colors","darkMode","text5","bg2","bg3","bg4","bg5","modalBG","advancedBG","primary2","primary3","primary4","primary5","primaryText1","secondary1","secondary2","secondary3","red2","red3","green1","yellow1","yellow2","grids","sm","md","lg","shadow1","flexColumnNoWrap","flexRowNoWrap","ThemeProvider","children","StyledComponentsThemeProvider","TextWrapper","Text","TYPE","main","props","link","body","largeHeader","mediumHeader","subHeader","small","darkGray","italic","error","createGlobalStyle","ThemedGlobalStyle","getLibrary","provider","library","Web3Provider","pollingInterval","OVERLAY_READY","CHAIN_ID_NETWORK_ARGUMENT","ChainId","MAINNET","ROPSTEN","RINKEBY","KOVAN","FortmaticConnector","fortmatic","Fortmatic","apiKey","chainId","getProvider","pollForOverlayReady","Promise","resolve","interval","setInterval","overlayReady","clearInterval","emit","all","enable","then","accounts","account","FortmaticConnectorCore","isProduction","prefix","invariant","condition","message","RequestError","data","MiniRpcProvider","url","batchWaitTimeMs","console","debug","batch","batchTimeoutId","fetch","method","headers","accept","JSON","stringify","map","item","request","response","reject","ok","status","statusText","json","byKey","memo","current","id","result","callback","params","jsonrpc","promise","nextId","setTimeout","clearBatch","parsed","URL","host","path","pathname","NetworkConnector","urls","defaultChainId","supportedChainIds","k","Number","currentChainId","providers","AbstractConnector","NETWORK_URL","REACT_APP_NETWORK_URL","FORMATIC_KEY","REACT_APP_FORTMATIC_KEY","PORTIS_ID","REACT_APP_PORTIS_ID","NETWORK_CHAIN_ID","REACT_APP_CHAIN_ID","network","injected","InjectedConnector","walletconnect","WalletConnectConnector","rpc","bridge","qrcode","portis","PortisConnector","dAppId","networks","walletlink","WalletLinkConnector","appName","appLogoUrl","NetworkContextName","SUPPORTED_WALLETS","INJECTED","connector","name","iconName","description","primary","METAMASK","WALLET_CONNECT","mobile","WALLET_LINK","COINBASE_LINK","mobileOnly","FORTMATIC","Portis","useActiveWeb3React","context","useWeb3ReactCore","contextNetwork","active","useEagerConnect","activate","useState","tried","setTried","useEffect","isAuthorized","isMobile","window","ethereum","useInactiveListener","suppress","on","handleChainChanged","handleAccountsChanged","removeListener","StyledSVG","svg","Loader","MessageWrapper","Message","h2","Web3ReactManager","useWeb3React","networkActive","networkError","activateNetwork","triedEager","showLoader","setShowLoader","timeout","clearTimeout","isTransactionRecent","tx","Date","getTime","addedTime","useAllTransactions","state","version","isHexString","arrayify","keccak256","_base36To16","isAddress","getAddress","ETHERSCAN_PREFIXES","shortenAddress","address","chars","substring","getEtherscanLink","type","Row","Box","width","align","justify","padding","border","borderRadius","RowBetween","AutoRow","gap","RowFixed","Base","RebassButton","ButtonPrimary","altDisabledStyle","ButtonSecondary","StyledIdenticonContainer","Identicon","seed","Jazzicon","usePrevious","ref","useRef","useCopyClipboard","isCopied","setIsCopied","staticCopy","text","didCopy","copy","hide","CopyIcon","TransactionStatusText","Copy","setCopied","toCopy","CheckCircle","CopyI","TransactionWrapper","TransactionState","IconWrapper","pending","success","Transaction","hash","allTransactions","summary","receipt","Triangle","HeaderRow","UpperSection","InfoCard","AccountGroupingRow","AccountSection","YourAccount","LowerSection","AccountControl","AddressLink","CloseIcon","CloseColor","Close","WalletName","TransactionListWrapper","WalletAction","MainWalletAction","renderTransactions","transactions","AccountDetails","toggleWalletModal","pendingTransactions","confirmedTransactions","ENSName","openOptions","useContext","ThemeContext","formatConnectorName","isMetaMask","filter","getStatusIcon","showPortis","clearAllTransactionsCallback","fontSize","fontWeight","close","LinkIcon","justifyContent","stateInitialValue","modalOpen","actionsIntialValue","toggleModal","ApplicationState","createContext","ApplicationActions","ApplicationProvider","useReducer","action","dispatch","actions","useMemo","_objectWithoutPropertiesLoose","excluded","sourceKeys","is","arr","isArray","obj","fun","str","num","und","nul","Set","equ","merge","lowercase","object","element","useForceUpdate","_useState","forceUpdate","v","withDefault","defaultValue","toArray","callProp","getForwardProps","to","from","config","onStart","onRest","onFrame","reset","reverse","force","immediate","delay","attach","destroyed","interpolateTo","lazy","forward","handleRef","Animated","payload","getAnimatedValue","getValue","getPayload","detach","getChildren","addChild","child","removeChild","index","splice","AnimatedArray","AnimatedObject","values","s","animated","applyAnimatedValues","injectApplyAnimatedValues","transform","colorNames","injectColorNames","names","requestFrame","cb","requestAnimationFrame","interpolation","injectStringInterpolator","now","animatedApi","node","createAnimatedStyle","injectCreateAnimatedStyle","factory","AnimatedProps","update","style","isFunctionComponent","val","Component","createAnimatedComponent","AnimatedComponent","forwardRef","mounted","propsAnimated","attachProps","oldPropsAnimated","didUpdate","useImperativeHandle","_getValue","scrollTop","scrollLeft","animatedProps","refFn","childRef","createElement","controllers","time","controller","isActive","configIdx","configs","endOfAnimation","lastTime","valIdx","animatedValues","animation","done","fromValues","toValues","position","lastPosition","isAnimated","velocity","initialVelocity","setValue","duration","easing","startTime","decay","exp","lastVelocity","numSteps","floor","tension","damping","friction","acceleration","mass","isOvershooting","clamp","isVelocity","precision","isDisplacement","delete","stop","start","add","createInterpolator","range","output","extrapolate","outputRange","inputRange","extrapolateLeft","extrapolateRight","t","input","findRange","interpolate","inputMin","inputMax","outputMin","outputMax","Infinity","AnimatedInterpolation","parents","calc","updateConfig","addAnimatedStyles","styles","AnimatedValue","_value","animatedStyles","startPosition","flush","animatedStyle","clearStyles","clear","AnimatedValueArray","n","G","Controller","idle","hasChanged","guid","local","merged","animations","interpolations","listeners","queue","localQueue","getValues","_ref","_ref$delay","ops","entries","_ref2","entry","previous","sort","diff","onEnd","_ref3","_ref3$from","_ref3$to","_ref4","finished","async","runAsync","pause","_ref5","fresh","r","last","_this$props","_this$props$from","_this$props$to","_this$props$config","_ref6","_ref7","isNumber","isString","startsWith","test","isInterpolation","fromValue","toValue","toConfig","parent","interpolation$$1","newValue","currentValue","isFirst","some","currentValueDiffersFromGoal","hasNewGoal","hasNewConfig","prev","destroy","useSprings","ctrl","isFn","_useMemo","fill","_","newProps","updateCtrl","updateProps","propValues","useSpring","_useSprings","ENTER","LEAVE","UPDATE","mapKeys","items","String","_props$keys","useTransition","keyTransform","_get","_get$lazy","unique","_get$reset","enter","leave","onDestroyed","_onRest","extra","first","deleted","transitions","prevProps","paused","instances","diffItems","changed","transition","slot","trail","cleanUp","curInstances","filterKey","_ref8","_get2","initial","_get2$trail","_get2$order","order","_get3","_keys","_items","currentKeys","currentSet","nextSet","added","removed","originalKey","updated","changeType","shift","find","keyIndex","unshift","left","right","out","_ref9","pos","findIndex","AnimatedStyle","transparent","burntsienna","NUMBER","PERCENTAGE","parts","join","RegExp","hex3","hex4","hex6","hex8","normalizeColor","parse255","parse1","parse360","parsePercentage","hue2rgb","q","h","l","g","int","colorToRgba","int32Color","stringShapeRegex","colorRegex","colorNamesRegex","createStringInterpolator","rangeValue","outputRanges","number","p1","p2","p3","p4","isUnitlessNumber","animationIterationCount","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","columns","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridRow","gridRowEnd","gridRowSpan","gridRowStart","gridColumn","gridColumnEnd","gridColumnSpan","gridColumnStart","lineClamp","lineHeight","opacity","orphans","tabSize","widows","zIndex","zoom","fillOpacity","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth","prefixKey","charAt","toUpperCase","prefixes","prop","dangerousStyleValue","isCustomProperty","trim","attributeCache","nodeType","setAttribute","attributes","nodeName","parentNode","textContent","styleName","styleValue","setProperty","dashCase","getAttribute","domElements","extendedAnimated","addV","v1","v2","subV","calculateDistance","movement","calculateAllGeometry","dl","direction","distance","calculateAllKinematics","dt","beta","velocities","sign","x","AnimatedDialogOverlay","DialogOverlay","StyledDialogOverlay","AnimatedDialogContent","DialogContent","StyledDialogContent","minHeight","maxHeight","isOpen","Modal","onDismiss","initialFocusRef","fadeTransition","y","useGesture","onDrag","down","OptionCard","OptionCardLeft","OptionCardClickable","clickable","GreenCircle","CircleWrapper","HeaderText","SubHeader","Option","onClick","header","subheader","icon","content","PendingSection","StyledLoader","LoadingMessage","ErrorGroup","ErrorButton","LoadingWrapper","PendingView","setPendingError","tryActivation","isMetamask","option","ContentWrapper","Blurb","OptionGrid","HoverText","WALLET_VIEWS","OPTIONS","OPTIONS_SECONDARY","ACCOUNT","PENDING","WalletModal","walletView","setWalletView","pendingWallet","setPendingWallet","pendingError","previousAccount","activePrevious","connectorPrevious","walletConnectProvider","wc","uri","UnsupportedChainIdError","getOptions","web3","getModalContent","Web3StatusGeneric","Web3StatusError","Web3StatusConnect","faded","Web3StatusConnected","NetworkIcon","Activity","newTransactionsFirst","StatusIcon","Web3StatusInner","sortedRecentTransactions","txs","hasPendingTransactions","Web3Status","confirmed","Card","YellowCard","HeaderFrame","HeaderControls","HeaderElement","AccountElement","HideSmall","NetworkCard","BalanceText","NETWORK_LABELS","GRLI","Header","userEthBalance","toSignificant","pointerEvents","AppWrapper","HeaderWrapper","BodyWrapper","Marginer","Layout","ErrorBoundaryWeb3ProviderNetwork","hasError","Web3ProviderNetwork","createWeb3ReactRoot","Wallet","StrictMode","Web3ReactProvider"],"mappings":"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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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"}